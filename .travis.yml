language: php

php:
  - 5.4
  - 7.0
  - hhvm

env:
  matrix:
    - RUN=lint
    - RUN=test

matrix:
  fast_finish: true

sudo: false

addons:
  apt:
    packages:
      - nginx
      - realpath
  hosts:
    - vanilla.test

cache:
  - apt

install:
  - composer install -o
  - if [ $RUN != 'lint' ]; then tests/travis/nginx/install-nginx.sh; fi

script:
  - tests/run-tests.sh