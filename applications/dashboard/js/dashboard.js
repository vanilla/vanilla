(()=>{var __webpack_exports__={};(()=>{(function($,window,document,undefined){"use strict";window.Lithe=window.Lithe||{openClass:"is-open",closedClass:"is-closed",activeClass:"active",lastOpen:$("is-open"),clear:function(){if(Lithe.lastOpen!==undefined){Lithe.close(Lithe.lastOpen,Lithe.lastToggle)}},open:function($el,$toggle,callback){var self=this;self.clear();self.lastOpen=$el;self.lastToggle=$toggle||undefined;$el.addClass(self.openClass).removeClass(self.closedClass);if($toggle!==undefined)Lithe.activate($toggle);if(callback){callback()}else if(self.lastOpen.data("openCallback")){self.lastOpen.data("openCallback")()}self.lastOpen.data("openCallback",undefined)},close:function($el,$toggle,callback){var self=this;$el.addClass(self.closedClass).removeClass(self.openClass);if($toggle!==undefined)Lithe.deactivate($toggle);if(callback){callback()}else if(self.lastOpen.data("closeCallback")){self.lastOpen.data("closeCallback")()}self.lastOpen.data("closeCallback",undefined)},activate:function($el){$el.addClass(this.activeClass)},deactivate:function($el){$el.removeClass(this.activeClass)},toggle:function($el,$toggle,open,close){var self=this;if(!$el.length)return;if($el.hasClass(self.openClass)){self.close($el,$toggle,close)}else{self.open($el,$toggle,open)}self.lastOpen.data("closeCallback",close);self.lastOpen.data("openCallback",open)}};$(document).on("click",Lithe.clear)})(jQuery,window,document)})();(()=>{(function($,window,document,undefined){"use strict";Lithe.Drawer=function(element,options){var self=this;self.element=element;self.options={toggle:undefined,container:undefined,content:undefined,classes:{show:"drawer-show",hide:"drawer-hide"}};if(options){jQuery.extend(self.options,options)}self._enable()};Lithe.Drawer.prototype={_destroy:function(){var self=this;self._disable();jQuery(self.element).removeData("litheDrawer")},option:function(key,value){var self,options;self=this;options=self.options;self._disable();if(key&&value==="undefined"){return options[key]}if(jQuery.isPlainObject(key)){options=jQuery.extend(true,options,key)}else{options[key]=value}self._enable();return self},_enable:function(){var self,options;self=this;options=self.options;jQuery(document).on("click",options.toggle,(function(e){e.preventDefault();self.toggle()})).on("click","."+options.classes.show+" "+options.content,(function(e){e.preventDefault();e.stopPropagation();self.hide()}))},_disable:function(){var self,options;self=this;options=self.options;jQuery(document).off("click",options.toggle).off("click",options.content)},show:function(){var self,options;self=this;options=self.options;jQuery(options.container).addClass(options.classes.show);jQuery(options.container).removeClass(options.classes.hide);jQuery(self.element).trigger("drawer.show")},hide:function(){var self,options;self=this;options=self.options;jQuery(options.container).addClass(options.classes.hide);jQuery(options.container).removeClass(options.classes.show);jQuery(self.element).trigger("drawer.hide")},toggle:function(){var self,options;self=this;options=self.options;if(jQuery(options.container).hasClass(options.classes.show)){self.hide()}else{self.show()}}};$.fn.drawer=function(options){return this.each((function(){if($.data(this,"drawer")===undefined){$.data(this,"drawer",new Lithe.Drawer(this,options))}}))}})(jQuery,window,document)})();(()=>{window.DashboardModal=function(){var DashboardModal=function($trigger,settings){this.id=Math.random().toString(36).substr(2,9);this.setupTrigger($trigger);this.addModalToDom();this.settings={};this.defaultContent.closeIcon=dashboardSymbol("close");$.extend(true,this.settings,this.defaultSettings,settings,$trigger.data());this.trigger=$trigger;this.target=$trigger.attr("href");this.addEventListeners();this.start()};DashboardModal.prototype={activeModal:undefined,defaultSettings:{httpmethod:"get",afterSuccess:function(json,sender){},reloadPageOnSave:true,modalType:"regular"},id:"",defaultContent:{cssClass:"",title:"",footer:"",body:"",closeIcon:"",form:{open:"",close:""}},target:"",trigger:{},modalHtml:'         <div class="modal-dialog {cssClass}" role="document">             <div class="modal-content">                 <div class="modal-header js-modal-fixed">                     <h4 id="modalTitle" class="modal-title">{title}</h4>                     <button type="button" class="btn-icon modal-close close" data-dismiss="modal" aria-label="Close">                         {closeIcon}                     </button>                 </div>                 {form.open}                 <div class="modal-body">{body}</div>                 <div class="modal-footer js-modal-fixed">{footer}</div>                 {form.close}             </div>         </div>',modalHtmlNoHeader:'         <div class="modal-dialog modal-no-header {cssClass}" role="document">             <h4 id="modalTitle" class="modal-title hidden">{title}</h4>             <div class="modal-content">                 <div class="modal-body">{body}</div>                 <button type="button" class="btn-icon modal-close close" data-dismiss="modal" aria-label="Close">                     {closeIcon}                 </button>             </div>         </div>',modalShell:'<div class="modal fade" id="{id}" tabindex="-1" role="dialog" aria-hidden="false" aria-labelledby="modalTitle"></div>',start:function(){$("#"+this.id).modal("show").focus();if(this.settings.modalType==="confirm"){this.renderConfirmModal()}else{this.renderModal()}},addModalToDom:function(){var newModalContainer=document.getElementById("modals");var modal=document.createElement("div");document.body.insertBefore(modal,newModalContainer);modal.outerHTML=this.modalShell.replace("{id}",this.id)},setupTrigger:function($trigger){$trigger.attr("data-target","#"+this.id);$trigger.attr("data-modal-id",this.id)},addEventListeners:function(){var self=this;$("#"+self.id).on("shown.bs.modal",(function(){self.handleForm($("#"+self.id))}));$("#"+self.id).on("hidden.bs.modal",(function(){$(this).remove()}));$("#"+self.id).on("click",".js-ok",(function(){self.handleConfirm(this)}));$("#"+self.id).on("click",".js-cancel",(function(){$("#"+self.id).modal("hide")}))},getDefaultConfirmContent:function(){var confirmHeading=gdn.definition("ConfirmHeading","Confirm");var confirmText=gdn.definition("ConfirmText","Are you sure you want to do that?");var ok=gdn.definition("Okay","Okay");var cancel=gdn.definition("Cancel","Cancel");var footer='<button class="btn btn-secondary btn-cancel js-cancel">'+cancel+"</button>";footer+='<button class="btn btn-primary btn-ok js-ok">'+ok+"</button>";return{title:confirmHeading,footer,body:confirmText,cssClass:"modal-sm modal-confirm"}},renderConfirmModal:function(){var self=this;$("#"+self.id).htmlTrigger(self.addContentToTemplate(self.getDefaultConfirmContent()))},renderModal:function(){var self=this;var ajaxData={DeliveryType:"VIEW",DeliveryMethod:"JSON"};$.ajax({method:"GET",url:self.target,data:ajaxData,dataType:"json",error:function(xhr){gdn.informError(xhr);$("#"+self.id).modal("hide")},success:function(json){var body=json.Data;var content=self.parseBody(body);$("#"+self.id).htmlTrigger(self.addContentToTemplate(content))}})},addContentToTemplate:function(parsedContent){var content={};$.extend(true,content,this.defaultContent);$.extend(true,parsedContent,this.settings);$.extend(true,content,parsedContent);var html="";if(this.settings.modalType==="noheader"){html=this.modalHtmlNoHeader}else{html=this.modalHtml}let cssClass=this.settings.fullHeight?content.cssClass+" modal-full-height":content.cssClass;html=html.replace("{body}",content.body);html=html.replace("{cssClass}",cssClass);html=html.replace("{title}",content.title);html=html.replace("{closeIcon}",content.closeIcon);html=html.replace("{footer}",content.footer);html=html.replace("{form.open}",content.form.open);html=html.replace("{form.close}",content.form.close);return html},parseBody:function(body){var title="";var footer="";var formTag="";var formCloseTag="";var $elem=$("<div />").append($($.parseHTML(body+"")));var $title=$elem.find("h1");var $footer=$elem.find(".Buttons, .form-footer, .js-modal-footer");var $form=$elem.find("form");if(this.settings.modalType!=="noheader"&&$title.length!==0){title=$title.html();if($elem.find(".header-block").length!==0){$elem.find(".header-block").remove()}else{$title.remove()}body=$elem.html()}if($footer.length!==0){footer=$footer.html();$footer.remove();body=$elem.html()}if($form.length!==0){formCloseTag="</form>";var formHtml=$form.prop("outerHTML");formTag=formHtml.split(">")[0]+=">";var formInner=$form.html();body=body.replace(formHtml,formInner)}return{title,footer,body,form:{open:formTag,close:formCloseTag}}},handleForm:function(element){var self=this;$("form",element).ajaxForm({data:{DeliveryType:"VIEW",DeliveryMethod:"JSON"},dataType:"json",success:function(json,sender){self.settings.afterSuccess(json,sender);gdn.inform(json);gdn.processTargets(json.Targets);if(json.FormSaved===true){self.handleSuccess(json)}else{var body=json.Data;var content=self.parseBody(body);$("#"+self.id+" .modal-body").htmlTrigger(content.body);$("#"+self.id+" .modal-body").scrollTop(0)}},error:function(xhr){gdn.informError(xhr);$("#"+self.id).modal("hide")}})},handleConfirm:function(){var self=this;if(self.settings.followLink){document.location.replace(self.target)}else{var ajaxData={DeliveryType:"VIEW",DeliveryMethod:"JSON"};if(self.settings.httpmethod==="post"){ajaxData.TransientKey=gdn.definition("TransientKey")}$.ajax({method:self.settings.httpmethod==="post"?"POST":"GET",url:self.target,data:ajaxData,dataType:"json",error:function(xhr){gdn.informError(xhr);$("#"+self.id).modal("hide")},success:function(json,sender){self.settings.afterSuccess(json,sender);gdn.inform(json);gdn.processTargets(json.Targets);self.handleSuccess(json)}})}},handleSuccess:function(json){if(json.RedirectTo){setTimeout((function(){document.location.replace(json.RedirectTo)}),300)}else{$("#"+this.id).modal("hide");if(this.settings.reloadPageOnSave&&json.Targets.length===0){document.location.replace(window.location.href)}}}};return DashboardModal}()})();(()=>{$(document).on("contentLoad",(function(e){$(e.target).on("click",".spoiler-trigger",(function(e){e.stopPropagation();e.preventDefault();$(this).closest(".spoiler").addClass("spoiler-visible").find(".form-control").focus().select()}))}))})();(()=>{"use strict";
/*!
 * Dashboard v3 - A new dashboard design for Vanilla.
 *
 * @author    Becky Van Bussel <beckyvanbussel@gmail.com>
 * @copyright 2016 (c) Becky Van Bussel
 * @license   MIT
 */(function($){var codeInput={start:function(element){$(".js-code-input",element).each((function(){codeInput.makeAceTextArea($(this))}))},init:function($textarea,mode,height){if(!$textarea.length){return}$textarea.addClass("js-code-input");$textarea.data("code-input",{mode,height})},makeAceTextArea:function($textarea){var mode=$textarea.data("code-input").mode;var height=$textarea.data("code-input").height;var modes=["html","css"];if(modes.indexOf(mode)===-1){mode="html"}if(!height){height=400}var formID=$textarea.attr("id");$textarea.before('<div id="editor-'+formID+'" style="height: '+height+'px;"></div>');$textarea.hide();var editor=ace.edit("editor-"+formID);editor.$blockScrolling=Infinity;editor.getSession().setMode("ace/mode/"+mode);editor.getSession().setUseWorker(false);editor.setTheme("ace/theme/clouds");editor.getSession().setValue($textarea.val());editor.getSession().on("change",(function(){$textarea.val(editor.getSession().getValue())}))}};function aceInit(element){codeInput.init($("#Form_CustomHtml",element),"html",$(window).height()-100);codeInput.init($("#Form_CustomCSS",element),"css",$(window).height()-100);codeInput.start(element)}function prettyPrintInit(element){$("#Pockets td:nth-child(4)",element).each((function(){var html=$(this).html();$(this).html('<pre class="prettyprint lang-html" style="white-space: pre-wrap;">'+html+"</pre>")}));$("pre",element).addClass("prettyprint lang-html");prettyPrint()}function dropInit(element){$(".js-drop",element).each((function(){var $trigger=$(this);var contentSelector=$trigger.data("contentId");var triggerSelector=$trigger.attr("id");var html=$("#"+contentSelector).html();if(triggerSelector===undefined){console.error("Drop trigger must be unique and have an id attribute set.");return}if(html===undefined){console.error("The drop content needs to be configured properly with the correct id attribute.");return}new Drop({target:document.querySelector("#"+triggerSelector),content:html,constrainToWindow:true,remove:true,tetherOptions:{attachment:"top right",targetAttachment:"bottom right",offset:"-10 0"}}).on("open",(function(){$(this.content).trigger("contentLoad")}))}))}function collapseInit(element){var $active=$(".js-nav-collapsible a.active",element);var $collapsible=$active.parents(".collapse");$collapsible.addClass("in");$("a[href=#"+$collapsible.attr("id")+"]").attr("aria-expanded","true");$("a[href=#"+$collapsible.attr("id")+"]").removeClass("collapsed")}function clipboardInit(){var clipboard=new Clipboard(".btn-copy");clipboard.on("success",(function(e){var tooltip=$(e.trigger).tooltip({show:true,placement:"bottom",title:$(e.trigger).attr("data-success-text"),trigger:"manual"});tooltip.tooltip("show");setTimeout((function(){tooltip.tooltip("hide")}),"2000")}));clipboard.on("error",(function(e){console.log(e)}))}function drawerInit(element){var drawer=".js-drawer";var drawerToggle=".js-drawer-toggle";var content=".main-row .dashboard-main";var container=".main-container";$(drawer,element).drawer({toggle:drawerToggle,container,content});$(drawerToggle).on("click",(function(){window.scrollTo(0,0)}));$(window).resize((function(){if($(drawerToggle,element).css("display")!=="none"){$(container,element).addClass("drawer-hide");$(container,element).removeClass("drawer-show");$(drawer,element).trigger("drawer.hide")}}))}function icheckInit(element){var ignores=[".label-selector-input",".toggle-input",".avatar-delete-input",".jcrop-keymgr",".checkbox-painted-wrapper input",".radio-painted-wrapper input",".exclude-icheck"];var selector="input";ignores.forEach((function(element){selector+=":not("+element+")"}));$(selector,element).iCheck({aria:true}).on("ifChanged",(function(){$(this).trigger("change");var evt=document.createEvent("HTMLEvents");evt.initEvent("change",false,true);$(this)[0].dispatchEvent(evt)}));$(selector,element).on("inputChecked",(function(){$(this).iCheck("check")}));$(selector,element).on("inputDisabled",(function(){$(this).iCheck("disable")}))}function expanderInit(element){$(".FeedDescription",element).expander({slicePoint:65,normalizeWhitespace:true,expandText:gdn.definition("ExpandText","more"),userCollapseText:gdn.definition("CollapseText","less")});$(".InformMessageBody, .toaster-body",element).expander({slicePoint:60,normalizeWhitespace:true,expandText:gdn.definition("ExpandText","more"),userCollapseText:gdn.definition("","")})}function modalInit(){if(typeof DashboardModal.activeModal==="object"){DashboardModal.activeModal.handleForm()}}function responsiveTablesInit(element){var containerSelector="#main-row .dashboard-main";if(typeof DashboardModal.activeModal==="object"){containerSelector="#"+DashboardModal.activeModal.id+" .modal-body"}$(".js-tj",element).tablejenga({container:containerSelector})}function foggyInit(element){var $foggy=$(".js-foggy",element);if($foggy.data("isFoggy")){$foggy.trigger("foggyOn")}}function checkallInit(element){$(".js-check-all",element).checkall({target:".js-check-me"})}function dropDownInit(element){$(".dropdown",element).each((function(){var $dropdown=$(this);var offset=$dropdown.offset();var menuHeight=$(".dropdown-menu",$dropdown).height();var toggleHeight=$(".dropdown-toggle",$dropdown).height();var documentHeight=$(document).height();var padding=6;if(menuHeight+toggleHeight+offset.top+padding>=documentHeight){$dropdown.addClass("dropup")}}))}function buttonGroupInit(element){buttonGroup(element)}$(document).on("contentLoad",(function(e){prettyPrintInit(e.target);aceInit(e.target);collapseInit(e.target);dropInit(e.target);modalInit();clipboardInit();drawerInit(e.target);icheckInit(e.target);expanderInit(e.target);responsiveTablesInit(e.target);foggyInit(e.target);checkallInit(e.target);dropDownInit(e.target);buttonGroupInit(e.target)}));function readUrl(input){if(input.files&&input.files[0]){var $preview=$(input).parents(".js-image-preview-form-group").find(".js-image-preview-new .js-image-preview");var reader=new FileReader;reader.onload=function(e){if(e.target.result.startsWith("data:image")){$preview.attr("src",e.target.result)}};reader.readAsDataURL(input.files[0])}}$(document).on("change",".js-image-upload",(function(){$(this).parents(".js-image-preview-form-group").find(".js-image-preview-new").removeClass("hidden");$(this).parents(".js-image-preview-form-group").find(".js-image-preview-old").addClass("hidden");readUrl(this)}));$(document).on("click",".js-remove-image-preview",(function(e){e.preventDefault();var $parent=$(this).parents(".js-image-preview-form-group");$parent.find(".js-image-preview-old").removeClass("hidden");$parent.find(".js-image-preview-new").addClass("hidden").find(".js-image-preview").attr("src","");var $input=$parent.find(".js-image-upload");var $inputFileName=$parent.find(".file-upload-choose");$input.val("");$input.removeAttr("value");$inputFileName.html($inputFileName.data("placeholder"))}));$(document).on("shown.bs.collapse",(function(){if($(".main-container").hasClass("drawer-show")){$(".js-drawer").trigger("drawer.show")}}));$(document).on("hidden.bs.collapse",(function(){if($(".main-container").hasClass("drawer-show")){$(".js-drawer").trigger("drawer.show")}}));$(document).on("change",".js-file-upload",(function(){var filename=$(this).val();if(filename.substring(3,11)==="fakepath"){filename=filename.substring(12)}if(filename){$(this).parent().find(".file-upload-choose").text(filename)}}));$(document).on("click",".js-modal",(function(e){e.preventDefault();var fullHeight=$(this).hasClass("js-full-height-modal");DashboardModal.activeModal=new DashboardModal($(this),{fullHeight})}));$(document).on("click",".js-modal-confirm",(function(e){e.preventDefault();var followLink=$(this).data("followLink")==="true";DashboardModal.activeModal=new DashboardModal($(this),{httpmethod:"post",modalType:"confirm",followLink})}));$(document).on("click",".js-modal-close",(function(){if(typeof DashboardModal.activeModal==="object"){$("#"+DashboardModal.activeModal.id).modal("hide")}}));$(document).on("foggyOn",(function(e){var $target=$(e.target);$target.attr("aria-hidden","true");$target.data("isFoggy","true");$target.addClass("foggy");$target.find(":input").each((function(){if($(this).prop("disabled")){$(this).data("foggy-disabled","true")}else{$(this).prop("disabled",true)}}))}));$(document).on("foggyOff",(function(e){var $target=$(e.target);$target.attr("aria-hidden","false");$target.data("isFoggy","false");$target.removeClass("foggy");$target.find(":input").each((function(){if(!$(this).data("foggy-disabled")){$(this).prop("disabled",false)}}))}));$(document).on("click",".js-save-pref-collapse",(function(){var key=$(this).data("key");var collapsed=!$(this).hasClass("collapsed");var ajaxData={DeliveryType:"VIEW",DeliveryMethod:"JSON"};ajaxData.TransientKey=gdn.definition("TransientKey");ajaxData.key=key;ajaxData.collapsed=collapsed;$.ajax({method:"POST",url:gdn.url("dashboard/userpreferencecollapse"),data:ajaxData,dataType:"json"})}));$(document).on("click",".js-save-pref-section-landing-page",(function(){var url=$(this).data("linkPath");var section=$(this).data("section");var ajaxData={DeliveryType:"VIEW",DeliveryMethod:"JSON"};ajaxData.TransientKey=gdn.definition("TransientKey");ajaxData.url=url;ajaxData.section=section;$.ajax({method:"POST",url:gdn.url("dashboard/userpreferencesectionlandingpage"),data:ajaxData,dataType:"json"})}));$(document).on("click",".js-save-pref-dashboard-landing-page",(function(){var section=$(this).data("section");var ajaxData={DeliveryType:"VIEW",DeliveryMethod:"JSON"};ajaxData.TransientKey=gdn.definition("TransientKey");ajaxData.section=section;$.ajax({method:"POST",url:gdn.url("dashboard/userpreferencedashboardlandingpage"),data:ajaxData,dataType:"json"})}));$(window).scroll((function(){var $toolbar=$(".js-toolbar-sticky");var cssClass="is-stuck";if($(this).scrollTop()>$("header.navbar").height()){$toolbar.addClass(cssClass).outerWidth($(".dashboard-main").outerWidth()-2).next("*").css("margin-top",$toolbar.outerHeight())}else{$toolbar.removeClass(cssClass).outerWidth("").next("*").css("margin-top","")}}));$(window).resize((function(){var $toolbar=$(".js-toolbar-sticky.is-stuck");$toolbar.outerWidth($(".dashboard-main").outerWidth()-2)}))})(jQuery);window.dashboardSymbol=function(name,alt,cssClass){if(alt){alt='alt="'+alt+'" '}else{alt=""}if(!cssClass){cssClass=""}return"<svg "+alt+' class="icon '+cssClass+"icon-svg-"+name+'" viewBox="0 0 17 17"><use xlink:href="#'+name+'" /></svg>'}})()})();