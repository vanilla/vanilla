(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{125:function(t,e,r){"use strict";r.r(e);var n=r(1),o=r(0),a=r.n(o),i=r(386),s=r(19),c=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.componentDidMount=function(){document.title=this.getHeadTitle(this.props)},e.prototype.componentWillUpdate=function(t){document.title=this.getHeadTitle(t)},e.prototype.render=function(){return this.props.children?this.props.children:a.a.createElement("h1",null,this.props.title)},e.prototype.getHeadTitle=function(t){var e=Object(n.g)("ui.siteName",""),r=[];return t.title&&t.title.length>0&&r.push(t.title),e.length>0&&e!==t.title&&r.push(e),r.join(" - ")},e}(a.a.Component),l=r(8),p=r(385),d=r(390),f=r(13),h=r.n(f),m=r(12),b=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),y=function(t){function e(e){var r=t.call(this,e)||this;return r.state={id:Object(m.b)(e,"errorMessages")},r}return b(e,t),e.prototype.render=function(){var t=this.props.errors;if(t&&t.length>0){var e=h()("inputBlock-errors",this.props.className),r=t.map(function(t,e){return a.a.createElement("span",{key:e,className:"inputBlock-error"},t.message)});return a.a.createElement("span",{id:this.state.id,className:e},r)}return null},e}(a.a.Component),v=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),w=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},g=function(t){function e(e){var r=t.call(this,e)||this;return r.id=Object(m.a)(e,"Paragraph"),r}return v(e,t),e.prototype.render=function(){if(this.props.content){var t=h()({isError:this.props.isError},this.props.className),e={};return this.props.isError&&(e={"aria-live":"assertive",role:"alert"}),a.a.createElement("p",w({id:this.id,className:t},e),this.props.content)}return null},e.defaultProps={id:!1},e}(a.a.Component),O=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),_=function(t){function e(e){var r=t.call(this,e)||this;return r.inputRef=a.a.createRef(),r.onChange=function(t){r.props.onChange&&r.props.onChange(t)},r.state={id:Object(m.b)(e,"inputText")},r}return O(e,t),e.prototype.render=function(){var t,e=h()("inputBlock",this.props.className),r=h()("inputBlock-inputText","InputBox","inputText",this.props.inputClassNames),n=!!this.props.errors&&this.props.errors.length>0;return n&&(t=this.errorID),a.a.createElement("label",{className:e},a.a.createElement("span",{id:this.labelID,className:"inputBlock-labelAndDescription"},a.a.createElement("span",{className:"inputBlock-labelText"},this.props.label),a.a.createElement(g,{id:!1,className:"inputBlock-labelNote",content:this.props.labelNote})),a.a.createElement("span",{className:"inputBlock-inputWrap"},a.a.createElement("input",{id:this.state.id,className:r,defaultValue:this.props.defaultValue,value:this.props.value,type:this.props.type,disabled:this.props.disabled,required:this.props.required,placeholder:this.props.placeholder,"aria-invalid":n,"aria-describedby":t,"aria-labelledby":this.labelID,onChange:this.onChange,ref:this.inputRef})),a.a.createElement(y,{id:this.errorID,errors:this.props.errors}))},e.prototype.componentDidMount=function(){this.inputRef.current.addEventListener("change",this.onChange)},e.prototype.componentWillUnount=function(){this.inputRef.current.removeEventListener("change",this.onChange)},Object.defineProperty(e.prototype,"value",{get:function(){return this.inputRef.current?this.inputRef.current.value:""},set:function(t){if(!this.inputRef.current)throw new Error("inputDom does not exist");this.inputRef.current.value=t},enumerable:!0,configurable:!0}),e.prototype.focus=function(){this.inputRef.current.focus()},e.prototype.select=function(){this.inputRef.current.select()},Object.defineProperty(e.prototype,"labelID",{get:function(){return this.state.id+"-label"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errorID",{get:function(){return this.state.id+"-errors"},enumerable:!0,configurable:!0}),e.defaultProps={disabled:!1,type:"text",errors:[]},e}(a.a.Component),E=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),j=function(t){function e(e){var r=t.call(this,e)||this;return r.state={id:Object(m.a)(e,"checkbox")},r}return E(e,t),Object.defineProperty(e.prototype,"labelID",{get:function(){return this.state.id+"-label"},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t=h()("checkbox",this.props.className);return a.a.createElement("label",{id:this.state.id,className:t},a.a.createElement("input",{className:"checkbox-input","aria-labelledby":this.labelID,type:"checkbox",onChange:this.props.onChange,checked:this.props.checked}),a.a.createElement("span",{className:"checkbox-box","aria-hidden":"true"},a.a.createElement("span",{className:"checkbox-state"},a.a.createElement("svg",{className:"checkbox-icon checkbox-checkIcon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 10 10"},a.a.createElement("title",null,Object(n.m)("✓")),a.a.createElement("path",{fill:"currentColor",d:"M10,2.7c0-0.2-0.1-0.3-0.2-0.4L8.9,1.3c-0.2-0.2-0.6-0.2-0.9,0L3.8,5.6L1.9,3.7c-0.2-0.2-0.6-0.2-0.9,0L0.2,4.6c-0.2,0.2-0.2,0.6,0,0.9l3.2,3.2c0.2,0.2,0.6,0.2,0.9,0l5.5-5.5C9.9,3,10,2.8,10,2.7z"})))),a.a.createElement("span",{id:this.labelID,className:"checkbox-label"},this.props.label))},e.defaultProps={disabled:!1,id:!1},e}(a.a.Component),C=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),S=function(t){function e(e){var r=t.call(this,e)||this;return r.state={id:Object(m.a)(e,e.prefix)},r}return C(e,t),e.prototype.render=function(){var t=h()("button","Button",this.props.className);return a.a.createElement("button",{id:this.state.id,disabled:this.props.disabled,type:this.props.type,className:t},this.props.content)},e.defaultProps={id:!1,disabled:!1,type:"button",prefix:"button"},e}(a.a.Component),P=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),N=function(t){function e(e){return t.call(this,e)||this}return P(e,t),e.prototype.render=function(){var t=h()("Primary","buttonCTA","BigButton","button-fullWidth",this.props.className);return a.a.createElement(S,{id:this.props.id,disabled:this.props.disabled,type:"submit",content:this.props.content,className:t,prefix:"submitButton"},this.props.content)},e.defaultProps={disabled:!1},e}(a.a.Component),k=r(11),x="POST_AUTHENTICATE_PASSWORD_REQUEST",T="POST_AUTHENTICATE_PASSWORD_ERROR",A="POST_AUTHENTICATE_PASSWORD_SUCCESS",I=Object(k.c)(x,A,T,{},{}),L=function(t){return function(e){e(I.request(t)),l.a.post("/authenticate/password",t).then(function(r){e(I.success(r,t));var o=new URLSearchParams;window.location.href=Object(n.f)(o.get("target")||"/")}).catch(function(t){var r=t.response?t.response.data:t;e(I.error(r))})}},R=r(2),D=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),U=function(t){function e(e){var r=t.call(this,e)||this;return r.usernameInput=a.a.createRef(),r.passwordInput=a.a.createRef(),r.handleCheckBoxChange=function(t){r.setState({rememberMe:t.target.checked||!1})},r.handleUsernameChange=function(t){var e=t.target.value;r.setState({username:e})},r.handlePasswordChange=function(t){var e=t.target.value;r.setState({password:e})},r.handleSubmit=function(t){t.preventDefault();var e=r.state,n=e.username,o=e.password,a=e.rememberMe;r.props.authenticate({username:n,password:o,persist:a})},r.state={id:Object(m.b)(e,"passwordForm"),rememberMe:!0,username:"",password:""},r}return D(e,t),e.prototype.render=function(){var t,e=Object(l.c)(this.props.passwordState,["username","password"]);return e&&(t=this.formDescriptionID),a.a.createElement("form",{id:this.state.id,"aria-describedby":t,className:"passwordForm",method:"post",onSubmit:this.handleSubmit,noValidate:!0},a.a.createElement(g,{id:this.formDescriptionID,className:"authenticateUser-paragraph",content:e,isError:!0}),a.a.createElement(_,{label:Object(n.m)("Email/Username"),required:!0,disabled:!this.allowEdit,errors:Object(l.b)(this.props.passwordState,"username"),defaultValue:this.props.defaultUsername||"",ref:this.usernameInput,onChange:this.handleUsernameChange,value:this.state.username}),a.a.createElement(_,{label:Object(n.m)("Password"),required:!0,disabled:!this.allowEdit,errors:Object(l.b)(this.props.passwordState,"password"),type:"password",ref:this.passwordInput,onChange:this.handlePasswordChange,value:this.state.password}),a.a.createElement("div",{className:"inputBlock inputBlock-tighter"},a.a.createElement("div",{className:"rememberMeAndForgot"},a.a.createElement("span",{className:"rememberMeAndForgot-rememberMe"},a.a.createElement(j,{label:Object(n.m)("Keep me signed in"),onChange:this.handleCheckBoxChange,checked:this.state.rememberMe})),a.a.createElement("span",{className:"rememberMeAndForgot-forgot"},a.a.createElement(p.a,{to:"/authenticate/recoverpassword"},Object(n.m)("Forgot your password?"))))),a.a.createElement(N,{disabled:!this.allowSubmit,content:Object(n.m)("Sign In")}))},e.prototype.componentDidUpdate=function(t){this.props.passwordState!==t.passwordState&&(Object(l.b)(this.props.passwordState,"username")?this.usernameInput.current.select():Object(l.b)(this.props.passwordState,"password")?this.passwordInput.current.select():this.usernameInput.current.select())},Object.defineProperty(e.prototype,"allowEdit",{get:function(){return this.props.passwordState.status!==R.LoadStatus.LOADING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowSubmit",{get:function(){var t=this.state,e=t.username,r=t.password;return e.length>0&&r.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDescriptionID",{get:function(){return this.state.id+"-description"},enumerable:!0,configurable:!0}),e}(a.a.Component);var q=Object(s.b)(function(t){return{passwordState:t.authenticate.password}},function(t){return{authenticate:function(e){t(L(e))}}})(Object(d.a)(U)),M=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),B=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return M(e,t),e.prototype.render=function(){if(!this.props.ssoMethods||0===this.props.ssoMethods.length)return null;var t=this.props.ssoMethods.map(function(t,e){var r={backgroundColor:t.ui.backgroundColor||void 0,color:t.ui.foregroundColor||void 0};return a.a.createElement("a",{href:t.ui.url,key:e,className:"BigButton button Button button-sso button-fullWidth",style:r},a.a.createElement("span",{className:"button-ssoContents"},a.a.createElement("img",{src:t.ui.photoUrl||void 0,className:"ssoMethod-icon","aria-hidden":!0}),a.a.createElement("span",{className:"button-ssoLabel"},Object(n.m)(t.ui.buttonName)),a.a.createElement("span",{className:"ssoMethod-icon ssoMethod-iconSpacer","aria-hidden":"true"})))});return a.a.createElement("div",{className:"ssoMethods"},a.a.createElement(g,{content:Object(n.m)("Sign in with one of the following:")}),t)},e}(a.a.Component),H=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return H(e,t),e.prototype.render=function(){return this.props.visible?a.a.createElement("div",{className:"inputBlock-labelText authenticateUser-divider"},Object(n.m)("or")):null},e.defaultProps={visible:!0},e}(a.a.PureComponent),V="GET_USER_AUTHENTICATORS_REQUEST",G="GET_USER_AUTHENTICATORS_SUCCESS",W="GET_USER_AUTHENTICATORS_ERROR",F=Object(k.c)(V,G,W,{}),J=function(){return Object(k.a)("get","authenticate/authenticators",F,void 0)},Z=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),z=function(t){function e(e){var r=t.call(this,e)||this;return r.state={id:Object(m.b)(e,"SignInPage")},r}return Z(e,t),Object.defineProperty(e.prototype,"titleID",{get:function(){return this.state.id+"-pageTitle"},enumerable:!0,configurable:!0}),e.prototype.componentDidMount=function(){this.props.authenticatorState.status===R.LoadStatus.PENDING&&this.props.loadAuthenticators()},e.prototype.render=function(){var t=this.props.authenticatorState;if(t.status!==R.LoadStatus.SUCCESS)return null;var e=!1,r=t.data.filter(function(t){return"password"!==t.type||(e=!0,!1)});return o.createElement("div",{id:this.state.id,className:"authenticateUserCol"},o.createElement(u,{title:Object(n.m)("Sign In")},o.createElement("h1",{id:this.titleID,className:"isCentered"},Object(n.m)("Sign In"))),o.createElement(B,{ssoMethods:r}),o.createElement(Q,{visible:e&&r.length>0}),e&&o.createElement(q,null))},e}(o.Component);var K=Object(s.b)(function(t){return{authenticatorState:t.authenticate.authenticators}},function(t){return{loadAuthenticators:function(){t(J())}}})(z),X=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id=Object(m.c)("PasswordPage"),e}return X(e,t),Object.defineProperty(e.prototype,"titleID",{get:function(){return this.id+"-pageTitle"},enumerable:!0,configurable:!0}),e.prototype.render=function(){return o.createElement("div",{className:"authenticateUserCol"},o.createElement(u,{title:Object(n.m)("Sign In")},o.createElement("h1",{id:this.titleID,className:"isCentered"},Object(n.m)("Sign In"))),o.createElement(q,null))},e}(o.Component),$=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),tt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $(e,t),e.prototype.render=function(){return a.a.createElement("p",{className:"authenticateUser-paragraph isCentered"},Object(n.m)("Remember your password?")," ",a.a.createElement(p.a,{onClick:this.props.onClick,to:"/authenticate/signin"},Object(n.m)("Sign In")))},e}(a.a.Component),et=r(23),rt=r.n(et),nt="POST_REQUEST_PASSWORD_REQUEST",ot="POST_REQUEST_PASSWORD_ERROR",at="POST_REQUEST_PASSWORD_SUCCESS",it="AFTER_REQUEST_PASSWORD_SUCCESS_NAVIGATE",st=function(){return Object(k.b)(it)},ct=Object(k.c)(nt,at,ot,{},{}),ut=function(t){return Object(k.a)("post","users/request-password",ct,t)},lt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),pt=function(t){function e(e){var r=t.call(this,e)||this;return r.id=rt()("RecoverPasswordPage"),r.emainInput=a.a.createRef(),r.handleEmailChange=function(t){var e=t.target.value;r.setState({email:e})},r.handleSubmit=function(t){t.preventDefault();var e=r.state.email;r.props.postRequestPassword({email:e})},r.id=r.pageTitleID=r.id+"-pageTitle",r.state={email:""},r}return lt(e,t),e.prototype.render=function(){var t=a.a.createElement(u,{title:Object(n.m)("Recover Password")},a.a.createElement("h1",{id:this.pageTitleID,className:"isCentered"},Object(n.m)("Recover Password")));return this.props.requestPasswordState.status===R.LoadStatus.SUCCESS?a.a.createElement("div",{id:this.id,className:"authenticateUserCol"},t,a.a.createElement(g,{content:Object(n.m)("A message has been sent to your email address with password reset instructions."),className:"authenticateUser-paragraph"}),a.a.createElement(tt,{onClick:this.props.onNavigateAway})):a.a.createElement("div",{className:"authenticateUserCol"},t,a.a.createElement(g,{content:Object(n.m)("RecoverPasswordLabelCode","Enter your email to continue."),className:"authenticateUser-paragraph"}),a.a.createElement("form",{id:this.id,onSubmit:this.handleSubmit,"aria-labelledby":this.pageTitleID,noValidate:!0},a.a.createElement(g,{className:"authenticateUser-paragraph",content:Object(l.c)(this.props.requestPasswordState,["email"]),isError:!0}),a.a.createElement(_,{label:Object(n.m)("Email"),required:!0,disabled:!this.allowEdit,errors:Object(l.b)(this.props.requestPasswordState,"email"),value:this.state.email,onChange:this.handleEmailChange,ref:this.emainInput}),a.a.createElement(N,{disabled:!this.allowEdit||0===this.state.email.length,content:Object(n.m)("Request a new password")})),a.a.createElement(tt,null))},e.prototype.componentDidUpdate=function(t){this.props.requestPasswordState!==t.requestPasswordState&&this.props.requestPasswordState.status===R.LoadStatus.ERROR&&this.emainInput.current.select()},Object.defineProperty(e.prototype,"allowEdit",{get:function(){return this.props.requestPasswordState.status!==R.LoadStatus.LOADING},enumerable:!0,configurable:!0}),e}(a.a.Component);
/**
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */var dt=Object(s.b)(function(t){return{requestPasswordState:t.users.requestPassword}},function(t){return{postRequestPassword:function(e){t(ut(e))},onNavigateAway:function(){t(st())}}})(pt),ft=r(388),ht=r(389),mt=r(40),bt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),yt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bt(e,t),e.prototype.render=function(){return a.a.createElement("div",{className:"Center SplashInfo"},a.a.createElement(u,{title:this.title}),a.a.createElement("div",null,this.message))},Object.defineProperty(e.prototype,"title",{get:function(){return this.props.title||Object(mt.sprintf)(Object(n.m)("%s Not Found"),Object(n.m)(this.props.type))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this.props.message||Object(mt.sprintf)(Object(n.m)("The %s you were looking for could not be found."),Object(n.m)(this.props.type.toLowerCase()))},enumerable:!0,configurable:!0}),e.defaultProps={type:"Page"},e}(a.a.PureComponent),vt=r(44),wt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),gt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Ot=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wt(e,t),e.prototype.render=function(){var t=Object(n.h)().map(function(t){return a.a.createElement(t.type,gt({key:t.key||t.props.path+(t.props.exact?"!":"")},t.props))});return t.push(a.a.createElement(i.a,{key:"@not-found",component:yt})),a.a.createElement(s.a,{store:Object(vt.a)()},a.a.createElement(ft.a,{basename:Object(n.g)("context.basePath","")},a.a.createElement(ht.a,null,t)))},e}(a.a.PureComponent),_t=r(6),Et=r(21),jt=r(14),Ct=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},St={status:R.LoadStatus.PENDING};
/**
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license http://www.opensource.org/licenses/gpl-2.0.php GNU GPL v2
 */
var Pt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Nt={status:R.LoadStatus.PENDING};
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */
var kt=Object(jt.c)({authenticators:function(t,e){switch(void 0===t&&(t=St),e.type){case V:return Ct({},t,{status:R.LoadStatus.LOADING});case G:return{status:R.LoadStatus.SUCCESS,data:e.payload.data,error:void 0};case W:return Ct({},t,{status:R.LoadStatus.ERROR,error:e.payload});default:return t}},password:function(t,e){switch(void 0===t&&(t=Nt),e.type){case x:return Pt({},t,{status:R.LoadStatus.LOADING});case A:return{status:R.LoadStatus.SUCCESS,data:e.payload.data,error:void 0};case T:return Pt({},t,{status:R.LoadStatus.ERROR,error:e.payload});default:return t}}}),xt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Tt={status:R.LoadStatus.PENDING};
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */
var At=Object(jt.c)({requestPassword:function(t,e){switch(void 0===t&&(t=Tt),e.type){case nt:return xt({},t,{status:R.LoadStatus.LOADING});case at:return{status:R.LoadStatus.SUCCESS,data:e.payload.data,error:void 0};case ot:return xt({},t,{status:R.LoadStatus.ERROR,error:e.payload});case it:return Tt;default:return t}}}),It=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return It(e,t),e.prototype.componentDidMount=function(){this.props.onRenderComplete()},e}(a.a.Component),Rt=r(5),Dt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();var Ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dt(e,t),e.prototype.render=function(){var t=this.props.data,e=t.attributes,r=t.height,n=e.id,o=e.src,i=e.style;return a.a.createElement("iframe",{id:n,src:o,height:r||300,style:i,scrolling:"no"})},e}(Lt),qt=r(69),Mt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();var Bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mt(e,t),e.prototype.render=function(){var t=this.props.data,e=t.attributes,r=t.width,n=t.height,o=e.postID,i={maxWidth:r?r+"px":"100%",paddingBottom:(n||1)/(r||1)*100+"%"};if(!o)throw new Error("Giphy embed fail, the post could not be found");var s="https://giphy.com/embed/"+o;return a.a.createElement("div",{className:"embedExternal-ratio",style:i},a.a.createElement("iframe",{src:s,className:"giphy-embed embedGiphy-iframe"}))},e}(Lt),Ht=r(4),Qt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();var Vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qt(e,t),e.prototype.render=function(){var t=this.props.data,e=t.url,r=t.name,n=Object(Ht.j)(e);return a.a.createElement("a",{className:"embedImage-link",href:n||"",rel:"nofollow noopener",target:"_blank"},a.a.createElement("img",{className:"embedImage-img",src:e||"",alt:r||""}))},e}(Lt),Gt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wt=function(t,e,r,n){return new(r||(r=Promise))(function(o,a){function i(t){try{c(n.next(t))}catch(t){a(t)}}function s(t){try{c(n.throw(t))}catch(t){a(t)}}function c(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(i,s)}c((n=n.apply(t,e||[])).next())})},Ft=function(t,e){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};
/**
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */var Jt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gt(e,t),e.prototype.render=function(){var t=this.props.data.attributes,e=t.postID,r=t.isAlbum?"a/"+e:e;return a.a.createElement("blockquote",{className:"imgur-embed-pub","data-id":r})},e.prototype.componentDidMount=function(){Zt().then(this.props.onRenderComplete)},e.prototype.componentDidUpdate=function(){Zt().then(this.props.onRenderComplete)},e}(Lt);function Zt(){return Wt(this,void 0,void 0,function(){var t,e,r;return Ft(this,function(n){switch(n.label){case 0:return(t=Array.from(document.querySelectorAll(".imgur-embed-pub"))).length>0?[4,Object(_t.d)("//s.imgur.com/min/embed.js")]:[3,2];case 1:if(n.sent(),!window.imgurEmbed)throw new Error("The Imgur post failed to load");if(window.imgurEmbed.createIframe)for(e=t.length,r=0;r<e;r++)window.imgurEmbed.createIframe();else window.imgurEmbed.tasks=t.length;n.label=2;case 2:return[2]}})})}
/**
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */var zt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Kt=function(t,e,r,n){return new(r||(r=Promise))(function(o,a){function i(t){try{c(n.next(t))}catch(t){a(t)}}function s(t){try{c(n.throw(t))}catch(t){a(t)}}function c(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(i,s)}c((n=n.apply(t,e||[])).next())})},Xt=function(t,e){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};var Yt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zt(e,t),e.prototype.render=function(){var t=this.props.data,e=t.attributes,r=t.url,n=e.permaLink,o=e.versionNumber,i=e.isCaptioned;if(!t.attributes.permaLink)throw new Error("Attempted to embed a Instagram post failed link is invalid");return a.a.createElement("blockquote",{className:"instagram-media","data-instgrmPermalink":n,"data-instgrmVersion":o,"data-instgrmCaptioned":i},a.a.createElement("a",{href:r},r))},e.prototype.componentDidMount=function(){$t().then(this.props.onRenderComplete)},e.prototype.componentDidUpdate=function(){$t().then(this.props.onRenderComplete)},e}(Lt);function $t(){return Kt(this,void 0,void 0,function(){return Xt(this,function(t){switch(t.label){case 0:return document.querySelectorAll(".instagram-media").length>0?[4,Object(_t.d)("//platform.instagram.com/en_US/embeds.js")]:[3,2];case 1:if(t.sent(),!window.instgrm)throw new Error("The Instagram post failed to load");window.instgrm.Embeds.process(),t.label=2;case 2:return[2]}})})}var te=r(24),ee=r.n(te),re=r(70),ne=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();var oe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ne(e,t),e.prototype.render=function(){var t=this.props.data,e=t.name,r=t.attributes,n=t.url,o=t.photoUrl,i=t.body,s=e?a.a.createElement("h3",{className:"embedText-title embedLink-title"},e):null,c=a.a.createElement("span",{className:"embedLink-source meta"},n),u=null;o&&(u=a.a.createElement("img",{src:o,className:"embedLink-image","aria-hidden":"true"}));var l=r.timestamp&&r.humanTime?a.a.createElement("time",{className:"embedLink-dateTime meta",dateTime:r.timestamp},r.humanTime):null,p=Object(Ht.j)(n);return a.a.createElement("a",{className:"embedLink-link",href:p,rel:"noreferrer"},a.a.createElement("article",{className:"embedText-body embedLink-body"},u,a.a.createElement("div",{className:"embedText-main embedLink-main"},a.a.createElement("div",{className:"embedText-header embedLink-header"},s,l,c),a.a.createElement("div",{className:"embedLink-excerpt"},i))))},e}(Lt);function ae(t){void 0===t&&(t=document.body),t.querySelectorAll(".embedLink-excerpt").forEach(function(t){var e=Object(_t.f)(t,"untruncatedText");e?t.innerHTML=e:(e=t.innerHTML,Object(_t.m)(t,"untruncatedText",e)),function(t){var e=parseInt(getComputedStyle(t)["max-height"],10);e&&e>0&&Object(re.a)(t,e)}
/**
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */(t)})}var ie=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();var se=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ie(e,t),e.prototype.render=function(){var t=this.props.data.attributes,e=t.postID,r=t.visual,n=t.showArtwork,o=t.embedUrl;if(null==e)throw new Error("Soundcloud embed fail, the track could not be found");var i=o+e+"&visual="+(r||"false")+"&show_artwork="+(n||"false");return a.a.createElement("iframe",{width:"100%",scrolling:"no",frameBorder:"no",src:i})},e}(Lt),ce=function(t,e,r,n){return new(r||(r=Promise))(function(o,a){function i(t){try{c(n.next(t))}catch(t){a(t)}}function s(t){try{c(n.throw(t))}catch(t){a(t)}}function c(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(i,s)}c((n=n.apply(t,e||[])).next())})},ue=function(t,e){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};
/**
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */function le(t,e){return ce(this,void 0,void 0,function(){var r,n,o;return ue(this,function(a){switch(a.label){case 0:return r=t.content,[4,Object(_t.d)("//platform.twitter.com/widgets.js")];case 1:if(a.sent(),!window.twttr)throw new Error("The Twitter widget failed to load.");if(null==e.attributes.statusID)throw new Error("Attempted to embed a tweet but the statusID could not be found");return r.classList.contains("js-twitterCardLoaded")||r.classList.contains("js-twitterCardPreload")?[3,3]:(r.classList.add("js-twitterCardPreload"),n={conversation:"none"},[4,window.twttr.widgets.createTweet(e.attributes.statusID,r,n)]);case 2:a.sent(),(o=r.querySelector(".tweet-url"))&&o.remove(),r.classList.add("js-twitterCardLoaded"),a.label=3;case 3:return[2]}})})}function pe(){return ce(this,void 0,void 0,function(){var t,e;return ue(this,function(r){switch(r.label){case 0:return(t=Array.from(document.querySelectorAll(".js-twitterCard"))).length>0?[4,Object(_t.d)("//platform.twitter.com/widgets.js")]:[3,3];case 1:return r.sent(),window.twttr?(e=t.map(function(t){var e=t.getAttribute("data-tweetid");return le({content:t,root:null},{type:"twitter",url:t.getAttribute("data-tweeturl")||"",attributes:{statusID:e}})}),[4,Promise.all(e)]):[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})}var de=r(18),fe=r.n(de),he=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();var me=function(t){function e(e){var r=t.call(this,e)||this;return r.clickHandler=function(){r.setState({isPlaying:!0})},r.state={isPlaying:!1},r}return he(e,t),e.prototype.render=function(){var t=this.props.data,e=t.name,r=t.height,n=t.width,o=t.attributes,i=t.photoUrl,s=o.embedUrl,c=this.ratioClass,u=c?{}:{paddingTop:(r||3)/(n||4)*100+"%"},l=a.a.createElement("div",{className:"embedVideo-ratio "+c,style:u},a.a.createElement("button",{type:"button","data-url":s,"aria-label":e||void 0,className:"embedVideo-playButton iconButton"},a.a.createElement("img",{onClick:this.clickHandler,src:i||void 0,role:"presentation",className:"embedVideo-thumbnail"}),a.a.createElement("span",{className:"embedVideo-scrim"}),a.a.createElement(ye,null)));return this.state.isPlaying?a.a.createElement(be,{url:s}):l},Object.defineProperty(e.prototype,"ratioClass",{get:function(){var t=this.props.data,e=t.height,r=t.width;switch(Object(Ht.k)(e||3,r||4).shorthand){case"21:9":return"is21by9";case"16:9":return"is16by9";case"4:3":return"is4by3";case"1:1":return"is1by1"}},enumerable:!0,configurable:!0}),e}(Lt);function be(t){return a.a.createElement("iframe",{frameBorder:"0",allow:"autoplay; encrypted-media",className:"embedVideo-iframe",src:t.url,allowFullScreen:!0})}function ye(){var t={fill:"currentColor",strokeWidth:.3};return a.a.createElement("svg",{className:"embedVideo-playIcon",xmlns:"http://www.w3.org/2000/svg",viewBox:"-1 -1 24 24"},a.a.createElement("title",null,Object(n.m)("Play Video")),a.a.createElement("path",{className:"embedVideo-playIconPath embedVideo-playIconPath-circle",style:t,d:"M11,0A11,11,0,1,0,22,11,11,11,0,0,0,11,0Zm0,20.308A9.308,9.308,0,1,1,20.308,11,9.308,9.308,0,0,1,11,20.308Z"}),a.a.createElement("polygon",{className:"embedVideo-playIconPath embedVideo-playIconPath-triangle",style:t,points:"8.609 6.696 8.609 15.304 16.261 11 8.609 6.696"}))}function ve(){var t=this.closest(".embedVideo-ratio");if(t){var e=this.dataset.url;fe.a.render(a.a.createElement(be,{url:e}),t)}}
/**
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */function we(){var t=this.closest(".spoiler");t&&t.classList.toggle("isShowingSpoiler")}
/**
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */var ge=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Oe=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}},_e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={maxHeight:"100%"},e.selfRef=a.a.createRef(),e}return ge(e,t),e.prototype.render=function(){var t={overflow:"hidden",maxHeight:this.state.maxHeight};return a.a.createElement("div",{id:this.props.id,className:"collapsableContent userContent",style:t,ref:this.selfRef,dangerouslySetInnerHTML:this.props.dangerouslySetInnerHTML})},e.prototype.componentDidMount=function(){var t=this;this.calcMaxHeight(),window.addEventListener("resize",function(){return ee()(function(){t.calcMaxHeight()},200)()})},e.prototype.componentDidUpdate=function(t){t.dangerouslySetInnerHTML.__html===this.props.dangerouslySetInnerHTML.__html&&t.isCollapsed===this.props.isCollapsed||this.calcMaxHeight()},e.prototype.getHeightInfo=function(){var t,e,r=this.selfRef.current;if(null===r)return{height:null,needsCollapser:!1};if(r.childElementCount<=1)return{height:null,needsCollapser:!1};var n=0,o=0;try{for(var a=Oe(Array.from(r.children)),i=a.next();!i.done;i=a.next()){var s=i.value;if(n>this.props.preferredMaxHeight)return{height:n,needsCollapser:!0};var c=Object(_t.h)(s,o),u=c.height,l=c.bottomMargin;if(n>0&&u>this.props.preferredMaxHeight)return{height:n,needsCollapser:!0};o=l,n+=u}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return{height:n,needsCollapser:n>this.props.preferredMaxHeight}},e.prototype.calcMaxHeight=function(){var t=this.getHeightInfo(),e=t.height,r=t.needsCollapser;r&&this.props.isCollapsed?this.setState({maxHeight:e}):this.setState({maxHeight:this.selfRef.current.scrollHeight}),this.props.setNeedsCollapser&&this.props.setNeedsCollapser(r)},e}(a.a.PureComponent),Ee=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),je=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}};function Ce(){var t,e,r=document.querySelectorAll(".js-quoteEmbed"),n=function(t){var e=t.getAttribute("data-json");if(e){var r=JSON.parse(e);fe.a.render(a.a.createElement(Ne,{data:r,inEditor:!1,onRenderComplete:function(){t.removeAttribute("data-json"),t.classList.remove("embedResponsive-initialLink")}}),t)}};try{for(var o=je(r),i=o.next();!i.done;i=o.next()){n(i.value)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}}function Se(){return a.a.createElement("svg",{className:"icon embedQuote-chevronUp",viewBox:"0 0 20 20"},a.a.createElement("title",null,Object(n.m)("▲")),a.a.createElement("path",{fill:"currentColor","stroke-linecap":"square","fill-rule":"evenodd",d:"M6.79521339,4.1285572 L6.13258979,4.7726082 C6.04408814,4.85847112 6,4.95730046 6,5.0690962 C6,5.18057569 6.04408814,5.27940502 6.13258979,5.36526795 L11.3416605,10.4284924 L6.13275248,15.4915587 C6.04425083,15.5774216 6.00016269,15.6762509 6.00016269,15.7878885 C6.00016269,15.8995261 6.04425083,15.9983555 6.13275248,16.0842184 L6.79537608,16.7282694 C6.88371504,16.8142905 6.98539433,16.8571429 7.10025126,16.8571429 C7.21510819,16.8571429 7.31678748,16.8141323 7.40512644,16.7282694 L13.5818586,10.7248222 C13.6701976,10.6389593 13.7142857,10.54013 13.7142857,10.4284924 C13.7142857,10.3168547 13.6701976,10.2181835 13.5818586,10.1323206 L7.40512644,4.1285572 C7.31678748,4.04269427 7.21510819,4 7.10025126,4 C6.98539433,4 6.88371504,4.04269427 6.79521339,4.1285572 L6.79521339,4.1285572 Z",transform:"rotate(-90 9.857 10.429)"}))}function Pe(){return a.a.createElement("svg",{className:"icon embedQuote-chevronDown",viewBox:"0 0 20 20"},a.a.createElement("title",null,Object(n.m)("▼")),a.a.createElement("path",{fill:"currentColor","stroke-linecap":"square","fill-rule":"evenodd",d:"M6.79521339,4.1285572 L6.13258979,4.7726082 C6.04408814,4.85847112 6,4.95730046 6,5.0690962 C6,5.18057569 6.04408814,5.27940502 6.13258979,5.36526795 L11.3416605,10.4284924 L6.13275248,15.4915587 C6.04425083,15.5774216 6.00016269,15.6762509 6.00016269,15.7878885 C6.00016269,15.8995261 6.04425083,15.9983555 6.13275248,16.0842184 L6.79537608,16.7282694 C6.88371504,16.8142905 6.98539433,16.8571429 7.10025126,16.8571429 C7.21510819,16.8571429 7.31678748,16.8141323 7.40512644,16.7282694 L13.5818586,10.7248222 C13.6701976,10.6389593 13.7142857,10.54013 13.7142857,10.4284924 C13.7142857,10.3168547 13.6701976,10.2181835 13.5818586,10.1323206 L7.40512644,4.1285572 C7.31678748,4.04269427 7.21510819,4 7.10025126,4 C6.98539433,4 6.88371504,4.04269427 6.79521339,4.1285572 L6.79521339,4.1285572 Z",transform:"rotate(90 9.857 10.429)"}))}var Ne=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={isCollapsed:!0,renderedBody:"",needsCollapseButton:!1},e.setNeedsCollapser=function(t){e.setState({needsCollapseButton:t})},e.toggleCollapseState=function(t){t.preventDefault(),e.setState({isCollapsed:!e.state.isCollapsed})},e}return Ee(e,t),e.prototype.render=function(){var t=this.quoteData,e=t.body,r=t.insertUser,o=rt()("collapsableContent-"),i=this.quoteData.name,s=i?a.a.createElement("h2",{className:"embedText-title embedQuote-title"},a.a.createElement("a",{href:this.quoteData.url,className:"embedText-titleLink"},i)):null,c=h()("embedText-body","embedQuote-body",{isCollapsed:this.state.isCollapsed}),u=Object(n.j)(r.name);return a.a.createElement("blockquote",{className:c},a.a.createElement("div",{className:"embedText-header embedQuote-header"},s,a.a.createElement("a",{href:u,className:"embedQuote-userLink"},a.a.createElement("span",{className:"embedQuote-userPhotoWrap"},a.a.createElement("img",{src:r.photoUrl,alt:r.name,className:"embedQuote-userPhoto",tabIndex:-1})),a.a.createElement("span",{className:"embedQuote-userName"},r.name)),a.a.createElement("a",{href:this.quoteData.url,className:"embedQuote-metaLink"},a.a.createElement("time",{className:"embedText-dateTime embedQuote-dateTime meta",dateTime:this.dateTime,title:this.titleTime},this.humanTime)),this.state.needsCollapseButton&&a.a.createElement("button",{type:"button",className:"embedQuote-collapseButton","aria-label":Object(n.m)("Toggle Quote"),onClick:this.toggleCollapseState,"aria-pressed":this.state.isCollapsed},this.state.isCollapsed?a.a.createElement(Pe,null):a.a.createElement(Se,null))),a.a.createElement("div",{className:"embedText-main embedQuote-main"},a.a.createElement("div",{className:"embedQuote-excerpt userContent"},a.a.createElement(_e,{setNeedsCollapser:this.setNeedsCollapser,isCollapsed:this.state.isCollapsed,id:o,preferredMaxHeight:100,dangerouslySetInnerHTML:{__html:e||this.state.renderedBody}}))))},e.prototype.componentDidMount=function(){var t=this;if(this.quoteData.body)this.props.onRenderComplete();else{var e="Rich"===this.quoteData.format?JSON.stringify(this.quoteData.bodyRaw):this.quoteData.bodyRaw;l.a.post("/rich/quote",{body:e,format:this.quoteData.format}).then(function(e){t.setState({renderedBody:e.data.quote},t.props.onRenderComplete)})}},Object.defineProperty(e.prototype,"quoteData",{get:function(){return this.props.data.attributes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateTime",{get:function(){return this.quoteData.dateUpdated||this.quoteData.dateInserted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titleTime",{get:function(){return new Date(this.dateTime).toLocaleString(void 0,{year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric"})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"humanTime",{get:function(){return new Date(this.dateTime).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric"})},enumerable:!0,configurable:!0}),e}(a.a.Component);
/**
 * Wire together the different parts of the application.
 *
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */Object(n.l)(function(){return Object(_t.a)(document.body)}),Object(n.k)(function(){return Object(_t.a)(document.body)}),Object(_t.b)("click",".js-toggleSpoiler",we),Object(Rt.b)("codepen",Ut),Object(qt.a)(),Object(Rt.b)("giphy",Bt),Object(Rt.b)("image",Vt),Object(Rt.b)("imgur",Jt),Object(n.k)(Zt),Object(Rt.b)("instagram",Yt),Object(n.k)($t),Object(Rt.b)("link",oe),ae(),window.addEventListener("resize",function(){return ee()(ae,200)()}),Object(Rt.b)("soundcloud",se),Object(Rt.c)("twitter",le),Object(n.k)(pe),pe().then(),Object(Rt.b)("youtube",me),Object(Rt.b)("vimeo",me),Object(Rt.b)("twitch",me),Object(Rt.b)("wistia",me),Object(_t.b)("click",".js-playVideo",ve),Object(Rt.b)("quote",Ne),Object(n.k)(Ce),Object(Et.b)("authenticate",kt),Object(Et.b)("users",At),Object(n.c)("App",Ot),Object(n.d)([a.a.createElement(i.a,{exact:!0,path:"/authenticate/signin",component:K}),a.a.createElement(i.a,{exact:!0,path:"/authenticate/password",component:Y}),a.a.createElement(i.a,{exact:!0,path:"/authenticate/recoverpassword",component:dt})]),Object(n.l)(function(){Object(_t.n)()})},27:function(t,e,r){"use strict";r.r(e);var n=r(1);
/**
 * Set wepback's public path.
 * Otherwise the lookups of dynamically imported webpack files can fail on sites that have a different webroot
 * Eg. installed in a subfolder / using Reverse Proxy.
 *
 * @author Adam Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license http://www.opensource.org/licenses/gpl-2.0.php GNU GPL v2
 */r.p=Object(n.e)("/")},69:function(t,e,r){"use strict";(function(t){r.d(e,"a",function(){return u});var n=r(5),o=r(6),a=r(1),i=function(t,e,r,n){return new(r||(r=Promise))(function(o,a){function i(t){try{c(n.next(t))}catch(t){a(t)}}function s(t){try{c(n.throw(t))}catch(t){a(t)}}function c(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(i,s)}c((n=n.apply(t,e||[])).next())})},s=function(t,e){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},c=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}};function u(){Object(n.c)("getty",l),Object(a.l)(p),Object(a.k)(p)}function l(e,r){return i(this,void 0,void 0,function(){var n,o,a;return s(this,function(i){return n=e.content,o=r.attributes.post,(a=document.createElement("a")).classList.add("gie-single"),a.setAttribute("href","http://www.gettyimages.ca/detail/"+o),a.setAttribute("id",r.attributes.id),n.style.width=r.width+"px",n.appendChild(a),t(function(){d(r)}),[2]})})}function p(){return i(this,void 0,void 0,function(){var t,e,r,n,o,a,i,u,l,p,f,h,m,b,y,v;return s(this,function(s){switch(s.label){case 0:if(!((r=document.querySelectorAll(".js-gettyEmbed")).length>0))return[3,8];s.label=1;case 1:s.trys.push([1,6,7,8]),n=c(r),o=n.next(),s.label=2;case 2:return o.done?[3,5]:(a=o.value,i=a.getAttribute("href")||"",u=a.getAttribute("id"),l=a.getAttribute("data-sig"),p=Number(a.getAttribute("data-height"))||1,f=Number(a.getAttribute("data-width"))||1,h=a.getAttribute("data-items"),m=a.getAttribute("data-capt"),b=a.getAttribute("data-tld"),y=a.getAttribute("data-is360"),[4,d({type:"getty",url:i,height:p,width:f,attributes:{id:u,sig:l,items:h,capt:m,tld:b,i360:y}})]);case 3:s.sent(),a.classList.remove("js-gettyEmbed"),s.label=4;case 4:return o=n.next(),[3,2];case 5:return[3,8];case 6:return v=s.sent(),t={error:v},[3,8];case 7:try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}return[7];case 8:return[2]}})})}function d(t){return i(this,void 0,void 0,function(){var e;return s(this,function(r){switch(r.label){case 0:return e=function(t){(window.gie.q=window.gie.q||[]).push(t)},window.gie=window.gie||e,window.gie(function(){window.gie.widgets.load({id:t.attributes.id,sig:t.attributes.sig,w:t.width+"px",h:t.height+"px",items:t.attributes.items,caption:t.attributes.isCaptioned,tld:t.attributes.tld,is360:t.attributes.is360})}),[4,Object(o.d)("//embed-cdn.gettyimages.com/widgets.js")];case 1:return r.sent(),[2]}})})}}).call(this,r(72).setImmediate)},87:function(t,e,r){r(27),t.exports=r(125)}},[[87,2,0,1]]]);
//# sourceMappingURL=forum.min.js.map