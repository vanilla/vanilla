(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{119:function(t,e,n){"use strict";n.r(e);var r,o=n(1),a=n(0),i=n.n(a),s=n(341),c=n(16),u=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.componentDidMount=function(){document.title=this.getHeadTitle(this.props)},e.prototype.componentWillUpdate=function(t){document.title=this.getHeadTitle(t)},e.prototype.render=function(){return this.props.children?this.props.children:i.a.createElement("h1",null,this.props.title)},e.prototype.getHeadTitle=function(t){var e=Object(o.f)("ui.siteName",""),n=[];return t.title&&t.title.length>0&&n.push(t.title),e.length>0&&e!==t.title&&n.push(e),n.join(" - ")},e}(i.a.Component),p=n(7),d=n(340),f=n(344),h=n(12),m=n.n(h),b=n(11),y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),w=function(t){function e(e){var n=t.call(this,e)||this;return n.state={id:Object(b.b)(e,"errorMessages")},n}return y(e,t),e.prototype.render=function(){var t=this.props.errors;if(t&&t.length>0){var e=m()("inputBlock-errors",this.props.className),n=t.map(function(t,e){return i.a.createElement("span",{key:e,className:"inputBlock-error"},t.message)});return i.a.createElement("span",{id:this.state.id,className:e},n)}return null},e}(i.a.Component),g=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=function(){return(v=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},O=function(t){function e(e){var n=t.call(this,e)||this;return n.id=Object(b.a)(e,"Paragraph"),n}return g(e,t),e.prototype.render=function(){if(this.props.content){var t=m()({isError:this.props.isError},this.props.className),e={};return this.props.isError&&(e={"aria-live":"assertive",role:"alert"}),i.a.createElement("p",v({id:this.id,className:t},e),this.props.content)}return null},e.defaultProps={id:!1},e}(i.a.Component),_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E=function(t){function e(e){var n=t.call(this,e)||this;return n.inputRef=i.a.createRef(),n.onChange=function(t){n.props.onChange&&n.props.onChange(t)},n.state={id:Object(b.b)(e,"inputText")},n}return _(e,t),e.prototype.render=function(){var t,e=m()("inputBlock",this.props.className),n=m()("inputBlock-inputText","InputBox","inputText",this.props.inputClassNames),r=!!this.props.errors&&this.props.errors.length>0;return r&&(t=this.errorID),i.a.createElement("label",{className:e},i.a.createElement("span",{id:this.labelID,className:"inputBlock-labelAndDescription"},i.a.createElement("span",{className:"inputBlock-labelText"},this.props.label),i.a.createElement(O,{id:!1,className:"inputBlock-labelNote",content:this.props.labelNote})),i.a.createElement("span",{className:"inputBlock-inputWrap"},i.a.createElement("input",{id:this.state.id,className:n,defaultValue:this.props.defaultValue,value:this.props.value,type:this.props.type,disabled:this.props.disabled,required:this.props.required,placeholder:this.props.placeholder,"aria-invalid":r,"aria-describedby":t,"aria-labelledby":this.labelID,onChange:this.onChange,ref:this.inputRef})),i.a.createElement(w,{id:this.errorID,errors:this.props.errors}))},e.prototype.componentDidMount=function(){this.inputRef.current.addEventListener("change",this.onChange)},e.prototype.componentWillUnount=function(){this.inputRef.current.removeEventListener("change",this.onChange)},Object.defineProperty(e.prototype,"value",{get:function(){return this.inputRef.current?this.inputRef.current.value:""},set:function(t){if(!this.inputRef.current)throw new Error("inputDom does not exist");this.inputRef.current.value=t},enumerable:!0,configurable:!0}),e.prototype.focus=function(){this.inputRef.current.focus()},e.prototype.select=function(){this.inputRef.current.select()},Object.defineProperty(e.prototype,"labelID",{get:function(){return this.state.id+"-label"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errorID",{get:function(){return this.state.id+"-errors"},enumerable:!0,configurable:!0}),e.defaultProps={disabled:!1,type:"text",errors:[]},e}(i.a.Component),j=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(t){function e(e){var n=t.call(this,e)||this;return n.state={id:Object(b.a)(e,"checkbox")},n}return j(e,t),Object.defineProperty(e.prototype,"labelID",{get:function(){return this.state.id+"-label"},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t=m()("checkbox",this.props.className);return i.a.createElement("label",{id:this.state.id,className:t},i.a.createElement("input",{className:"checkbox-input","aria-labelledby":this.labelID,type:"checkbox",onChange:this.props.onChange,checked:this.props.checked}),i.a.createElement("span",{className:"checkbox-box","aria-hidden":"true"},i.a.createElement("span",{className:"checkbox-state"},i.a.createElement("svg",{className:"checkbox-icon checkbox-checkIcon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 10 10"},i.a.createElement("title",null,Object(o.l)("✓")),i.a.createElement("path",{fill:"currentColor",d:"M10,2.7c0-0.2-0.1-0.3-0.2-0.4L8.9,1.3c-0.2-0.2-0.6-0.2-0.9,0L3.8,5.6L1.9,3.7c-0.2-0.2-0.6-0.2-0.9,0L0.2,4.6c-0.2,0.2-0.2,0.6,0,0.9l3.2,3.2c0.2,0.2,0.6,0.2,0.9,0l5.5-5.5C9.9,3,10,2.8,10,2.7z"})))),i.a.createElement("span",{id:this.labelID,className:"checkbox-label"},this.props.label))},e.defaultProps={disabled:!1,id:!1},e}(i.a.Component),C=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),P=function(t){function e(e){var n=t.call(this,e)||this;return n.state={id:Object(b.a)(e,e.prefix)},n}return C(e,t),e.prototype.render=function(){var t=m()("button","Button",this.props.className);return i.a.createElement("button",{id:this.state.id,disabled:this.props.disabled,type:this.props.type,className:t},this.props.content)},e.defaultProps={id:!1,disabled:!1,type:"button",prefix:"button"},e}(i.a.Component),N=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),x=function(t){function e(e){return t.call(this,e)||this}return N(e,t),e.prototype.render=function(){var t=m()("Primary","buttonCTA","BigButton","button-fullWidth",this.props.className);return i.a.createElement(P,{id:this.props.id,disabled:this.props.disabled,type:"submit",content:this.props.content,className:t,prefix:"submitButton"},this.props.content)},e.defaultProps={disabled:!1},e}(i.a.Component),T=n(10),A="POST_AUTHENTICATE_PASSWORD_REQUEST",k="POST_AUTHENTICATE_PASSWORD_ERROR",I="POST_AUTHENTICATE_PASSWORD_SUCCESS",R=Object(T.c)(A,I,k,{},{}),D=function(t){return function(e){e(R.request(t)),p.a.post("/authenticate/password",t).then(function(n){e(R.success(n,t));var r=new URLSearchParams;window.location.href=Object(o.e)(r.get("target")||"/")}).catch(function(t){var n=t.response?t.response.data:t;e(R.error(n))})}},L=n(3),U=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),q=function(t){function e(e){var n=t.call(this,e)||this;return n.usernameInput=i.a.createRef(),n.passwordInput=i.a.createRef(),n.handleCheckBoxChange=function(t){n.setState({rememberMe:t.target.checked||!1})},n.handleUsernameChange=function(t){var e=t.target.value;n.setState({username:e})},n.handlePasswordChange=function(t){var e=t.target.value;n.setState({password:e})},n.handleSubmit=function(t){t.preventDefault();var e=n.state,r=e.username,o=e.password,a=e.rememberMe;n.props.authenticate({username:r,password:o,persist:a})},n.state={id:Object(b.b)(e,"passwordForm"),rememberMe:!0,username:"",password:""},n}return U(e,t),e.prototype.render=function(){var t,e=Object(p.c)(this.props.passwordState,["username","password"]);return e&&(t=this.formDescriptionID),i.a.createElement("form",{id:this.state.id,"aria-describedby":t,className:"passwordForm",method:"post",onSubmit:this.handleSubmit,noValidate:!0},i.a.createElement(O,{id:this.formDescriptionID,className:"authenticateUser-paragraph",content:e,isError:!0}),i.a.createElement(E,{label:Object(o.l)("Email/Username"),required:!0,disabled:!this.allowEdit,errors:Object(p.b)(this.props.passwordState,"username"),defaultValue:this.props.defaultUsername||"",ref:this.usernameInput,onChange:this.handleUsernameChange,value:this.state.username}),i.a.createElement(E,{label:Object(o.l)("Password"),required:!0,disabled:!this.allowEdit,errors:Object(p.b)(this.props.passwordState,"password"),type:"password",ref:this.passwordInput,onChange:this.handlePasswordChange,value:this.state.password}),i.a.createElement("div",{className:"inputBlock inputBlock-tighter"},i.a.createElement("div",{className:"rememberMeAndForgot"},i.a.createElement("span",{className:"rememberMeAndForgot-rememberMe"},i.a.createElement(S,{label:Object(o.l)("Keep me signed in"),onChange:this.handleCheckBoxChange,checked:this.state.rememberMe})),i.a.createElement("span",{className:"rememberMeAndForgot-forgot"},i.a.createElement(d.a,{to:"/authenticate/recoverpassword"},Object(o.l)("Forgot your password?"))))),i.a.createElement(x,{disabled:!this.allowSubmit,content:Object(o.l)("Sign In")}))},e.prototype.componentDidUpdate=function(t){this.props.passwordState!==t.passwordState&&(Object(p.b)(this.props.passwordState,"username")?this.usernameInput.current.select():Object(p.b)(this.props.passwordState,"password")?this.passwordInput.current.select():this.usernameInput.current.select())},Object.defineProperty(e.prototype,"allowEdit",{get:function(){return this.props.passwordState.status!==L.LoadStatus.LOADING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowSubmit",{get:function(){var t=this.state,e=t.username,n=t.password;return e.length>0&&n.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDescriptionID",{get:function(){return this.state.id+"-description"},enumerable:!0,configurable:!0}),e}(i.a.Component);var M=Object(c.b)(function(t){return{passwordState:t.authenticate.password}},function(t){return{authenticate:function(e){t(D(e))}}})(Object(f.a)(q)),B=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),H=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return B(e,t),e.prototype.render=function(){if(!this.props.ssoMethods||0===this.props.ssoMethods.length)return null;var t=this.props.ssoMethods.map(function(t,e){var n={backgroundColor:t.ui.backgroundColor||void 0,color:t.ui.foregroundColor||void 0};return i.a.createElement("a",{href:t.ui.url,key:e,className:"BigButton button Button button-sso button-fullWidth",style:n},i.a.createElement("span",{className:"button-ssoContents"},i.a.createElement("img",{src:t.ui.photoUrl||void 0,className:"ssoMethod-icon","aria-hidden":!0}),i.a.createElement("span",{className:"button-ssoLabel"},Object(o.l)(t.ui.buttonName)),i.a.createElement("span",{className:"ssoMethod-icon ssoMethod-iconSpacer","aria-hidden":"true"})))});return i.a.createElement("div",{className:"ssoMethods"},i.a.createElement(O,{content:Object(o.l)("Sign in with one of the following:")}),t)},e}(i.a.Component),Q=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),V=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e.prototype.render=function(){return this.props.visible?i.a.createElement("div",{className:"inputBlock-labelText authenticateUser-divider"},Object(o.l)("or")):null},e.defaultProps={visible:!0},e}(i.a.PureComponent),G="GET_USER_AUTHENTICATORS_REQUEST",W="GET_USER_AUTHENTICATORS_SUCCESS",F="GET_USER_AUTHENTICATORS_ERROR",z=Object(T.c)(G,W,F,{}),J=function(){return Object(T.a)("get","authenticate/authenticators",z,void 0)},Z=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),K=function(t){function e(e){var n=t.call(this,e)||this;return n.state={id:Object(b.b)(e,"SignInPage")},n}return Z(e,t),Object.defineProperty(e.prototype,"titleID",{get:function(){return this.state.id+"-pageTitle"},enumerable:!0,configurable:!0}),e.prototype.componentDidMount=function(){this.props.authenticatorState.status===L.LoadStatus.PENDING&&this.props.loadAuthenticators()},e.prototype.render=function(){var t=this.props.authenticatorState;if(t.status!==L.LoadStatus.SUCCESS)return null;var e=!1,n=t.data.filter(function(t){return"password"!==t.type||(e=!0,!1)});return a.createElement("div",{id:this.state.id,className:"authenticateUserCol"},a.createElement(l,{title:Object(o.l)("Sign In")},a.createElement("h1",{id:this.titleID,className:"isCentered"},Object(o.l)("Sign In"))),a.createElement(H,{ssoMethods:n}),a.createElement(V,{visible:e&&n.length>0}),e&&a.createElement(M,null))},e}(a.Component);var X=Object(c.b)(function(t){return{authenticatorState:t.authenticate.authenticators}},function(t){return{loadAuthenticators:function(){t(J())}}})(K),Y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id=Object(b.c)("PasswordPage"),e}return Y(e,t),Object.defineProperty(e.prototype,"titleID",{get:function(){return this.id+"-pageTitle"},enumerable:!0,configurable:!0}),e.prototype.render=function(){return a.createElement("div",{className:"authenticateUserCol"},a.createElement(l,{title:Object(o.l)("Sign In")},a.createElement("h1",{id:this.titleID,className:"isCentered"},Object(o.l)("Sign In"))),a.createElement(M,null))},e}(a.Component),tt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tt(e,t),e.prototype.render=function(){return i.a.createElement("p",{className:"authenticateUser-paragraph isCentered"},Object(o.l)("Remember your password?")," ",i.a.createElement(d.a,{onClick:this.props.onClick,to:"/authenticate/signin"},Object(o.l)("Sign In")))},e}(i.a.Component),nt=n(21),rt=n.n(nt),ot="POST_REQUEST_PASSWORD_REQUEST",at="POST_REQUEST_PASSWORD_ERROR",it="POST_REQUEST_PASSWORD_SUCCESS",st="AFTER_REQUEST_PASSWORD_SUCCESS_NAVIGATE",ct=function(){return Object(T.b)(st)},ut=Object(T.c)(ot,it,at,{},{}),lt=function(t){return Object(T.a)("post","users/request-password",ut,t)},pt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dt=function(t){function e(e){var n=t.call(this,e)||this;return n.id=rt()("RecoverPasswordPage"),n.emainInput=i.a.createRef(),n.handleEmailChange=function(t){var e=t.target.value;n.setState({email:e})},n.handleSubmit=function(t){t.preventDefault();var e=n.state.email;n.props.postRequestPassword({email:e})},n.id=n.pageTitleID=n.id+"-pageTitle",n.state={email:""},n}return pt(e,t),e.prototype.render=function(){var t=i.a.createElement(l,{title:Object(o.l)("Recover Password")},i.a.createElement("h1",{id:this.pageTitleID,className:"isCentered"},Object(o.l)("Recover Password")));return this.props.requestPasswordState.status===L.LoadStatus.SUCCESS?i.a.createElement("div",{id:this.id,className:"authenticateUserCol"},t,i.a.createElement(O,{content:Object(o.l)("A message has been sent to your email address with password reset instructions."),className:"authenticateUser-paragraph"}),i.a.createElement(et,{onClick:this.props.onNavigateAway})):i.a.createElement("div",{className:"authenticateUserCol"},t,i.a.createElement(O,{content:Object(o.l)("RecoverPasswordLabelCode","Enter your email to continue."),className:"authenticateUser-paragraph"}),i.a.createElement("form",{id:this.id,onSubmit:this.handleSubmit,"aria-labelledby":this.pageTitleID,noValidate:!0},i.a.createElement(O,{className:"authenticateUser-paragraph",content:Object(p.c)(this.props.requestPasswordState,["email"]),isError:!0}),i.a.createElement(E,{label:Object(o.l)("Email"),required:!0,disabled:!this.allowEdit,errors:Object(p.b)(this.props.requestPasswordState,"email"),value:this.state.email,onChange:this.handleEmailChange,ref:this.emainInput}),i.a.createElement(x,{disabled:!this.allowEdit||0===this.state.email.length,content:Object(o.l)("Request a new password")})),i.a.createElement(et,null))},e.prototype.componentDidUpdate=function(t){this.props.requestPasswordState!==t.requestPasswordState&&this.props.requestPasswordState.status===L.LoadStatus.ERROR&&this.emainInput.current.select()},Object.defineProperty(e.prototype,"allowEdit",{get:function(){return this.props.requestPasswordState.status!==L.LoadStatus.LOADING},enumerable:!0,configurable:!0}),e}(i.a.Component);
/**
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */var ft=Object(c.b)(function(t){return{requestPasswordState:t.users.requestPassword}},function(t){return{postRequestPassword:function(e){t(lt(e))},onNavigateAway:function(){t(ct())}}})(dt),ht=n(343),mt=n(345),bt=n(38),yt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return yt(e,t),e.prototype.render=function(){return i.a.createElement("div",{className:"Center SplashInfo"},i.a.createElement(l,{title:this.title}),i.a.createElement("div",null,this.message))},Object.defineProperty(e.prototype,"title",{get:function(){return this.props.title||Object(bt.sprintf)(Object(o.l)("%s Not Found"),Object(o.l)(this.props.type))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this.props.message||Object(bt.sprintf)(Object(o.l)("The %s you were looking for could not be found."),Object(o.l)(this.props.type.toLowerCase()))},enumerable:!0,configurable:!0}),e.defaultProps={type:"Page"},e}(i.a.PureComponent),gt=n(42),vt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ot=function(){return(Ot=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},_t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vt(e,t),e.prototype.render=function(){var t=Object(o.g)().map(function(t){return i.a.createElement(t.type,Ot({key:t.key||t.props.path+(t.props.exact?"!":"")},t.props))});return t.push(i.a.createElement(s.a,{key:"@not-found",component:wt})),i.a.createElement(c.a,{store:Object(gt.a)()},i.a.createElement(ht.a,{basename:Object(o.f)("context.basePath","")},i.a.createElement(mt.a,null,t)))},e}(i.a.PureComponent),Et=n(6),jt=n(19),St=n(13),Ct=function(){return(Ct=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Pt={status:L.LoadStatus.PENDING};
/**
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license http://www.opensource.org/licenses/gpl-2.0.php GNU GPL v2
 */
var Nt=function(){return(Nt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},xt={status:L.LoadStatus.PENDING};
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */
var Tt=Object(St.c)({authenticators:function(t,e){switch(void 0===t&&(t=Pt),e.type){case G:return Ct({},t,{status:L.LoadStatus.LOADING});case W:return{status:L.LoadStatus.SUCCESS,data:e.payload.data,error:void 0};case F:return Ct({},t,{status:L.LoadStatus.ERROR,error:e.payload});default:return t}},password:function(t,e){switch(void 0===t&&(t=xt),e.type){case A:return Nt({},t,{status:L.LoadStatus.LOADING});case I:return{status:L.LoadStatus.SUCCESS,data:e.payload.data,error:void 0};case k:return Nt({},t,{status:L.LoadStatus.ERROR,error:e.payload});default:return t}}}),At=function(){return(At=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},kt={status:L.LoadStatus.PENDING};
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */
var It=Object(St.c)({requestPassword:function(t,e){switch(void 0===t&&(t=kt),e.type){case ot:return At({},t,{status:L.LoadStatus.LOADING});case it:return{status:L.LoadStatus.SUCCESS,data:e.payload.data,error:void 0};case at:return At({},t,{status:L.LoadStatus.ERROR,error:e.payload});case st:return kt;default:return t}}}),Rt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Rt(e,t),e.prototype.componentDidMount=function(){this.props.onRenderComplete()},e}(i.a.Component),Lt=n(5),Ut=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var qt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ut(e,t),e.prototype.render=function(){var t=this.props.data,e=t.attributes,n=t.height,r=e.id,o=e.src,a=e.style;return i.a.createElement("iframe",{id:r,src:o,height:n||300,style:a,scrolling:"no"})},e}(Dt),Mt=n(67),Bt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var Ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Bt(e,t),e.prototype.render=function(){var t=this.props.data,e=t.attributes,n=t.width,r=t.height,o=e.postID,a={maxWidth:n?n+"px":"100%",paddingBottom:(r||1)/(n||1)*100+"%"};if(!o)throw new Error("Giphy embed fail, the post could not be found");var s="https://giphy.com/embed/"+o;return i.a.createElement("div",{className:"embedExternal-ratio",style:a},i.a.createElement("iframe",{src:s,className:"giphy-embed embedGiphy-iframe"}))},e}(Dt),Qt=n(4),Vt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var Gt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Vt(e,t),e.prototype.render=function(){var t=this.props.data,e=t.url,n=t.name,r=Object(Qt.j)(e);return i.a.createElement("a",{className:"embedImage-link",href:r||"",rel:"nofollow noopener",target:"_blank"},i.a.createElement("img",{className:"embedImage-img",src:e||"",alt:n||""}))},e}(Dt),Wt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ft=function(t,e,n,r){return new(n||(n=Promise))(function(o,a){function i(t){try{c(r.next(t))}catch(t){a(t)}}function s(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(i,s)}c((r=r.apply(t,e||[])).next())})},zt=function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};
/**
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */var Jt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wt(e,t),e.prototype.render=function(){var t=this.props.data.attributes,e=t.postID,n=t.isAlbum?"a/"+e:e;return i.a.createElement("blockquote",{className:"imgur-embed-pub","data-id":n})},e.prototype.componentDidMount=function(){Zt().then(this.props.onRenderComplete)},e.prototype.componentDidUpdate=function(){Zt().then(this.props.onRenderComplete)},e}(Dt);function Zt(){return Ft(this,void 0,void 0,function(){var t,e,n;return zt(this,function(r){switch(r.label){case 0:return(t=Array.from(document.querySelectorAll(".imgur-embed-pub"))).length>0?[4,Object(Et.d)("//s.imgur.com/min/embed.js")]:[3,2];case 1:if(r.sent(),!window.imgurEmbed)throw new Error("The Imgur post failed to load");if(window.imgurEmbed.createIframe)for(e=t.length,n=0;n<e;n++)window.imgurEmbed.createIframe();else window.imgurEmbed.tasks=t.length;r.label=2;case 2:return[2]}})})}
/**
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */var Kt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xt=function(t,e,n,r){return new(n||(n=Promise))(function(o,a){function i(t){try{c(r.next(t))}catch(t){a(t)}}function s(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(i,s)}c((r=r.apply(t,e||[])).next())})},Yt=function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};var $t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kt(e,t),e.prototype.render=function(){var t=this.props.data,e=t.attributes,n=t.url,r=e.permaLink,o=e.versionNumber,a=e.isCaptioned;if(!t.attributes.permaLink)throw new Error("Attempted to embed a Instagram post failed link is invalid");return i.a.createElement("blockquote",{className:"instagram-media","data-instgrmPermalink":r,"data-instgrmVersion":o,"data-instgrmCaptioned":a},i.a.createElement("a",{href:n},n))},e.prototype.componentDidMount=function(){te().then(this.props.onRenderComplete)},e.prototype.componentDidUpdate=function(){te().then(this.props.onRenderComplete)},e}(Dt);function te(){return Xt(this,void 0,void 0,function(){return Yt(this,function(t){switch(t.label){case 0:return document.querySelectorAll(".instagram-media").length>0?[4,Object(Et.d)("//platform.instagram.com/en_US/embeds.js")]:[3,2];case 1:if(t.sent(),!window.instgrm)throw new Error("The Instagram post failed to load");window.instgrm.Embeds.process(),t.label=2;case 2:return[2]}})})}var ee=n(22),ne=n.n(ee),re=n(68),oe=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var ae=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return oe(e,t),e.prototype.render=function(){var t=this.props.data,e=t.name,n=t.attributes,r=t.url,o=t.photoUrl,a=t.body,s=e?i.a.createElement("h3",{className:"embedText-title embedLink-title"},e):null,c=i.a.createElement("span",{className:"embedLink-source meta"},r),u=null;o&&(u=i.a.createElement("img",{src:o,className:"embedLink-image","aria-hidden":"true"}));var l=n.timestamp&&n.humanTime?i.a.createElement("time",{className:"embedLink-dateTime meta",dateTime:n.timestamp},n.humanTime):null,p=Object(Qt.j)(r);return i.a.createElement("a",{className:"embedLink-link",href:p,rel:"noreferrer"},i.a.createElement("article",{className:"embedText-body embedLink-body"},u,i.a.createElement("div",{className:"embedText-main embedLink-main"},i.a.createElement("div",{className:"embedText-header embedLink-header"},s,l,c),i.a.createElement("div",{className:"embedLink-excerpt"},a))))},e}(Dt);function ie(t){void 0===t&&(t=document.body),t.querySelectorAll(".embedLink-excerpt").forEach(function(t){var e,n,r=Object(Et.f)(t,"untruncatedText");r?t.innerHTML=r:(r=t.innerHTML,Object(Et.m)(t,"untruncatedText",r)),e=t,(n=parseInt(getComputedStyle(e)["max-height"],10))&&n>0&&Object(re.a)(e,n)})}
/**
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */
var se=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var ce=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return se(e,t),e.prototype.render=function(){var t=this.props.data.attributes,e=t.postID,n=t.visual,r=t.showArtwork,o=t.embedUrl;if(null==e)throw new Error("Soundcloud embed fail, the track could not be found");var a=o+e+"&visual="+(n||"false")+"&show_artwork="+(r||"false");return i.a.createElement("iframe",{width:"100%",scrolling:"no",frameBorder:"no",src:a})},e}(Dt),ue=function(t,e,n,r){return new(n||(n=Promise))(function(o,a){function i(t){try{c(r.next(t))}catch(t){a(t)}}function s(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(i,s)}c((r=r.apply(t,e||[])).next())})},le=function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};
/**
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */function pe(t,e){return ue(this,void 0,void 0,function(){var n,r,o;return le(this,function(a){switch(a.label){case 0:return n=t.content,[4,Object(Et.d)("//platform.twitter.com/widgets.js")];case 1:if(a.sent(),!window.twttr)throw new Error("The Twitter widget failed to load.");if(null==e.attributes.statusID)throw new Error("Attempted to embed a tweet but the statusID could not be found");return n.classList.contains("js-twitterCardLoaded")||n.classList.contains("js-twitterCardPreload")?[3,3]:(n.classList.add("js-twitterCardPreload"),r={conversation:"none"},[4,window.twttr.widgets.createTweet(e.attributes.statusID,n,r)]);case 2:a.sent(),(o=n.querySelector(".tweet-url"))&&o.remove(),n.classList.add("js-twitterCardLoaded"),a.label=3;case 3:return[2]}})})}function de(){return ue(this,void 0,void 0,function(){var t,e;return le(this,function(n){switch(n.label){case 0:return(t=Array.from(document.querySelectorAll(".js-twitterCard"))).length>0?[4,Object(Et.d)("//platform.twitter.com/widgets.js")]:[3,3];case 1:return n.sent(),window.twttr?(e=t.map(function(t){var e=t.getAttribute("data-tweetid");return pe({content:t,root:null},{type:"twitter",url:t.getAttribute("data-tweeturl")||"",attributes:{statusID:e}})}),[4,Promise.all(e)]):[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}var fe=n(17),he=n.n(fe),me=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var be=function(t){function e(e){var n=t.call(this,e)||this;return n.clickHandler=function(){n.setState({isPlaying:!0})},n.state={isPlaying:!1},n}return me(e,t),e.prototype.render=function(){var t=this.props.data,e=t.name,n=t.height,r=t.width,o=t.attributes,a=t.photoUrl,s=o.embedUrl,c=this.ratioClass,u=c?{}:{paddingTop:(n||3)/(r||4)*100+"%"},l=i.a.createElement("div",{className:"embedVideo-ratio "+c,style:u},i.a.createElement("button",{type:"button","data-url":s,"aria-label":e||void 0,className:"embedVideo-playButton iconButton"},i.a.createElement("img",{onClick:this.clickHandler,src:a||void 0,role:"presentation",className:"embedVideo-thumbnail"}),i.a.createElement("span",{className:"embedVideo-scrim"}),i.a.createElement(we,null)));return this.state.isPlaying?i.a.createElement(ye,{url:s}):l},Object.defineProperty(e.prototype,"ratioClass",{get:function(){var t=this.props.data,e=t.height,n=t.width;switch(Object(Qt.k)(e||3,n||4).shorthand){case"21:9":return"is21by9";case"16:9":return"is16by9";case"4:3":return"is4by3";case"1:1":return"is1by1"}},enumerable:!0,configurable:!0}),e}(Dt);function ye(t){return i.a.createElement("iframe",{frameBorder:"0",allow:"autoplay; encrypted-media",className:"embedVideo-iframe",src:t.url,allowFullScreen:!0})}function we(){var t={fill:"currentColor",strokeWidth:.3};return i.a.createElement("svg",{className:"embedVideo-playIcon",xmlns:"http://www.w3.org/2000/svg",viewBox:"-1 -1 24 24"},i.a.createElement("title",null,Object(o.l)("Play Video")),i.a.createElement("path",{className:"embedVideo-playIconPath embedVideo-playIconPath-circle",style:t,d:"M11,0A11,11,0,1,0,22,11,11,11,0,0,0,11,0Zm0,20.308A9.308,9.308,0,1,1,20.308,11,9.308,9.308,0,0,1,11,20.308Z"}),i.a.createElement("polygon",{className:"embedVideo-playIconPath embedVideo-playIconPath-triangle",style:t,points:"8.609 6.696 8.609 15.304 16.261 11 8.609 6.696"}))}function ge(){var t=this.closest(".embedVideo-ratio");if(t){var e=this.dataset.url;he.a.render(i.a.createElement(ye,{url:e}),t)}}
/**
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */function ve(){var t=this.closest(".spoiler");t&&t.classList.toggle("isShowingSpoiler")}
/**
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */var Oe=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_e=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},Ee=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={maxHeight:"100%"},e.selfRef=i.a.createRef(),e}return Oe(e,t),e.prototype.render=function(){var t={overflow:"hidden",maxHeight:this.state.maxHeight};return i.a.createElement("div",{id:this.props.id,className:"collapsableContent userContent",style:t,ref:this.selfRef,dangerouslySetInnerHTML:this.props.dangerouslySetInnerHTML})},e.prototype.componentDidMount=function(){var t=this;this.calcMaxHeight(),window.addEventListener("resize",function(){return ne()(function(){t.calcMaxHeight()},200)()})},e.prototype.componentDidUpdate=function(t){t.dangerouslySetInnerHTML.__html===this.props.dangerouslySetInnerHTML.__html&&t.isCollapsed===this.props.isCollapsed||this.calcMaxHeight()},e.prototype.getHeightInfo=function(){var t,e,n=this.selfRef.current;if(null===n)return{height:null,needsCollapser:!1};if(n.childElementCount<=1)return{height:null,needsCollapser:!1};var r=0,o=0;try{for(var a=_e(Array.from(n.children)),i=a.next();!i.done;i=a.next()){var s=i.value;if(r>this.props.preferredMaxHeight)return{height:r,needsCollapser:!0};var c=Object(Et.h)(s,o),u=c.height,l=c.bottomMargin;if(r>0&&u>this.props.preferredMaxHeight)return{height:r,needsCollapser:!0};o=l,r+=u}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return{height:r,needsCollapser:r>this.props.preferredMaxHeight}},e.prototype.calcMaxHeight=function(){var t=this.getHeightInfo(),e=t.height,n=t.needsCollapser;n&&this.props.isCollapsed?this.setState({maxHeight:e}):this.setState({maxHeight:this.selfRef.current.scrollHeight}),this.props.setNeedsCollapser&&this.props.setNeedsCollapser(n)},e}(i.a.PureComponent),je=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Se=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};function Ce(){var t,e,n=document.querySelectorAll(".js-quoteEmbed"),r=function(t){var e=t.getAttribute("data-json");if(e){var n=JSON.parse(e);he.a.render(i.a.createElement(xe,{data:n,inEditor:!1,onRenderComplete:function(){t.removeAttribute("data-json")}}),t)}};try{for(var o=Se(n),a=o.next();!a.done;a=o.next()){r(a.value)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}}function Pe(){return i.a.createElement("svg",{className:"icon embedQuote-chevronUp"},i.a.createElement("title",null,Object(o.l)("▲")),i.a.createElement("path",{fill:"currentColor",d:"M0,3.6c0-0.1,0-0.2,0.1-0.3l3.5-3.1C3.7,0,3.9,0,4,0c0.1,0,0.3,0,0.4,0.1l3.5,3.1C8,3.3,8,3.4,8,3.6s0,0.2-0.1,0.3C7.8,4,7.6,4,7.5,4h-7C0.4,4,0.2,4,0.1,3.9C0,3.8,0,3.7,0,3.6z"}))}function Ne(){return i.a.createElement("svg",{className:"icon embedQuote-chevronDown"},i.a.createElement("title",null,Object(o.l)("▼")),i.a.createElement("path",{fill:"currentColor",d:"M8,3.55555556 C8,3.43518519 7.95052083,3.33101852 7.8515625,3.24305556 L4.3515625,0.131944444 C4.25260417,0.0439814815 4.13541667,0 4,0 C3.86458333,0 3.74739583,0.0439814815 3.6484375,0.131944444 L0.1484375,3.24305556 C0.0494791667,3.33101852 -4.4408921e-16,3.43518519 -4.4408921e-16,3.55555556 C-4.4408921e-16,3.67592593 0.0494791667,3.78009259 0.1484375,3.86805556 C0.247395833,3.95601852 0.364583333,4 0.5,4 L7.5,4 C7.63541667,4 7.75260417,3.95601852 7.8515625,3.86805556 C7.95052083,3.78009259 8,3.67592593 8,3.55555556 Z",transform:"matrix(1 0 0 -1 0 4)"}))}var xe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={isCollapsed:!0,renderedBody:"",needsCollapseButton:!1},e.setNeedsCollapser=function(t){e.setState({needsCollapseButton:t})},e.toggleCollapseState=function(t){t.preventDefault(),e.setState({isCollapsed:!e.state.isCollapsed})},e}return je(e,t),e.prototype.render=function(){var t=this.quoteData,e=t.body,n=t.insertUser,r=rt()("collapsableContent-"),a=this.quoteData.name,s=a?i.a.createElement("h3",{className:"embedText-title embedQuote-title"},a):null,c=m()("embedText-body","embedQuote-body",{isCollapsed:this.state.isCollapsed}),u=Object(o.i)(n.name);return i.a.createElement("blockquote",{className:c},i.a.createElement("div",{className:"embedText-header embedQuote-header"},s,i.a.createElement("a",{href:u,className:"embedQuote-userLink"},i.a.createElement("span",{className:"embedQuote-userPhotoWrap"},i.a.createElement("img",{src:n.photoUrl,alt:n.name,className:"embedQuote-userPhoto",tabIndex:-1})),i.a.createElement("span",{className:"embedQuote-userName"},n.name)),i.a.createElement("time",{className:"embedText-dateTime embedQuote-dateTime meta",dateTime:this.dateTime,title:this.titleTime},this.humanTime),this.state.needsCollapseButton&&i.a.createElement("button",{type:"button",className:"embedQuote-collapseButton","aria-label":Object(o.l)("Toggle Quote"),onClick:this.toggleCollapseState,"aria-pressed":this.state.isCollapsed},this.state.isCollapsed?i.a.createElement(Ne,null):i.a.createElement(Pe,null))),i.a.createElement("div",{className:"embedText-main embedQuote-main"},i.a.createElement("div",{className:"embedQuote-excerpt userContent"},i.a.createElement(Ee,{setNeedsCollapser:this.setNeedsCollapser,isCollapsed:this.state.isCollapsed,id:r,preferredMaxHeight:100,dangerouslySetInnerHTML:{__html:e||this.state.renderedBody}}))))},e.prototype.componentDidMount=function(){var t=this;if(this.quoteData.body)this.props.onRenderComplete();else{var e="Rich"===this.quoteData.format?JSON.stringify(this.quoteData.bodyRaw):this.quoteData.bodyRaw;p.a.post("/rich/quote",{body:e,format:this.quoteData.format}).then(function(e){t.setState({renderedBody:e.data.quote},t.props.onRenderComplete)})}},Object.defineProperty(e.prototype,"quoteData",{get:function(){return this.props.data.attributes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateTime",{get:function(){return this.quoteData.dateUpdated||this.quoteData.dateInserted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titleTime",{get:function(){return new Date(this.dateTime).toLocaleString(void 0,{year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric"})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"humanTime",{get:function(){return new Date(this.dateTime).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric"})},enumerable:!0,configurable:!0}),e}(i.a.Component);
/**
 * Wire together the different parts of the application.
 *
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */Object(o.k)(function(){return Object(Et.a)(document.body)}),Object(o.j)(function(){return Object(Et.a)(document.body)}),Object(Et.b)("click",".js-toggleSpoiler",ve),Object(Lt.b)("codepen",qt),Object(Mt.a)(),Object(Lt.b)("giphy",Ht),Object(Lt.b)("image",Gt),Object(Lt.b)("imgur",Jt),Object(o.j)(Zt),Object(Lt.b)("instagram",$t),Object(o.j)(te),Object(Lt.b)("link",ae),ie(),window.addEventListener("resize",function(){return ne()(ie,200)()}),Object(Lt.b)("soundcloud",ce),Object(Lt.c)("twitter",pe),Object(o.j)(de),de().then(),Object(Lt.b)("youtube",be),Object(Lt.b)("vimeo",be),Object(Lt.b)("twitch",be),Object(Lt.b)("wistia",be),Object(Et.b)("click",".js-playVideo",ge),Object(Lt.b)("quote",xe),Object(o.j)(Ce),Object(jt.b)("authenticate",Tt),Object(jt.b)("users",It),Object(o.c)("App",_t),Object(o.d)([i.a.createElement(s.a,{exact:!0,path:"/authenticate/signin",component:X}),i.a.createElement(s.a,{exact:!0,path:"/authenticate/password",component:$}),i.a.createElement(s.a,{exact:!0,path:"/authenticate/recoverpassword",component:ft})]),Object(o.k)(function(){Object(Et.n)()})},23:function(t,e,n){
/**
 * Set wepback's public path.
 * Otherwise the lookups of dynamically imported webpack files can fail on sites that have a different webroot
 * Eg. installed in a subfolder / using Reverse Proxy.
 *
 * @author Adam Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license http://www.opensource.org/licenses/gpl-2.0.php GNU GPL v2
 */
const r=window.gdn&&window.gdn.meta&&window.gdn.meta.WebRoot,o=null!=r?r:"/";n.p=o},67:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return u});var r=n(5),o=n(6),a=n(1),i=function(t,e,n,r){return new(n||(n=Promise))(function(o,a){function i(t){try{c(r.next(t))}catch(t){a(t)}}function s(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(i,s)}c((r=r.apply(t,e||[])).next())})},s=function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},c=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};function u(){Object(r.c)("getty",l),Object(a.k)(p),Object(a.j)(p)}function l(e,n){return i(this,void 0,void 0,function(){var r,o,a;return s(this,function(i){return r=e.content,o=n.attributes.post,(a=document.createElement("a")).classList.add("gie-single"),a.setAttribute("href","http://www.gettyimages.ca/detail/"+o),a.setAttribute("id",n.attributes.id),r.style.width=n.width+"px",r.appendChild(a),t(function(){d(n)}),[2]})})}function p(){return i(this,void 0,void 0,function(){var t,e,n,r,o,a,i,u,l,p,f,h,m,b,y,w;return s(this,function(s){switch(s.label){case 0:if(!((n=document.querySelectorAll(".js-gettyEmbed")).length>0))return[3,8];s.label=1;case 1:s.trys.push([1,6,7,8]),r=c(n),o=r.next(),s.label=2;case 2:return o.done?[3,5]:(a=o.value,i=a.getAttribute("href")||"",u=a.getAttribute("id"),l=a.getAttribute("data-sig"),p=Number(a.getAttribute("data-height"))||1,f=Number(a.getAttribute("data-width"))||1,h=a.getAttribute("data-items"),m=a.getAttribute("data-capt"),b=a.getAttribute("data-tld"),y=a.getAttribute("data-is360"),[4,d({type:"getty",url:i,height:p,width:f,attributes:{id:u,sig:l,items:h,capt:m,tld:b,i360:y}})]);case 3:s.sent(),a.classList.remove("js-gettyEmbed"),s.label=4;case 4:return o=r.next(),[3,2];case 5:return[3,8];case 6:return w=s.sent(),t={error:w},[3,8];case 7:try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}return[7];case 8:return[2]}})})}function d(t){return i(this,void 0,void 0,function(){var e;return s(this,function(n){switch(n.label){case 0:return e=function(t){(window.gie.q=window.gie.q||[]).push(t)},window.gie=window.gie||e,window.gie(function(){window.gie.widgets.load({id:t.attributes.id,sig:t.attributes.sig,w:t.width+"px",h:t.height+"px",items:t.attributes.items,caption:t.attributes.isCaptioned,tld:t.attributes.tld,is360:t.attributes.is360})}),[4,Object(o.d)("//embed-cdn.gettyimages.com/widgets.js")];case 1:return n.sent(),[2]}})})}}).call(this,n(69).setImmediate)},84:function(t,e,n){n(23),t.exports=n(119)}},[[84,2,0,1]]]);