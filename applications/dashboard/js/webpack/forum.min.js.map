{"version":3,"sources":["webpack:///./applications/dashboard/src/scripts/app/user-content/embeds/giphy.tsx","webpack:///./applications/dashboard/src/scripts/app/user-content/embeds/image.tsx","webpack:///./applications/dashboard/src/scripts/app/user-content/embeds/imgur.tsx","webpack:///./applications/dashboard/src/scripts/app/user-content/embeds/instagram.tsx","webpack:///./applications/dashboard/src/scripts/app/user-content/embeds/link.tsx","webpack:///./applications/dashboard/src/scripts/app/user-content/embeds/soundcloud.tsx","webpack:///./applications/dashboard/src/scripts/app/user-content/embeds/twitter.ts","webpack:///./applications/dashboard/src/scripts/app/user-content/embeds/video.tsx","webpack:///./applications/dashboard/src/scripts/app/user-content/emoji.ts","webpack:///./applications/dashboard/src/scripts/app/user-content/spoilers.ts","webpack:///./applications/dashboard/src/scripts/app/user-content/embeds/quote.tsx","webpack:///./applications/dashboard/src/scripts/app/user-content/CollapsableContent.tsx","webpack:///./applications/dashboard/src/scripts/app/user-content/embeds/BaseEmbed.tsx","webpack:///./applications/dashboard/src/scripts/app/index.tsx","webpack:///./build/entries/public-path.ts","webpack:///./applications/dashboard/src/scripts/state/authenticate/authenticatorsActions.ts","webpack:///./applications/dashboard/src/scripts/app/authenticate/SignInPage.tsx","webpack:///./applications/dashboard/src/scripts/components/forms/Or.tsx","webpack:///./applications/dashboard/src/scripts/app/authenticate/PasswordPage.tsx","webpack:///./applications/dashboard/src/scripts/components/Router.tsx","webpack:///./applications/dashboard/src/scripts/components/NotFoundPage.tsx","webpack:///./applications/dashboard/src/scripts/state/authenticate/authenticateReducer.ts","webpack:///./applications/dashboard/src/scripts/state/authenticate/authenticatorsReducer.ts","webpack:///./applications/dashboard/src/scripts/state/authenticate/passwordReducer.ts","webpack:///./applications/dashboard/src/scripts/state/users/usersReducer.ts","webpack:///./applications/dashboard/src/scripts/state/users/requestPasswordReducer.ts","webpack:///./applications/dashboard/src/scripts/app/user-content/embeds/codepen.tsx","webpack:///./applications/dashboard/src/scripts/app/user-content/embeds/getty.ts"],"names":["initGiphyEmbeds","Object","_dashboard_embeds__WEBPACK_IMPORTED_MODULE_2__","GiphyEmbed","_super","__extends","prototype","render","data","this","props","attributes","width","height","postID","ratioStyle","maxWidth","paddingBottom","Error","src","react__WEBPACK_IMPORTED_MODULE_0___default","a","createElement","className","style","_dashboard_app_user_content_embeds_BaseEmbed__WEBPACK_IMPORTED_MODULE_1__","initImageEmbeds","ImageEmbed","url","name","sanitizedUrl","_dashboard_utility__WEBPACK_IMPORTED_MODULE_3__","href","rel","target","alt","initImgurEmbeds","_dashboard_embeds__WEBPACK_IMPORTED_MODULE_4__","ImgurEmbed","_dashboard_application__WEBPACK_IMPORTED_MODULE_3__","convertImgurEmbeds","dataID","isAlbum","data-id","componentDidMount","then","onRenderComplete","componentDidUpdate","images","Array","from","document","querySelectorAll","length","_dashboard_dom__WEBPACK_IMPORTED_MODULE_2__","_a","sent","window","imgurEmbed","createIframe","imagesLength","i","tasks","initInstagramEmbeds","InstagramEmbed","convertInstagramEmbeds","permaLink","versionNumber","isCaptioned","data-instgrmPermalink","data-instgrmVersion","data-instgrmCaptioned","instgrm","Embeds","process","initLinkEmbeds","_dashboard_embeds__WEBPACK_IMPORTED_MODULE_6__","LinkEmbed","truncateEmbedLinks","addEventListener","lodash_debounce__WEBPACK_IMPORTED_MODULE_4___default","photoUrl","body","title","source","linkImage","aria-hidden","dateTime","timestamp","humanTime","_dashboard_utility__WEBPACK_IMPORTED_MODULE_2__","container","forEach","el","untruncatedText","_dashboard_dom__WEBPACK_IMPORTED_MODULE_3__","innerHTML","truncateTextBasedOnMaxHeight","excerpt","maxHeight","parseInt","getComputedStyle","shave__WEBPACK_IMPORTED_MODULE_5__","initSoundcloudEmbeds","SoundcloudEmbed","visual","showArtwork","embedUrl","scrolling","frameBorder","initTwitterEmbeds","renderTweet","_dashboard_application__WEBPACK_IMPORTED_MODULE_1__","convertTwitterEmbeds","elements","contentElement","content","_dashboard_dom__WEBPACK_IMPORTED_MODULE_0__","twttr","statusID","classList","contains","add","options","conversation","widgets","createTweet","querySelector","remove","tweets","promises","map","getAttribute","root","type","Promise","all","initVideoEmbeds","VideoEmbed","_dashboard_dom__WEBPACK_IMPORTED_MODULE_5__","handlePlayVideo","_this","call","clickHandler","setState","isPlaying","state","ratioClass","paddingTop","thumbnail","data-url","aria-label","undefined","onClick","role","PlayIcon","VideoIframe","defineProperty","shorthand","allow","allowFullScreen","fill","strokeWidth","xmlns","viewBox","_dashboard_application__WEBPACK_IMPORTED_MODULE_4__","d","points","closest","dataset","react_dom__WEBPACK_IMPORTED_MODULE_6___default","initEmojiSupport","_dashboard_application__WEBPACK_IMPORTED_MODULE_0__","_dashboard_dom__WEBPACK_IMPORTED_MODULE_1__","initSpoilers","handleToggleSpoiler","spoilerContainer","toggle","initQuoteEmbeds","QuoteEmbed","mountQuoteEmbeds","embeds","embed","quoteData","JSON","parse","react_dom__WEBPACK_IMPORTED_MODULE_1___default","inEditor","removeAttribute","embeds_1","__values","embeds_1_1","next","done","value","ChevronUpIcon","ChevronDownIcon","transform","apply","arguments","isCollapsed","renderedBody","needsCollapseButton","setNeedsCollapser","needsCollapser","toggleCollapseState","event","preventDefault","insertUser","id","lodash_uniqueId__WEBPACK_IMPORTED_MODULE_5___default","bodyClasses","classnames__WEBPACK_IMPORTED_MODULE_6___default","userUrl","tabIndex","titleTime","aria-pressed","_dashboard_app_user_content_CollapsableContent__WEBPACK_IMPORTED_MODULE_4__","preferredMaxHeight","dangerouslySetInnerHTML","__html","format","stringify","bodyRaw","_dashboard_apiv2__WEBPACK_IMPORTED_MODULE_7__","post","response","quote","dateUpdated","dateInserted","Date","toLocaleString","year","month","day","weekday","hour","minute","Component","CollapsableUserContent","selfRef","createRef","overflow","ref","calcMaxHeight","lodash_debounce__WEBPACK_IMPORTED_MODULE_1___default","prevProps","getHeightInfo","self","current","childElementCount","finalMaxHeight","lastBottomMargin","_b","children","_c","child","_d","bottomMargin","scrollHeight","PureComponent","BaseEmbed","emoji","spoilers","codepen","getty","giphy","embeds_image","imgur","instagram","embeds_link","soundcloud","twitter","video","reducerRegistry","authenticateReducer","usersReducer","application","Router","react_default","Route","exact","path","component","SignInPage","PasswordPage","RecoverPasswordPage","dom","potentialPublicPath","gdn","meta","WebRoot","finalPublicPath","__webpack_require__","p","GET_USER_AUTHENTICATORS_REQUEST","GET_USER_AUTHENTICATORS_SUCCESS","GET_USER_AUTHENTICATORS_ERROR","getAuthenticatorsActions","_dashboard_state_utility__WEBPACK_IMPORTED_MODULE_0__","getUserAuthenticators","_dashboard_componentIDs__WEBPACK_IMPORTED_MODULE_6__","authenticatorState","status","_dashboard_types_api__WEBPACK_IMPORTED_MODULE_8__","PENDING","loadAuthenticators","SUCCESS","showPassword","ssoMethods","filter","react__WEBPACK_IMPORTED_MODULE_0__","_dashboard_components_DocumentTitle__WEBPACK_IMPORTED_MODULE_3__","_dashboard_application__WEBPACK_IMPORTED_MODULE_2__","titleID","_components_SSOMethods__WEBPACK_IMPORTED_MODULE_5__","_dashboard_components_forms_Or__WEBPACK_IMPORTED_MODULE_7__","visible","_components_PasswordForm__WEBPACK_IMPORTED_MODULE_4__","mapStateToProps","authenticate","authenticators","mapDispatchToProps","dispatch","_dashboard_state_authenticate_authenticatorsActions__WEBPACK_IMPORTED_MODULE_9__","react_redux__WEBPACK_IMPORTED_MODULE_1__","__webpack_exports__","Or","defaultProps","_dashboard_componentIDs__WEBPACK_IMPORTED_MODULE_4__","_dashboard_components_DocumentTitle__WEBPACK_IMPORTED_MODULE_2__","_components_PasswordForm__WEBPACK_IMPORTED_MODULE_3__","routes","_dashboard_application__WEBPACK_IMPORTED_MODULE_5__","route","__assign","key","push","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","_dashboard_components_NotFoundPage__WEBPACK_IMPORTED_MODULE_6__","react_redux__WEBPACK_IMPORTED_MODULE_4__","store","_dashboard_state_getStore__WEBPACK_IMPORTED_MODULE_7__","react_router_dom__WEBPACK_IMPORTED_MODULE_2__","basename","react_router_dom__WEBPACK_IMPORTED_MODULE_3__","NotFoundPage","message","sprintf_js__WEBPACK_IMPORTED_MODULE_1__","toLowerCase","redux__WEBPACK_IMPORTED_MODULE_0__","_dashboard_state_authenticate_authenticatorsReducer__WEBPACK_IMPORTED_MODULE_1__","password","_dashboard_state_authenticate_passwordReducer__WEBPACK_IMPORTED_MODULE_2__","initialState","_dashboard_types_api__WEBPACK_IMPORTED_MODULE_1__","authenticatorsReducer","action","_dashboard_state_authenticate_authenticatorsActions__WEBPACK_IMPORTED_MODULE_0__","LOADING","payload","error","ERROR","passwordReducer","_dashboard_state_authenticate_passwordActions__WEBPACK_IMPORTED_MODULE_0__","requestPassword","_dashboard_state_users_requestPasswordReducer__WEBPACK_IMPORTED_MODULE_1__","_dashboard_state_users_requestPasswordActions__WEBPACK_IMPORTED_MODULE_0__","initCodePenEmbeds","CodePenEmbed","initGettyEmbeds","_dashboard_embeds__WEBPACK_IMPORTED_MODULE_0__","renderGetty","convertGettyEmbeds","newLink","setAttribute","appendChild","setImmediate","loadGettyImages","gettyPosts","gettyPosts_1","gettyPosts_1_1","sig","Number","items","capt","tld","i360","fallbackCallback","c","gie","q","load","w","h","caption","is360"],"mappings":"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","file":"/applications/dashboard/js/webpack/forum.min.js","sourcesContent":["/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React from \"react\";\nimport BaseEmbed from \"@dashboard/app/user-content/embeds/BaseEmbed\";\nimport { registerEmbedComponent } from \"@dashboard/embeds\";\n\nexport function initGiphyEmbeds() {\n    registerEmbedComponent(\"giphy\", GiphyEmbed);\n}\n\nexport class GiphyEmbed extends BaseEmbed {\n    public render() {\n        const { data } = this.props;\n        const { attributes, width, height } = data;\n        const { postID } = attributes;\n        const paddingBottom = ((height || 1) / (width || 1)) * 100 + \"%\";\n        const ratioStyle: React.CSSProperties = {\n            maxWidth: width ? width + \"px\" : \"100%\",\n            paddingBottom,\n        };\n\n        if (!postID) {\n            throw new Error(\"Giphy embed fail, the post could not be found\");\n        }\n        const src = `https://giphy.com/embed/${postID}`;\n\n        return (\n            <div className=\"embedExternal-ratio\" style={ratioStyle}>\n                <iframe src={src} className=\"giphy-embed embedGiphy-iframe\" />\n            </div>\n        );\n    }\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React from \"react\";\nimport BaseEmbed from \"@dashboard/app/user-content/embeds/BaseEmbed\";\nimport { registerEmbedComponent } from \"@dashboard/embeds\";\nimport { sanitizeUrl } from \"@dashboard/utility\";\n\nexport function initImageEmbeds() {\n    registerEmbedComponent(\"image\", ImageEmbed);\n}\n\nexport class ImageEmbed extends BaseEmbed {\n    public render() {\n        const { data } = this.props;\n        const { url, name } = data;\n        const sanitizedUrl = sanitizeUrl(url);\n\n        // Yes we actually want a target blank here (even if we don't want it on normal links).\n        return (\n            <a className=\"embedImage-link\" href={sanitizedUrl || \"\"} rel=\"nofollow noopener\" target=\"_blank\">\n                <img className=\"embedImage-img\" src={url || \"\"} alt={name || \"\"} />\n            </a>\n        );\n    }\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React from \"react\";\nimport BaseEmbed from \"@dashboard/app/user-content/embeds/BaseEmbed\";\nimport { ensureScript } from \"@dashboard/dom\";\nimport { onContent } from \"@dashboard/application\";\nimport { registerEmbedComponent } from \"@dashboard/embeds\";\n\nexport function initImgurEmbeds() {\n    registerEmbedComponent(\"imgur\", ImgurEmbed);\n    onContent(convertImgurEmbeds);\n}\n\nexport class ImgurEmbed extends BaseEmbed {\n    public render() {\n        const { data } = this.props;\n        const { attributes } = data;\n        const { postID, isAlbum } = attributes;\n\n        const dataID = isAlbum ? `a/${postID}` : postID;\n        const url = `//imgur.com/${postID}`;\n\n        return <blockquote className=\"imgur-embed-pub\" data-id={dataID} />;\n    }\n\n    public componentDidMount() {\n        void convertImgurEmbeds().then(this.props.onRenderComplete);\n    }\n\n    public componentDidUpdate() {\n        void convertImgurEmbeds().then(this.props.onRenderComplete);\n    }\n}\n\n/**\n * Renders posted imgur embeds.\n */\nasync function convertImgurEmbeds() {\n    const images = Array.from(document.querySelectorAll(\".imgur-embed-pub\"));\n    if (images.length > 0) {\n        await ensureScript(\"//s.imgur.com/min/embed.js\");\n\n        if (!window.imgurEmbed) {\n            throw new Error(\"The Imgur post failed to load\");\n        }\n\n        if (window.imgurEmbed.createIframe) {\n            const imagesLength = images.length;\n            for (let i = 0; i < imagesLength; i++) {\n                window.imgurEmbed.createIframe();\n            }\n        } else {\n            window.imgurEmbed.tasks = images.length;\n        }\n    }\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React from \"react\";\nimport BaseEmbed from \"@dashboard/app/user-content/embeds/BaseEmbed\";\nimport { ensureScript } from \"@dashboard/dom\";\nimport { onContent } from \"@dashboard/application\";\nimport { registerEmbedComponent } from \"@dashboard/embeds\";\n\nexport function initInstagramEmbeds() {\n    registerEmbedComponent(\"instagram\", InstagramEmbed);\n    onContent(convertInstagramEmbeds);\n}\n\nexport class InstagramEmbed extends BaseEmbed {\n    public render() {\n        const { data } = this.props;\n        const { attributes, url } = data;\n        const { permaLink, versionNumber, isCaptioned } = attributes;\n        if (!data.attributes.permaLink) {\n            throw new Error(\"Attempted to embed a Instagram post failed link is invalid\");\n        }\n\n        return (\n            <blockquote\n                className=\"instagram-media\"\n                data-instgrmPermalink={permaLink}\n                data-instgrmVersion={versionNumber}\n                data-instgrmCaptioned={isCaptioned}\n            >\n                <a href={url}>{url}</a>\n            </blockquote>\n        );\n    }\n\n    public componentDidMount() {\n        void convertInstagramEmbeds().then(this.props.onRenderComplete);\n    }\n\n    public componentDidUpdate() {\n        void convertInstagramEmbeds().then(this.props.onRenderComplete);\n    }\n}\n\n/**\n * Renders posted instagram embeds.\n */\nasync function convertInstagramEmbeds() {\n    const instagramEmbeds = document.querySelectorAll(\".instagram-media\");\n    if (instagramEmbeds.length > 0) {\n        await ensureScript(\"//platform.instagram.com/en_US/embeds.js\");\n\n        if (!window.instgrm) {\n            throw new Error(\"The Instagram post failed to load\");\n        }\n\n        window.instgrm.Embeds.process();\n    }\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React from \"react\";\nimport BaseEmbed from \"@dashboard/app/user-content/embeds/BaseEmbed\";\nimport { sanitizeUrl } from \"@dashboard/utility\";\nimport { getData, setData } from \"@dashboard/dom\";\nimport debounce from \"lodash/debounce\";\nimport shave from \"shave\";\nimport { registerEmbedComponent } from \"@dashboard/embeds\";\n\nexport function initLinkEmbeds() {\n    registerEmbedComponent(\"link\", LinkEmbed);\n    truncateEmbedLinks();\n\n    // Retruncate links when the window resizes.\n    window.addEventListener(\"resize\", () => debounce(truncateEmbedLinks, 200)());\n}\n\nexport class LinkEmbed extends BaseEmbed {\n    public render() {\n        const { name, attributes, url, photoUrl, body } = this.props.data;\n        const title = name ? <h3 className=\"embedText-title embedLink-title\">{name}</h3> : null;\n\n        const source = <span className=\"embedLink-source meta\">{url}</span>;\n\n        let linkImage: JSX.Element | null = null;\n        if (photoUrl) {\n            linkImage = <img src={photoUrl} className=\"embedLink-image\" aria-hidden=\"true\" />;\n        }\n        const dateTime =\n            attributes.timestamp && attributes.humanTime ? (\n                <time className=\"embedLink-dateTime meta\" dateTime={attributes.timestamp}>\n                    {attributes.humanTime}\n                </time>\n            ) : null;\n\n        const sanitizedUrl = sanitizeUrl(url);\n        return (\n            <a className=\"embedLink-link\" href={sanitizedUrl} rel=\"noreferrer\">\n                <article className=\"embedText-body embedLink-body\">\n                    {linkImage}\n                    <div className=\"embedText-main embedLink-main\">\n                        <div className=\"embedText-header embedLink-header\">\n                            {title}\n                            {dateTime}\n                            {source}\n                        </div>\n                        <div className=\"embedLink-excerpt\">{body}</div>\n                    </div>\n                </article>\n            </a>\n        );\n    }\n}\n\n/**\n * Truncate embed link excerpts in a container\n *\n * @param container - Element containing embeds to truncate\n */\nfunction truncateEmbedLinks(container = document.body) {\n    const embeds = container.querySelectorAll(\".embedLink-excerpt\");\n    embeds.forEach(el => {\n        let untruncatedText = getData(el, \"untruncatedText\");\n\n        if (!untruncatedText) {\n            untruncatedText = el.innerHTML;\n            setData(el, \"untruncatedText\", untruncatedText);\n        } else {\n            el.innerHTML = untruncatedText;\n        }\n        truncateTextBasedOnMaxHeight(el);\n    });\n}\n\n/**\n * Truncate element text based on max-height\n *\n * @param excerpt - The excerpt to truncate.\n */\nfunction truncateTextBasedOnMaxHeight(excerpt: Element) {\n    const maxHeight = parseInt(getComputedStyle(excerpt)[\"max-height\"], 10);\n    if (maxHeight && maxHeight > 0) {\n        shave(excerpt, maxHeight);\n    }\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React from \"react\";\nimport BaseEmbed from \"@dashboard/app/user-content/embeds/BaseEmbed\";\nimport { registerEmbedComponent } from \"@dashboard/embeds\";\n\nexport function initSoundcloudEmbeds() {\n    registerEmbedComponent(\"soundcloud\", SoundcloudEmbed);\n}\n\nexport class SoundcloudEmbed extends BaseEmbed {\n    public render() {\n        const { attributes } = this.props.data;\n        const { postID, visual, showArtwork, embedUrl } = attributes;\n\n        // Ensure this is a track.\n        if (postID == null) {\n            throw new Error(\"Soundcloud embed fail, the track could not be found\");\n        }\n\n        const url = embedUrl + postID + \"&visual=\" + (visual || \"false\") + \"&show_artwork=\" + (showArtwork || \"false\");\n\n        return <iframe width=\"100%\" scrolling=\"no\" frameBorder=\"no\" src={url} />;\n    }\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport { ensureScript } from \"@dashboard/dom\";\nimport { onContent } from \"@dashboard/application\";\nimport { IEmbedData, IEmbedElements, registerEmbedRenderer } from \"@dashboard/embeds\";\nimport { IScrapeData } from \"@dashboard/@types/api\";\n\nexport function initTwitterEmbeds() {\n    registerEmbedRenderer(\"twitter\", renderTweet);\n    onContent(convertTwitterEmbeds);\n    void convertTwitterEmbeds().then();\n}\n\n/**\n * Render a single twitter embed.\n */\nexport async function renderTweet(elements: IEmbedElements, data: IScrapeData) {\n    const contentElement = elements.content;\n    // Ensure the twitter library is loaded.\n    await ensureScript(\"//platform.twitter.com/widgets.js\");\n\n    if (!window.twttr) {\n        throw new Error(\"The Twitter widget failed to load.\");\n    }\n\n    // Ensure we have a status id to look up.\n    if (data.attributes.statusID == null) {\n        throw new Error(\"Attempted to embed a tweet but the statusID could not be found\");\n    }\n\n    // Check that we haven't already started to load this embed (In the case multiple onContents are fired off).\n    if (\n        !contentElement.classList.contains(\"js-twitterCardLoaded\") &&\n        !contentElement.classList.contains(\"js-twitterCardPreload\")\n    ) {\n        contentElement.classList.add(\"js-twitterCardPreload\");\n\n        // Render the embed.\n        const options = { conversation: \"none\" };\n        await window.twttr.widgets.createTweet(data.attributes.statusID, contentElement, options);\n        // Remove a url if there is one around.\n        const url = contentElement.querySelector(\".tweet-url\");\n        if (url) {\n            url.remove();\n        }\n\n        // Fade it in.\n        contentElement.classList.add(\"js-twitterCardLoaded\");\n    }\n}\n\n/**\n * Convert all of the twitter embeds in the page. This is for transforming twitter embeds that were\n * server rendered.\n *\n * @see library/Vanilla/Embeds/EmbedManager.php\n */\nasync function convertTwitterEmbeds() {\n    const tweets = Array.from(document.querySelectorAll(\".js-twitterCard\"));\n    if (tweets.length > 0) {\n        await ensureScript(\"//platform.twitter.com/widgets.js\");\n        if (window.twttr) {\n            const promises = tweets.map(contentElement => {\n                // Get embed data out of the data attributes.\n                const statusID = contentElement.getAttribute(\"data-tweetid\");\n                const url = contentElement.getAttribute(\"data-tweeturl\") || \"\";\n\n                const renderData: IEmbedData = {\n                    type: \"twitter\",\n                    url,\n                    attributes: { statusID },\n                };\n\n                return renderTweet({ content: contentElement as HTMLElement, root: null as any }, renderData);\n            });\n\n            // Render all the pages twitter embeds at the same time.\n            await Promise.all(promises);\n        }\n    }\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React from \"react\";\nimport BaseEmbed from \"@dashboard/app/user-content/embeds/BaseEmbed\";\nimport { IEmbedProps, registerEmbedComponent } from \"@dashboard/embeds\";\nimport { simplifyFraction } from \"@dashboard/utility\";\nimport { t } from \"@dashboard/application\";\nimport { delegateEvent } from \"@dashboard/dom\";\nimport ReactDOM from \"react-dom\";\n\nexport function initVideoEmbeds() {\n    registerEmbedComponent(\"youtube\", VideoEmbed);\n    registerEmbedComponent(\"vimeo\", VideoEmbed);\n    registerEmbedComponent(\"twitch\", VideoEmbed);\n    registerEmbedComponent(\"wistia\", VideoEmbed);\n    delegateEvent(\"click\", \".js-playVideo\", handlePlayVideo);\n}\n\ninterface IState {\n    isPlaying: boolean;\n}\n\nexport class VideoEmbed extends BaseEmbed<IEmbedProps, IState> {\n    public constructor(props) {\n        super(props);\n        this.state = {\n            isPlaying: false,\n        };\n    }\n    public render() {\n        const { name, height, width, attributes, photoUrl } = this.props.data;\n        const { embedUrl } = attributes;\n\n        const ratioClass = this.ratioClass;\n        const style: React.CSSProperties = ratioClass\n            ? {}\n            : {\n                  paddingTop: ((height || 3) / (width || 4)) * 100 + \"%\",\n              };\n\n        const thumbnail = (\n            <div className={`embedVideo-ratio ${ratioClass}`} style={style}>\n                <button\n                    type=\"button\"\n                    data-url={embedUrl}\n                    aria-label={name || undefined}\n                    className=\"embedVideo-playButton iconButton\"\n                >\n                    <img\n                        onClick={this.clickHandler}\n                        src={photoUrl || undefined}\n                        role=\"presentation\"\n                        className=\"embedVideo-thumbnail\"\n                    />\n                    <span className=\"embedVideo-scrim\" />\n                    <PlayIcon />\n                </button>\n            </div>\n        );\n\n        return this.state.isPlaying ? <VideoIframe url={embedUrl} /> : thumbnail;\n    }\n\n    private clickHandler = () => {\n        this.setState({ isPlaying: true });\n    };\n\n    private get ratioClass(): string | undefined {\n        const { height, width } = this.props.data;\n        const ratio = simplifyFraction(height || 3, width || 4);\n        switch (ratio.shorthand) {\n            case \"21:9\":\n                return \"is21by9\";\n            case \"16:9\":\n                return \"is16by9\";\n            case \"4:3\":\n                return \"is4by3\";\n            case \"1:1\":\n                return \"is1by1\";\n        }\n    }\n}\n\nfunction VideoIframe(props: { url: string }) {\n    return (\n        <iframe\n            frameBorder=\"0\"\n            allow=\"autoplay; encrypted-media\"\n            className=\"embedVideo-iframe\"\n            src={props.url}\n            allowFullScreen={true}\n        />\n    );\n}\n\nfunction PlayIcon() {\n    const style: React.CSSProperties = { fill: \"currentColor\", strokeWidth: 0.3 };\n\n    return (\n        <svg className=\"embedVideo-playIcon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-1 -1 24 24\">\n            <title>{t(\"Play Video\")}</title>\n            <path\n                className=\"embedVideo-playIconPath embedVideo-playIconPath-circle\"\n                style={style}\n                d=\"M11,0A11,11,0,1,0,22,11,11,11,0,0,0,11,0Zm0,20.308A9.308,9.308,0,1,1,20.308,11,9.308,9.308,0,0,1,11,20.308Z\"\n            />\n            <polygon\n                className=\"embedVideo-playIconPath embedVideo-playIconPath-triangle\"\n                style={style}\n                points=\"8.609 6.696 8.609 15.304 16.261 11 8.609 6.696\"\n            />\n        </svg>\n    );\n}\n\n/**\n * Handle a click on a video.\n */\nfunction handlePlayVideo() {\n    // Inside of delegate event `this` is the current target of the event.\n    const playButton: HTMLElement = this;\n    const container = playButton.closest(\".embedVideo-ratio\");\n    if (container) {\n        const url = playButton.dataset.url as string;\n\n        ReactDOM.render(<VideoIframe url={url} />, container);\n    }\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport { onReady, onContent } from \"@dashboard/application\";\nimport { convertToSafeEmojiCharacters } from \"@dashboard/dom\";\n\nexport function initEmojiSupport() {\n    // Emoji\n    onReady(() => convertToSafeEmojiCharacters(document.body));\n    onContent(() => convertToSafeEmojiCharacters(document.body));\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport { delegateEvent } from \"@dashboard/dom\";\n\nexport function initSpoilers() {\n    // Setup\n    delegateEvent(\"click\", \".js-toggleSpoiler\", handleToggleSpoiler);\n}\n\n/**\n * Toggle a spoiler open and closed.\n */\nfunction handleToggleSpoiler() {\n    const toggleButton: HTMLElement = this;\n\n    const spoilerContainer = toggleButton.closest(\".spoiler\");\n    if (spoilerContainer) {\n        spoilerContainer.classList.toggle(\"isShowingSpoiler\");\n    }\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { registerEmbedComponent, IEmbedProps, IEmbedData, IQuoteEmbedData } from \"@dashboard/embeds\";\nimport { onContent, t, formatUrl, makeProfileUrl } from \"@dashboard/application\";\nimport CollapsableUserContent from \"@dashboard/app/user-content/CollapsableContent\";\nimport uniqueId from \"lodash/uniqueId\";\nimport classnames from \"classnames\";\nimport api from \"@dashboard/apiv2\";\n\nexport function initQuoteEmbeds() {\n    registerEmbedComponent(\"quote\", QuoteEmbed as any);\n    onContent(mountQuoteEmbeds);\n}\n\n/**\n * Mount all of the existing quote embeds in the page.\n *\n * Data (including server rendered HTML content should be coming down in JSON encoded attribute data-json).\n */\nexport function mountQuoteEmbeds() {\n    const embeds = document.querySelectorAll(\".js-quoteEmbed\");\n    for (const embed of embeds) {\n        const data = embed.getAttribute(\"data-json\");\n        if (data) {\n            const quoteData = JSON.parse(data) as IEmbedData;\n            const onRenderComplete = () => {\n                embed.removeAttribute(\"data-json\");\n            };\n            ReactDOM.render(\n                <QuoteEmbed data={quoteData} inEditor={false} onRenderComplete={onRenderComplete} />,\n                embed,\n            );\n        }\n    }\n}\n\ninterface IState {\n    isCollapsed: boolean;\n    needsCollapseButton: boolean;\n    renderedBody: string;\n}\n\nfunction ChevronUpIcon() {\n    return (\n        <svg className=\"icon embedQuote-chevronUp\">\n            <title>{t(\"\")}</title>\n            <path\n                fill=\"currentColor\"\n                d=\"M0,3.6c0-0.1,0-0.2,0.1-0.3l3.5-3.1C3.7,0,3.9,0,4,0c0.1,0,0.3,0,0.4,0.1l3.5,3.1C8,3.3,8,3.4,8,3.6s0,0.2-0.1,0.3C7.8,4,7.6,4,7.5,4h-7C0.4,4,0.2,4,0.1,3.9C0,3.8,0,3.7,0,3.6z\"\n            />\n        </svg>\n    );\n}\n\nfunction ChevronDownIcon() {\n    return (\n        <svg className=\"icon embedQuote-chevronDown\">\n            <title>{t(\"\")}</title>\n            <path\n                fill=\"currentColor\"\n                d=\"M8,3.55555556 C8,3.43518519 7.95052083,3.33101852 7.8515625,3.24305556 L4.3515625,0.131944444 C4.25260417,0.0439814815 4.13541667,0 4,0 C3.86458333,0 3.74739583,0.0439814815 3.6484375,0.131944444 L0.1484375,3.24305556 C0.0494791667,3.33101852 -4.4408921e-16,3.43518519 -4.4408921e-16,3.55555556 C-4.4408921e-16,3.67592593 0.0494791667,3.78009259 0.1484375,3.86805556 C0.247395833,3.95601852 0.364583333,4 0.5,4 L7.5,4 C7.63541667,4 7.75260417,3.95601852 7.8515625,3.86805556 C7.95052083,3.78009259 8,3.67592593 8,3.55555556 Z\"\n                transform=\"matrix(1 0 0 -1 0 4)\"\n            />\n        </svg>\n    );\n}\n\n/**\n * An embed class for quoted user content on the same site.\n *\n * This is not an editable quote. Instead it an expandable/collapsable snapshot of the quoted/embedded comment/discussion.\n *\n * This can either recieve the post format and body (when created directly in the editor) or be given the fully rendered content (when mounting on top of existing server rendered DOM stuff).\n */\nexport class QuoteEmbed extends React.Component<IEmbedProps<IEmbedData>, IState> {\n    public state: IState = {\n        isCollapsed: true,\n        renderedBody: \"\",\n        needsCollapseButton: false,\n    };\n\n    public render() {\n        const { body, insertUser } = this.quoteData;\n        const id = uniqueId(\"collapsableContent-\");\n\n        const name = (this.quoteData as any).name;\n        const title = name ? <h3 className=\"embedText-title embedQuote-title\">{name}</h3> : null;\n\n        const bodyClasses = classnames(\"embedText-body\", \"embedQuote-body\", { isCollapsed: this.state.isCollapsed });\n        const userUrl = makeProfileUrl(insertUser.name);\n\n        return (\n            <blockquote className={bodyClasses}>\n                <div className=\"embedText-header embedQuote-header\">\n                    {title}\n                    <a href={userUrl} className=\"embedQuote-userLink\">\n                        <span className=\"embedQuote-userPhotoWrap\">\n                            <img\n                                src={insertUser.photoUrl}\n                                alt={insertUser.name}\n                                className=\"embedQuote-userPhoto\"\n                                tabIndex={-1}\n                            />\n                        </span>\n                        <span className=\"embedQuote-userName\">{insertUser.name}</span>\n                    </a>\n                    <time\n                        className=\"embedText-dateTime embedQuote-dateTime meta\"\n                        dateTime={this.dateTime}\n                        title={this.titleTime}\n                    >\n                        {this.humanTime}\n                    </time>\n\n                    {this.state.needsCollapseButton && (\n                        <button\n                            type=\"button\"\n                            className=\"embedQuote-collapseButton\"\n                            aria-label={t(\"Toggle Quote\")}\n                            onClick={this.toggleCollapseState}\n                            aria-pressed={this.state.isCollapsed}\n                        >\n                            {this.state.isCollapsed ? <ChevronDownIcon /> : <ChevronUpIcon />}\n                        </button>\n                    )}\n                </div>\n                <div className=\"embedText-main embedQuote-main\">\n                    <div className=\"embedQuote-excerpt userContent\">\n                        <CollapsableUserContent\n                            setNeedsCollapser={this.setNeedsCollapser}\n                            isCollapsed={this.state.isCollapsed}\n                            id={id}\n                            preferredMaxHeight={100}\n                            dangerouslySetInnerHTML={{ __html: body ? body : this.state.renderedBody }}\n                        />\n                    </div>\n                </div>\n            </blockquote>\n        );\n    }\n\n    /**\n     * When the component mounts we need to ensure we have rendered post content.\n     *\n     * Either we were passed the content, or we need to make an API call to render it.\n     */\n    public componentDidMount() {\n        if (this.quoteData.body) {\n            this.props.onRenderComplete();\n        } else {\n            const body =\n                this.quoteData.format === \"Rich\" ? JSON.stringify(this.quoteData.bodyRaw) : this.quoteData.bodyRaw;\n            void api\n                .post(\"/rich/quote\", {\n                    body,\n                    format: this.quoteData.format,\n                })\n                .then(response => {\n                    this.setState({ renderedBody: response.data.quote }, this.props.onRenderComplete);\n                });\n        }\n    }\n\n    /**\n     * Callback for the collapser to determine if we need to show the collapse toggle or not.\n     */\n    private setNeedsCollapser = needsCollapser => {\n        this.setState({ needsCollapseButton: needsCollapser });\n    };\n\n    /**\n     * Toggle the state of whether or not we are collapsed.\n     */\n    private toggleCollapseState = (event: React.ChangeEvent<any>) => {\n        event.preventDefault();\n        this.setState({ isCollapsed: !this.state.isCollapsed });\n    };\n\n    /**\n     * Get the quote embed data out of the scrape data.\n     */\n    private get quoteData(): IQuoteEmbedData {\n        return this.props.data.attributes as IQuoteEmbedData;\n    }\n\n    /**\n     * Get the timestamp to display.\n     */\n    private get dateTime(): string {\n        return this.quoteData.dateUpdated || this.quoteData.dateInserted;\n    }\n\n    /**\n     * Get the title of the time tag (long extended date)\n     */\n    private get titleTime(): string {\n        const date = new Date(this.dateTime);\n        return date.toLocaleString(\n            undefined,\n            { year: \"numeric\", month: \"long\", day: \"numeric\", weekday: \"long\", hour: \"numeric\", minute: \"numeric\" },\n        );\n    }\n\n    /**\n     * Get a shorter human readable time for the time tag.\n     */\n    private get humanTime(): string {\n        const date = new Date(this.dateTime);\n        return date.toLocaleString(\n            undefined,\n            { year: \"numeric\", month: \"short\", day: \"numeric\" },\n        );\n    }\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React from \"react\";\nimport debounce from \"lodash/debounce\";\nimport { getElementHeight } from \"@dashboard/dom\";\n\ninterface IProps {\n    id: string;\n    isCollapsed: boolean;\n    preferredMaxHeight: number; // The actual max height could exceed this, but once we pass it stop adding elements.\n    setNeedsCollapser?: (needsCollapser: boolean) => void;\n    dangerouslySetInnerHTML: {\n        __html: string;\n    };\n}\n\ninterface IState {\n    maxHeight: number | string;\n}\n\ninterface IHeightInfo {}\n\n/**\n * A class for dynamic collapsable user content.\n */\nexport default class CollapsableUserContent extends React.PureComponent<IProps, IState> {\n    public state = {\n        maxHeight: \"100%\",\n    };\n    private selfRef: React.RefObject<HTMLDivElement> = React.createRef();\n\n    public render() {\n        const style: React.CSSProperties = { overflow: \"hidden\", maxHeight: this.state.maxHeight };\n\n        return (\n            <div\n                id={this.props.id}\n                className=\"collapsableContent userContent\"\n                style={style}\n                ref={this.selfRef}\n                dangerouslySetInnerHTML={this.props.dangerouslySetInnerHTML}\n            />\n        );\n    }\n\n    /**\n     * Do the initial height calculation and recalcuate if the window dimensions change.\n     */\n    public componentDidMount() {\n        this.calcMaxHeight();\n        window.addEventListener(\"resize\", () =>\n            debounce(() => {\n                this.calcMaxHeight();\n            }, 200)(),\n        );\n    }\n\n    /**\n     * If certain primary props change we need to recalculate the content height.\n     */\n    public componentDidUpdate(prevProps: IProps) {\n        if (\n            prevProps.dangerouslySetInnerHTML.__html !== this.props.dangerouslySetInnerHTML.__html ||\n            prevProps.isCollapsed !== this.props.isCollapsed\n        ) {\n            this.calcMaxHeight();\n        }\n    }\n\n    /**\n     * Calculate the exact pixel max height of the content around the threshold of preferredMaxHeight.\n     */\n    private getHeightInfo(): {\n        height: number | null;\n        needsCollapser: boolean;\n    } {\n        const self = this.selfRef.current;\n\n        if (self === null) {\n            return {\n                height: null,\n                needsCollapser: false,\n            };\n        }\n\n        if (self.childElementCount <= 1) {\n            return {\n                height: null,\n                needsCollapser: false,\n            };\n        }\n\n        let finalMaxHeight = 0;\n        let lastBottomMargin = 0;\n        for (const child of Array.from(self.children)) {\n            if (finalMaxHeight > this.props.preferredMaxHeight) {\n                return {\n                    height: finalMaxHeight,\n                    needsCollapser: true,\n                };\n            }\n\n            const { height, bottomMargin } = getElementHeight(child, lastBottomMargin);\n            if (finalMaxHeight > 0 && height > this.props.preferredMaxHeight) {\n                return {\n                    height: finalMaxHeight,\n                    needsCollapser: true,\n                };\n            }\n            lastBottomMargin = bottomMargin;\n\n            finalMaxHeight += height;\n        }\n\n        return {\n            height: finalMaxHeight,\n            needsCollapser: finalMaxHeight > this.props.preferredMaxHeight,\n        };\n    }\n\n    /**\n     * Calculate the CSS max height that we want to apply to the container div.\n     */\n    private calcMaxHeight() {\n        const { height, needsCollapser } = this.getHeightInfo();\n        if (needsCollapser && this.props.isCollapsed) {\n            this.setState({ maxHeight: height! });\n        } else {\n            this.setState({ maxHeight: this.selfRef.current!.scrollHeight });\n        }\n\n        this.props.setNeedsCollapser && this.props.setNeedsCollapser(needsCollapser);\n    }\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React from \"react\";\nimport { IEmbedProps } from \"@dashboard/embeds\";\n\n/**\n * A base embed react component class.\n * @see {registerEmbedComponent}\n */\nexport default abstract class BaseEmbed<P extends IEmbedProps = IEmbedProps, S = {}> extends React.Component<P, S> {\n    public componentDidMount() {\n        this.props.onRenderComplete();\n    }\n\n    public abstract render();\n}\n","/**\n * Wire together the different parts of the application.\n *\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport { addRoutes, addComponent, onReady } from \"@dashboard/application\";\nimport React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport SignInPage from \"@dashboard/app/authenticate/SignInPage\";\nimport PasswordPage from \"@dashboard/app/authenticate/PasswordPage\";\nimport RecoverPasswordPage from \"@dashboard/app/authenticate/RecoverPasswordPage\";\nimport Router from \"@dashboard/components/Router\";\nimport { stickyHeader } from \"@dashboard/dom\";\nimport { registerReducer } from \"@dashboard/state/reducerRegistry\";\nimport authenticateReducer from \"@dashboard/state/authenticate/authenticateReducer\";\nimport usersReducer from \"@dashboard/state/users/usersReducer\";\nimport { initCodePenEmbeds } from \"@dashboard/app/user-content/embeds/codepen\";\nimport { initGettyEmbeds } from \"@dashboard/app/user-content/embeds/getty\";\nimport { initGiphyEmbeds } from \"@dashboard/app/user-content/embeds/giphy\";\nimport { initImageEmbeds } from \"@dashboard/app/user-content/embeds/image\";\nimport { initImgurEmbeds } from \"@dashboard/app/user-content/embeds/imgur\";\nimport { initInstagramEmbeds } from \"@dashboard/app/user-content/embeds/instagram\";\nimport { initLinkEmbeds } from \"@dashboard/app/user-content/embeds/link\";\nimport { initSoundcloudEmbeds } from \"@dashboard/app/user-content/embeds/soundcloud\";\nimport { initTwitterEmbeds } from \"@dashboard/app/user-content/embeds/twitter\";\nimport { initVideoEmbeds } from \"@dashboard/app/user-content/embeds/video\";\nimport { initEmojiSupport } from \"@dashboard/app/user-content/emoji\";\nimport { initSpoilers } from \"@dashboard/app/user-content/spoilers\";\nimport { initQuoteEmbeds } from \"@dashboard/app/user-content/embeds/quote\";\n\n// User content\ninitEmojiSupport();\ninitSpoilers();\ninitCodePenEmbeds();\ninitGettyEmbeds();\ninitGiphyEmbeds();\ninitImageEmbeds();\ninitImgurEmbeds();\ninitInstagramEmbeds();\ninitLinkEmbeds();\ninitSoundcloudEmbeds();\ninitTwitterEmbeds();\ninitVideoEmbeds();\ninitQuoteEmbeds();\n\n// Redux\nregisterReducer(\"authenticate\", authenticateReducer);\nregisterReducer(\"users\", usersReducer);\n\n// Routing\naddComponent(\"App\", Router);\naddRoutes([\n    <Route exact path=\"/authenticate/signin\" component={SignInPage} />,\n    <Route exact path=\"/authenticate/password\" component={PasswordPage} />,\n    <Route exact path=\"/authenticate/recoverpassword\" component={RecoverPasswordPage} />,\n]);\n\n// Other site initializations\nonReady(() => {\n    stickyHeader();\n});\n","/**\n * Set wepback's public path.\n * Otherwise the lookups of dynamically imported webpack files can fail on sites that have a different webroot\n * Eg. installed in a subfolder / using Reverse Proxy.\n *\n * @author Adam Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license http://www.opensource.org/licenses/gpl-2.0.php GNU GPL v2\n */\n\nconst potentialPublicPath = window.gdn && window.gdn.meta && window.gdn.meta.WebRoot;\nconst finalPublicPath = potentialPublicPath != null ? potentialPublicPath : \"/\";\n\n/**\n * This needs to be a free variable.\n *\n * Webpack does some magic to make this work.\n * It you try and set a local or global version of it, it WILL NOT work.\n *\n * @see https://stackoverflow.com/questions/12934929/what-are-free-variables\n * @see https://webpack.js.org/configuration/output/#output-publicpath\n * @see https://github.com/webpack/webpack/issues/2776#issuecomment-233208623\n */\n// @ts-ignore: Cannot find variable warning. See comment aboe.\n__webpack_public_path__ = finalPublicPath;\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license http://www.opensource.org/licenses/gpl-2.0.php GNU GPL v2\n */\n\nimport { generateApiActionCreators, ActionsUnion, apiThunk } from \"@dashboard/state/utility\";\nimport { IUserAuthenticator } from \"@dashboard/@types/api\";\n\nexport const GET_USER_AUTHENTICATORS_REQUEST = \"GET_USER_AUTHENTICATORS_REQUEST\";\nexport const GET_USER_AUTHENTICATORS_SUCCESS = \"GET_USER_AUTHENTICATORS_SUCCESS\";\nexport const GET_USER_AUTHENTICATORS_ERROR = \"GET_USER_AUTHENTICATORS_ERROR\";\n\nconst getAuthenticatorsActions = generateApiActionCreators(\n    GET_USER_AUTHENTICATORS_REQUEST,\n    GET_USER_AUTHENTICATORS_SUCCESS,\n    GET_USER_AUTHENTICATORS_ERROR,\n    // https://github.com/Microsoft/TypeScript/issues/10571#issuecomment-345402872\n    {} as IUserAuthenticator[],\n);\n\nexport const getUserAuthenticators = () =>\n    apiThunk(\"get\", \"authenticate/authenticators\", getAuthenticatorsActions, undefined);\n\nexport type ActionTypes = ActionsUnion<typeof getAuthenticatorsActions>;\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport * as React from \"react\";\nimport { connect } from \"react-redux\";\nimport { t } from \"@dashboard/application\";\nimport DocumentTitle from \"@dashboard/components/DocumentTitle\";\nimport PasswordForm from \"./components/PasswordForm\";\nimport SSOMethods from \"./components/SSOMethods\";\nimport { getRequiredID, IRequiredComponentID } from \"@dashboard/componentIDs\";\nimport Or from \"@dashboard/components/forms/Or\";\nimport PageLoading from \"@dashboard/components/PageLoading\";\nimport { LoadStatus } from \"@dashboard/@types/api\";\nimport { IStoreState, IAuthenticatorState } from \"@dashboard/@types/state\";\nimport { getUserAuthenticators } from \"@dashboard/state/authenticate/authenticatorsActions\";\n\ninterface IProps {\n    authenticatorState: IAuthenticatorState;\n    loadAuthenticators: typeof getUserAuthenticators;\n}\n\nexport class SignInPage extends React.Component<IProps, IRequiredComponentID> {\n    public pageTitleID: string;\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            id: getRequiredID(props, \"SignInPage\"),\n        };\n    }\n\n    get titleID(): string {\n        return this.state.id + \"-pageTitle\";\n    }\n\n    public componentDidMount() {\n        if (this.props.authenticatorState.status === LoadStatus.PENDING) {\n            this.props.loadAuthenticators();\n        }\n    }\n\n    public render() {\n        const { authenticatorState } = this.props;\n\n        if (authenticatorState.status !== LoadStatus.SUCCESS) {\n            // TODO: Use a generic fallback component for the other states.\n            return null;\n        }\n\n        let showPassword = false;\n        const ssoMethods = authenticatorState.data.filter(a => {\n            if (a.type === \"password\") {\n                showPassword = true;\n                return false;\n            }\n            return true;\n        });\n\n        return (\n            <div id={this.state.id} className=\"authenticateUserCol\">\n                <DocumentTitle title={t(\"Sign In\")}>\n                    <h1 id={this.titleID} className=\"isCentered\">\n                        {t(\"Sign In\")}\n                    </h1>\n                </DocumentTitle>\n                <SSOMethods ssoMethods={ssoMethods} />\n                <Or visible={showPassword && ssoMethods.length > 0} />\n                {showPassword && <PasswordForm />}\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps({ authenticate }: IStoreState) {\n    return {\n        authenticatorState: authenticate.authenticators,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        loadAuthenticators: () => {\n            dispatch(getUserAuthenticators());\n        },\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps,\n)(SignInPage);\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React from \"react\";\nimport { t } from \"@dashboard/application\";\n\ninterface IProps {\n    visible: boolean;\n}\n\nexport default class Or extends React.PureComponent<IProps, {}> {\n    public static defaultProps: IProps = {\n        visible: true,\n    };\n\n    public render() {\n        return this.props.visible ? (\n            <div className=\"inputBlock-labelText authenticateUser-divider\">{t(\"or\")}</div>\n        ) : null;\n    }\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport * as React from \"react\";\nimport { t } from \"@dashboard/application\";\nimport DocumentTitle from \"@dashboard/components/DocumentTitle\";\nimport PasswordForm from \"./components/PasswordForm\";\nimport { uniqueIDFromPrefix } from \"@dashboard/componentIDs\";\n\nexport default class SignInPage extends React.Component {\n    private id = uniqueIDFromPrefix(\"PasswordPage\");\n\n    get titleID(): string {\n        return this.id + \"-pageTitle\";\n    }\n\n    public render() {\n        return (\n            <div className=\"authenticateUserCol\">\n                <DocumentTitle title={t(\"Sign In\")}>\n                    <h1 id={this.titleID} className=\"isCentered\">\n                        {t(\"Sign In\")}\n                    </h1>\n                </DocumentTitle>\n                <PasswordForm />\n            </div>\n        );\n    }\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React from \"react\";\nimport { BrowserRouter, Route, RouteProps, Switch } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport { getRoutes, getMeta } from \"@dashboard/application\";\nimport NotFoundPage from \"@dashboard/components/NotFoundPage\";\nimport getStore from \"@dashboard/state/getStore\";\n\n/**\n * The root application component.\n *\n * This component renders the top-level pages that have been registered with {@link module:application.addRoutes}.\n */\nexport default class Router extends React.PureComponent {\n    public render() {\n        const routes = getRoutes().map((route: React.ReactElement<RouteProps>) => {\n            return <route.type key={route.key || route.props.path + (route.props.exact ? \"!\" : \"\")} {...route.props} />;\n        });\n\n        routes.push(<Route key=\"@not-found\" component={NotFoundPage} />);\n\n        return (\n            <Provider store={getStore()}>\n                <BrowserRouter basename={getMeta(\"context.basePath\", \"\")}>\n                    <Switch>{routes}</Switch>\n                </BrowserRouter>\n            </Provider>\n        );\n    }\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React from \"react\";\nimport { sprintf } from \"sprintf-js\";\nimport { t } from \"@dashboard/application\";\nimport DocumentTitle from \"@dashboard/components/DocumentTitle\";\n\nexport default class NotFoundPage extends React.PureComponent<IProps> {\n    public static defaultProps = {\n        type: \"Page\",\n    };\n\n    public render() {\n        return (\n            <div className=\"Center SplashInfo\">\n                <DocumentTitle title={this.title} />\n                <div>{this.message}</div>\n            </div>\n        );\n    }\n\n    private get title() {\n        return this.props.title || sprintf(t(\"%s Not Found\"), t(this.props.type));\n    }\n\n    private get message() {\n        return (\n            this.props.message ||\n            sprintf(t(\"The %s you were looking for could not be found.\"), t(this.props.type.toLowerCase()))\n        );\n    }\n}\n\ninterface IProps {\n    type: string;\n    title?: string;\n    message?: string;\n}\n","/**\n * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport { combineReducers } from \"redux\";\nimport authenticatorsReducer from \"@dashboard/state/authenticate/authenticatorsReducer\";\nimport passwordReducer from \"@dashboard/state/authenticate/passwordReducer\";\n\nconst authenticateReducer = combineReducers({\n    authenticators: authenticatorsReducer,\n    password: passwordReducer,\n});\n\nexport default authenticateReducer;\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license http://www.opensource.org/licenses/gpl-2.0.php GNU GPL v2\n */\n\nimport * as actions from \"@dashboard/state/authenticate/authenticatorsActions\";\nimport { IAuthenticatorState } from \"@dashboard/@types/state\";\nimport { LoadStatus } from \"@dashboard/@types/api\";\n\nconst initialState: IAuthenticatorState = {\n    status: LoadStatus.PENDING,\n};\n\nexport default function authenticatorsReducer(\n    state: IAuthenticatorState = initialState,\n    action: actions.ActionTypes,\n): IAuthenticatorState {\n    switch (action.type) {\n        case actions.GET_USER_AUTHENTICATORS_REQUEST:\n            return {\n                ...state,\n                status: LoadStatus.LOADING,\n            };\n        case actions.GET_USER_AUTHENTICATORS_SUCCESS:\n            return {\n                status: LoadStatus.SUCCESS,\n                data: action.payload.data,\n                error: undefined,\n            };\n        case actions.GET_USER_AUTHENTICATORS_ERROR:\n            return {\n                ...state,\n                status: LoadStatus.ERROR,\n                error: action.payload,\n            };\n        default:\n            return state;\n    }\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license http://www.opensource.org/licenses/gpl-2.0.php GNU GPL v2\n */\n\nimport * as actions from \"@dashboard/state/authenticate/passwordActions\";\nimport { IPasswordState } from \"@dashboard/@types/state\";\nimport { LoadStatus } from \"@dashboard/@types/api\";\n\nconst initialState: IPasswordState = {\n    status: LoadStatus.PENDING,\n};\n\nexport default function passwordReducer(\n    state: IPasswordState = initialState,\n    action: actions.ActionTypes,\n): IPasswordState {\n    switch (action.type) {\n        case actions.POST_AUTHENTICATE_PASSWORD_REQUEST:\n            return {\n                ...state,\n                status: LoadStatus.LOADING,\n            };\n        case actions.POST_AUTHENTICATE_PASSWORD_SUCCESS:\n            return {\n                status: LoadStatus.SUCCESS,\n                data: action.payload.data,\n                error: undefined,\n            };\n        case actions.POST_AUTHENTICATE_PASSWORD_ERROR:\n            return {\n                ...state,\n                status: LoadStatus.ERROR,\n                error: action.payload,\n            };\n        default:\n            return state;\n    }\n}\n","/**\n * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport { combineReducers } from \"redux\";\nimport requestPasswordReducer from \"@dashboard/state/users/requestPasswordReducer\";\n\nconst usersReducer = combineReducers({\n    requestPassword: requestPasswordReducer,\n});\n\nexport default usersReducer;\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license http://www.opensource.org/licenses/gpl-2.0.php GNU GPL v2\n */\n\nimport * as actions from \"@dashboard/state/users/requestPasswordActions\";\nimport { IRequestPasswordState } from \"@dashboard/@types/state\";\nimport { LoadStatus } from \"@dashboard/@types/api\";\n\nconst initialState: IRequestPasswordState = {\n    status: LoadStatus.PENDING,\n};\n\nexport default function passwordReducer(\n    state: IRequestPasswordState = initialState,\n    action: actions.ActionTypes,\n): IRequestPasswordState {\n    switch (action.type) {\n        case actions.POST_REQUEST_PASSWORD_REQUEST:\n            return {\n                ...state,\n                status: LoadStatus.LOADING,\n            };\n        case actions.POST_REQUEST_PASSWORD_SUCCESS:\n            return {\n                status: LoadStatus.SUCCESS,\n                data: action.payload.data,\n                error: undefined,\n            };\n        case actions.POST_REQUEST_PASSWORD_ERROR:\n            return {\n                ...state,\n                status: LoadStatus.ERROR,\n                error: action.payload,\n            };\n        case actions.AFTER_REQUEST_PASSWORD_SUCCESS_NAVIGATE:\n            return initialState;\n        default:\n            return state;\n    }\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React from \"react\";\nimport BaseEmbed from \"@dashboard/app/user-content/embeds/BaseEmbed\";\nimport { registerEmbedComponent } from \"@dashboard/embeds\";\n\nexport function initCodePenEmbeds() {\n    registerEmbedComponent(\"codepen\", CodePenEmbed);\n}\n\nexport class CodePenEmbed extends BaseEmbed {\n    public render() {\n        const { attributes, height } = this.props.data;\n        const { id, src, style } = attributes;\n\n        return <iframe id={id} src={src} height={height || 300} style={style} scrolling=\"no\" />;\n    }\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport { IEmbedData, IEmbedElements, registerEmbedRenderer } from \"@dashboard/embeds\";\nimport { ensureScript } from \"@dashboard/dom\";\nimport { onContent, onReady } from \"@dashboard/application\";\nimport { IScrapeData } from \"@dashboard/@types/api\";\n\nexport function initGettyEmbeds() {\n    registerEmbedRenderer(\"getty\", renderGetty);\n    onReady(convertGettyEmbeds);\n    onContent(convertGettyEmbeds);\n}\n\n/**\n * Render a single getty embed.\n */\nexport async function renderGetty(elements: IEmbedElements, data: IScrapeData) {\n    const contentElement = elements.content;\n    const url = data.attributes.post;\n    const newLink = document.createElement(\"a\");\n    newLink.classList.add(\"gie-single\");\n    newLink.setAttribute(\"href\", \"http://www.gettyimages.ca/detail/\" + url);\n    newLink.setAttribute(\"id\", data.attributes.id);\n    contentElement.style.width = `${data.width}px`;\n    contentElement.appendChild(newLink);\n    setImmediate(() => {\n        void loadGettyImages(data);\n    });\n}\n\n/**\n * Renders posted getty embeds.\n */\nasync function convertGettyEmbeds() {\n    const gettyPosts = document.querySelectorAll(\".js-gettyEmbed\");\n    if (gettyPosts.length > 0) {\n        for (const post of gettyPosts) {\n            const url = post.getAttribute(\"href\") || \"\";\n            const id = post.getAttribute(\"id\");\n            const sig = post.getAttribute(\"data-sig\");\n            const height = Number(post.getAttribute(\"data-height\")) || 1;\n            const width = Number(post.getAttribute(\"data-width\")) || 1;\n            const items = post.getAttribute(\"data-items\");\n            const capt = post.getAttribute(\"data-capt\");\n            const tld = post.getAttribute(\"data-tld\");\n            const i360 = post.getAttribute(\"data-is360\");\n            const data: IEmbedData = {\n                type: \"getty\",\n                url,\n                height,\n                width,\n                attributes: { id, sig, items, capt, tld, i360 },\n            };\n            await loadGettyImages(data);\n            post.classList.remove(\"js-gettyEmbed\");\n        }\n    }\n}\n\n/**\n * Loads getty embeds into a global object and fire getty's widget.js.\n * @param data\n * @returns {Promise<void>}\n */\nasync function loadGettyImages(data) {\n    const fallbackCallback = c => {\n        (window.gie.q = window.gie.q || []).push(c);\n    };\n    // This is part of Getty's embed code, we need to ensure embeds are loaded and sent to their widget.js script.\n    window.gie = window.gie || fallbackCallback;\n\n    window.gie(() => {\n        window.gie.widgets.load({\n            id: data.attributes.id,\n            sig: data.attributes.sig,\n            w: data.width + \"px\",\n            h: data.height + \"px\",\n            items: data.attributes.items,\n            caption: data.attributes.isCaptioned,\n            tld: data.attributes.tld,\n            is360: data.attributes.is360,\n        });\n    });\n\n    /// DO NOT IGNORE\n    /// This will turn totally sideways if window.gie is not populated before the script is initially loaded.\n    await ensureScript(\"//embed-cdn.gettyimages.com/widgets.js\");\n}\n"],"sourceRoot":""}