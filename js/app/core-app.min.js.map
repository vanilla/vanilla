{"version":3,"sources":["webpack://core_app/webpack/bootstrap","webpack://core_app/delegated ./src/scripts/dom.ts from dll-reference lib_core_app","webpack://core_app/delegated ./src/scripts/application.ts from dll-reference lib_core_app","webpack://core_app/external \"lib_core_app\"","webpack://core_app/./node_modules/lodash/_Symbol.js","webpack://core_app/./node_modules/lodash/_root.js","webpack://core_app/./node_modules/lodash/isObject.js","webpack://core_app/./node_modules/lodash/debounce.js","webpack://core_app/./node_modules/shave/dist/shave.es.js","webpack://core_app/./src/scripts/app/user-content/embeds.ts","webpack://core_app/./src/scripts/app/user-content/spoilers.ts","webpack://core_app/./src/scripts/app/core-app.ts","webpack://core_app/./node_modules/lodash/isObjectLike.js","webpack://core_app/./node_modules/lodash/_objectToString.js","webpack://core_app/./node_modules/lodash/_getRawTag.js","webpack://core_app/./node_modules/lodash/_baseGetTag.js","webpack://core_app/./node_modules/lodash/isSymbol.js","webpack://core_app/./node_modules/lodash/toNumber.js","webpack://core_app/delegated ../vanilla-cli/src/NodeTools/node_modules/webpack/buildin/global.js from dll-reference lib_core_app","webpack://core_app/./node_modules/lodash/_freeGlobal.js","webpack://core_app/./node_modules/lodash/now.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","default","object","property","prototype","hasOwnProperty","p","s","t","e","lib_core_app","Symbol","freeGlobal","freeSelf","self","root","Function","type","isObject","now","toNumber","nativeMax","Math","max","nativeMin","min","func","wait","options","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","args","thisArg","apply","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","setTimeout","timeWaiting","debounced","isInvoking","arguments","this","cancel","clearTimeout","flush","shave_es","target","maxHeight","opts","length","Error","els","document","querySelectorAll","character","classname","spaces","charHtml","el","styles","style","span","querySelector","textProp","textContent","removeChild","fullText","words","split","heightStyle","height","maxHeightStyle","offsetHeight","pivot","slice","join","insertAdjacentHTML","diff","truncateEmbedLinks","container","body","forEach","excerpt","untruncatedText","domfrom_dll_reference_lib_core_app","getData","innerHTML","setData","parseInt","getComputedStyle","handlePlayVideo","HTMLElement","closest","dataset","url","convertLegacyTweetEmbeds","card","classList","contains","getAttribute","tweetID","window","twttr","add","widgets","createTweet","remove","conversation","handleToggleSpoiler","spoilerContainer","toggle","core_app_init","convertToSafeEmojiCharacters","delegateEvent","ensureScript","then","ready","applicationfrom_dll_reference_lib_core_app","onContent","addEventListener","debounce_default","onReady","nativeObjectToString","toString","objectProto","symToStringTag","toStringTag","isOwn","tag","unmasked","getRawTag","objectToString","baseGetTag","isObjectLike","symbolTag","isSymbol","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","NaN","other","valueOf","replace","isBinary","test","global","Date"],"mappings":"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","file":"app/core-app.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/js/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","module.exports = (__webpack_require__(2))(127);","module.exports = (__webpack_require__(2))(11);","module.exports = lib_core_app;","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","function shave(target, maxHeight) {\n  var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (!maxHeight) throw Error('maxHeight is required');\n  var els = typeof target === 'string' ? document.querySelectorAll(target) : target;\n  if (!els) return;\n\n  var character = opts.character || '…';\n  var classname = opts.classname || 'js-shave';\n  var spaces = opts.spaces || true;\n  var charHtml = '<span class=\"js-shave-char\">' + character + '</span>';\n\n  if (!('length' in els)) els = [els];\n  for (var i = 0; i < els.length; i += 1) {\n    var el = els[i];\n    var styles = el.style;\n    var span = el.querySelector('.' + classname);\n    var textProp = el.textContent === undefined ? 'innerText' : 'textContent';\n\n    // If element text has already been shaved\n    if (span) {\n      // Remove the ellipsis to recapture the original text\n      el.removeChild(el.querySelector('.js-shave-char'));\n      el[textProp] = el[textProp]; // nuke span, recombine text\n    }\n\n    var fullText = el[textProp];\n    var words = spaces ? fullText : fullText.split(' ');\n\n    // If 0 or 1 words, we're done\n    if (words.length < 2) continue;\n\n    // Temporarily remove any CSS height for text height calculation\n    var heightStyle = styles.height;\n    styles.height = 'auto';\n    var maxHeightStyle = styles.maxHeight;\n    styles.maxHeight = 'none';\n\n    // If already short enough, we're done\n    if (el.offsetHeight <= maxHeight) {\n      styles.height = heightStyle;\n      styles.maxHeight = maxHeightStyle;\n      continue;\n    }\n\n    // Binary search for number of words which can fit in allotted height\n    var max = words.length - 1;\n    var min = 0;\n    var pivot = void 0;\n    while (min < max) {\n      pivot = min + max + 1 >> 1; // eslint-disable-line no-bitwise\n      el[textProp] = spaces ? words.slice(0, pivot) : words.slice(0, pivot).join(' ');\n      el.insertAdjacentHTML('beforeend', charHtml);\n      if (el.offsetHeight > maxHeight) max = spaces ? pivot - 2 : pivot - 1;else min = pivot;\n    }\n\n    el[textProp] = spaces ? words.slice(0, max) : words.slice(0, max).join(' ');\n    el.insertAdjacentHTML('beforeend', charHtml);\n    var diff = spaces ? words.slice(max) : words.slice(max).join(' ');\n\n    el.insertAdjacentHTML('beforeend', '<span class=\"' + classname + '\" style=\"display:none;\">' + diff + '</span>');\n\n    styles.height = heightStyle;\n    styles.maxHeight = maxHeightStyle;\n  }\n}\n\nexport default shave;\n","/**\n * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport { delegateEvent, ensureScript } from \"@core/dom\";\nimport { setData, getData } from \"@core/dom\";\nimport debounce from \"lodash/debounce\";\nimport shave from \"shave\";\nimport { onContent } from \"@core/application\";\n\nexport default function init() {\n    delegateEvent(\"click\", \".js-playVideo\", handlePlayVideo);\n    truncateEmbedLinks();\n\n    // Legacy twitter embeds.\n    if (document.querySelectorAll(\".twitter-card\").length > 0) {\n        return ensureScript(\"//platform.twitter.com/widgets.js\").then(() => {\n            if (window.twttr) {\n                window.twttr.ready(convertLegacyTweetEmbeds);\n\n                onContent(() => {\n                    window.twttr.ready(convertLegacyTweetEmbeds);\n                });\n            }\n        });\n    }\n\n    // Resize\n    window.addEventListener(\"resize\", () => debounce(truncateEmbedLinks, 200)());\n}\n\n/**\n * Truncate embed link excerpts in a container\n *\n * @param container - Element containing embeds to truncate\n */\nexport function truncateEmbedLinks(container = document.body) {\n    const embeds = container.querySelectorAll(\".embedLink-excerpt\");\n    embeds.forEach(el => {\n        let untruncatedText = getData(el, \"untruncatedText\");\n\n        if (!untruncatedText) {\n            untruncatedText = el.innerHTML;\n            setData(el, \"untruncatedText\", untruncatedText);\n        } else {\n            el.innerHTML = untruncatedText;\n        }\n        truncateTextBasedOnMaxHeight(el);\n    });\n}\n\n/**\n * Truncate element text based on max-height\n *\n * @param excerpt - The excerpt to truncate.\n */\nexport function truncateTextBasedOnMaxHeight(excerpt: Element) {\n    const maxHeight = parseInt(getComputedStyle(excerpt)[\"max-height\"], 10);\n    if (maxHeight && maxHeight > 0) {\n        shave(excerpt, maxHeight);\n    }\n}\n\n/**\n * Handle a click on a video.\n *\n * @param event - The event.\n */\nfunction handlePlayVideo() {\n    const playButton = this;\n    if (!(playButton instanceof HTMLElement)) {\n        return;\n    }\n    const container = playButton.closest(\".embedVideo-ratio\");\n    if (container) {\n        container.innerHTML = `<iframe frameborder=\"0\" allow=\"autoplay; encrypted-media\" class=\"embedVideo-iframe\" src=\"${\n            playButton.dataset.url\n        }\" allowfullscreen></iframe>`;\n    }\n}\n\nfunction convertLegacyTweetEmbeds() {\n    document.querySelectorAll(\".twitter-card\").forEach(card => {\n        if (!card.classList.contains(\"twitter-card-loaded\") && !card.classList.contains(\"twitter-card-preload\")) {\n            const tweetUrl = card.getAttribute(\"data-tweeturl\");\n            const tweetID = card.getAttribute(\"data-tweetid\");\n            if (window.twttr) {\n                card.classList.add(\"twitter-card-preload\");\n                window.twttr.widgets.createTweet(\n                    tweetID,\n                    card,\n                    () => {\n                        const url = card.querySelector(\".tweet-url\");\n                        if (url) {\n                            url.remove();\n                        }\n                        // Fade it in.\n                        card.classList.add(\"twitter-card-loaded\");\n                    },\n                    {\n                        conversation: \"none\",\n                    },\n                );\n            }\n        }\n    });\n}\n","/**\n * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport { delegateEvent } from \"@core/dom\";\n\n// Setup\nexport default function init() {\n    delegateEvent(\"click\", \".js-toggleSpoiler\", handleToggleSpoiler);\n}\n\n/**\n * Toggle a spoiler open and closed.\n */\nfunction handleToggleSpoiler() {\n    const toggleButton = this;\n    if (!(toggleButton instanceof HTMLElement)) {\n        return;\n    }\n\n    const spoilerContainer = toggleButton.closest(\".spoiler\");\n    if (spoilerContainer) {\n        spoilerContainer.classList.toggle(\"isShowingSpoiler\");\n    }\n}\n","/**\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license GPLv2\n */\n\nimport initEmbeds from \"./user-content/embeds\";\nimport initSpoilers from \"./user-content/spoilers\";\nimport { onReady, onContent } from \"@core/application\";\nimport { convertToSafeEmojiCharacters } from \"@core/dom\";\n\nfunction init() {\n    convertToSafeEmojiCharacters(document.body);\n    initEmbeds();\n    initSpoilers();\n}\n\nonReady(init);\nonContent(init);\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","module.exports = (__webpack_require__(2))(23);","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n"],"sourceRoot":""}