/*!
 * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */

$searchBar-search_minWidth: 109px;
$searchBar-searchIcon_space: 32px;

.searchBar {
    .suggestedTextInput-inputText {
        border: {
            top-right-radius: 0;
            bottom-right-radius: 0;
        }
    }
}

.searchBar-clear {
    position: relative;
    display: flex;
    box-sizing: border-box;
    height: $formElement-height;
    width: $formElement-height;
    color: $vanillaHeader_fg;
}

.searchBar-form {
    display: block;
}

.searchBar-content {
    display: flex;
    position: relative;
}

.searchBar-inputWrap {
    flex-grow: 1;
}

.heading.searchBar-heading {
    margin-bottom: 5px;
}


// Classes from react-select

.searchBar__placeholder {
    color: $formElement-placeholderColor;
    margin: auto;
}


.searchBar-content { // For specificity
    .searchBar-submitButton {
        position: relative;
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
        margin-left: -1px;
        min-width: $searchBar-search_minWidth;
        flex-basis: $searchBar-search_minWidth;

        &:hover,
        &:focus {
            z-index: 1;
        }
    }

    .searchBar__control {
        display: flex;
        flex: 1;
        border: 0;
        background-color: transparent;
        height: 100%;
        max-width: calc(100% - #{$formElement-height});


        &.searchBar__control--is-focused {
            box-shadow: none;


            .inputText {
                border-top-right-radius: 0;
                border-bottom-right-radius: 0;
                border-color: $button-basic_focus_border;
            }
        }
    };

    .searchBar__value-container {
        overflow: auto;

        > div {
            width: 100%;
        }
    }
}

.searchBar-valueContainer {
    display: flex;
    align-items: center;
}

.searchBar__indicators {
    display: none;
}

.searchBar__input {
    width: 100%;
    display: block !important;

    input {
        width: 100% !important;
        line-height: $global-base_lineHeight;
    }
}

.searchBar-actionButton {
    margin: {
        left: auto;
        right: -($buttonIcon-iconPadding_offset + 3); // the "3" is to offset the pencil
    }
    opacity: .8;

    &:hover {
        opacity: 1;
    }
}

.searchBar-label {
    display: flex;
    align-items: center;
    justify-content: flex-start;
}

.searchBar-valueContainer.suggestedTextInput-inputText.inputText {
    display: flex;
    flex-wrap: nowrap;
    align-items: center;
    justify-content: flex-start;
    padding-left: $searchBar-searchIcon_space;

}

.searchBar-iconContainer {
    position: absolute;
    top: 0;
    bottom: 0;
    left: 2px;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    width: $searchBar-searchIcon_space;
}

.searchBar-icon {
    width: 13px;
    height: 13px;
}

.searchBar__menu-list {
    max-height: calc(100vh - #{$vanillaHeader_height});
}
