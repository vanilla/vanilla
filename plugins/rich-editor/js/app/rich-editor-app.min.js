var richEditor_app=function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},o.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/plugins/rich-editor/js/",o(o.s=128)}([function(e,t,o){e.exports=o(7)(1)},function(e,t,o){e.exports=o(7)(5)},function(e,t,o){"use strict";o.d(t,"n",function(){return b}),o.d(t,"c",function(){return j}),o.d(t,"l",function(){return _}),o.d(t,"o",function(){return O}),o.d(t,"i",function(){return S}),o.d(t,"j",function(){return C}),o.d(t,"k",function(){return w}),o.d(t,"e",function(){return E}),o.d(t,"g",function(){return L}),o.d(t,"b",function(){return k}),o.d(t,"f",function(){return A}),o.d(t,"h",function(){return T}),o.d(t,"m",function(){return P}),o.d(t,"a",function(){return I}),o.d(t,"d",function(){return R});var r=o(15),n=o.n(r),i=o(3),a=o.n(i),u=o(4),l=o.n(u),s=o(14),c=o.n(s),p=o(5),f=o.n(p),d=o(12),h=o(17),m=o.n(h),g=o(10),y=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var r,n,i=o.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){n={error:e}}finally{try{r&&!r.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return a};function v(e){if(e)return{start:e.index,end:e.index+e.length-1}}function b(e,t,o){return void 0===o&&(o=null),null===o&&(o=e.getSelection()),!!o&&(o.length>0?e.scroll.descendants(t,o.index,o.length).length>0:!!e.scroll.descendant(t,o.index)[0])}function j(e,t,o){void 0===o&&(o=null),null===o&&(o=e.getSelection());var r=e.scroll.descendants(t,o.index,o.length),i=r[0],a=r[r.length-1],u=function(e,t,o){var r=v(e),n=v(t),i=v(o);return r&&n&&n.start<r.start&&(r.start=n.start),r&&i&&i.end>r.end&&(r.end=i.end),function(e){if(e)return{index:e.start,length:e.end-e.start+1}}(r)}(o,i&&{index:i.offset(e.scroll),length:i.length()},a&&{index:a.offset(e.scroll),length:a.length()});u&&e.formatText(u.index,u.length,"link",!1,n.a.sources.USER)}function _(e,t){var o=function(e,t){return!(!t.children||!t.children.head)&&(e===t.children.head||o(e,t.children.head))};return o(e,t.scroll)}function O(e){var t,o=y(e.getLine(0),1)[0],r=o.constructor.blotName,i=(new c.a).retain(o.length(),((t={})[r]=!1,t));e.updateContents(i,n.a.sources.USER)}function S(e,t,o){void 0===o&&(o=1);var r=y(e.getLine(t.index),2),i=r[0],a=r[1],u=f.a.create("block",""),l=i.next;u.insertInto(e.scroll,l);var s=t.index+i.length()-a,p=(new c.a).retain(s-o).delete(o);e.updateContents(p,n.a.sources.USER),e.setSelection(s-o,n.a.sources.USER)}function C(e){var t=f.a.create("block");e.scroll.appendChild(t),e.update(a.a.sources.USER),e.setSelection(e.scroll.length(),0)}function w(e){var t=f.a.create("block");e.scroll.insertBefore(t,e.scroll.children.head),e.update(a.a.sources.USER),e.setSelection(0,0)}function E(e,t,o){var r=o?function(e){return e instanceof o}:function(e){return!0};return e.scroll.descendant(r,t)[0]}var x=1;function L(e,t,o){void 0===o&&(o=!1),t||(t=e.getSelection().index);var r=y(e.getLeaf(t),1)[0].offset(e.scroll),n=t-r,i=e.getText(r,n),a=i.lastIndexOf("@");if(-1===a)return null;var u=r+a,l=i.substring(a);return o&&(l=l.replace("\n","")),l.length-1>=x&&Object(d.matchAtMention)(l,!1,!1)?{index:u,length:l.length}:null}function k(e,t,o){void 0===o&&(o=function(){}),e.addEventListener("keydown",function(r){l.a.match(r,{key:l.a.keys.ESCAPE,shiftKey:!1})&&e.contains(document.activeElement)&&(r.preventDefault(),t.focus(),o(r))})}var N=new Map;function A(e){return N.has(e)?N.get(e):(N.set(e,m()("editorInstance")),A(e))}function T(e,t,o){var r=e.getLine(t)[0],n=r.offset(e.scroll),i=r.split(t-n);r.parent.insertBefore(o,i||void 0)}function P(e,t){return!!t&&!!E(e,t.index,g.a)}var I="[editor] force selection update";function R(){document.dispatchEvent(new CustomEvent(I))}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=y(o(5)),n=y(o(69)),i=o(16),a=y(i),u=y(o(46)),l=y(o(29)),s=y(o(70)),c=y(o(40)),p=y(o(22)),f=y(o(215)),d=y(o(21)),h=y(o(93)),m=y(o(92)),g=y(o(4));function y(e){return e&&e.__esModule?e:{default:e}}n.default.register({"blots/block":a.default,"blots/block/embed":i.BlockEmbed,"blots/break":u.default,"blots/container":l.default,"blots/cursor":s.default,"blots/embed":c.default,"blots/inline":p.default,"blots/scroll":f.default,"blots/text":d.default,"modules/clipboard":h.default,"modules/history":m.default,"modules/keyboard":g.default}),r.default.register(a.default,u.default,s.default,p.default,f.default,d.default),t.default=n.default},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],r=!0,n=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(o.push(a.value),!t||o.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(n)throw i}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),a=m(o(90)),u=m(o(55)),l=m(o(38)),s=m(o(14)),c=m(o(91)),p=m(o(5)),f=m(o(69)),d=m(o(54)),h=m(o(28));function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var y=(0,d.default)("quill:keyboard"),v=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",b=function(e){function t(e,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return r.bindings={},Object.keys(r.options.bindings).forEach(function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&r.options.bindings[t]&&r.addBinding(r.options.bindings[t])}),r.addBinding({key:t.keys.ENTER,shiftKey:null},C),r.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(r.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},_),r.addBinding({key:t.keys.DELETE},{collapsed:!0},O)):(r.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},_),r.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},O)),r.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},S),r.addBinding({key:t.keys.DELETE},{collapsed:!1},S),r.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},_),r.listen(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,h.default),i(t,null,[{key:"match",value:function(e,t){return t=x(t),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(o){return!!t[o]!==e[o]&&null!==t[o]})&&t.key===(e.which||e.keyCode)}}]),i(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=x(e);if(null==r||null==r.key)return y.warn("Attempted to add invalid keyboard binding",r);"function"==typeof t&&(t={handler:t}),"function"==typeof o&&(o={handler:o}),r=(0,l.default)(r,t,o),this.bindings[r.key]=this.bindings[r.key]||[],this.bindings[r.key].push(r)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",function(o){if(!o.defaultPrevented){var i=o.which||o.keyCode,a=(e.bindings[i]||[]).filter(function(e){return t.match(o,e)});if(0!==a.length){var l=e.quill.getSelection();if(null!=l&&e.quill.hasFocus()){var s=e.quill.getLine(l.index),c=n(s,2),f=c[0],d=c[1],h=e.quill.getLeaf(l.index),m=n(h,2),g=m[0],y=m[1],v=0===l.length?[g,y]:e.quill.getLeaf(l.index+l.length),b=n(v,2),j=b[0],_=b[1],O=g instanceof p.default.Text?g.value().slice(0,y):"",S=j instanceof p.default.Text?j.value().slice(_):"",C={collapsed:0===l.length,empty:0===l.length&&f.length()<=1,format:e.quill.getFormat(l),offset:d,prefix:O,suffix:S};a.some(function(t){if(null!=t.collapsed&&t.collapsed!==C.collapsed)return!1;if(null!=t.empty&&t.empty!==C.empty)return!1;if(null!=t.offset&&t.offset!==C.offset)return!1;if(Array.isArray(t.format)){if(t.format.every(function(e){return null==C.format[e]}))return!1}else if("object"===r(t.format)&&!Object.keys(t.format).every(function(e){return!0===t.format[e]?null!=C.format[e]:!1===t.format[e]?null==C.format[e]:(0,u.default)(t.format[e],C.format[e])}))return!1;return!(null!=t.prefix&&!t.prefix.test(C.prefix)||null!=t.suffix&&!t.suffix.test(C.suffix)||!0===t.handler.call(e,l,C))})&&o.preventDefault()}}}})}}]),t}();function j(e,t){var o,r=e===b.keys.LEFT?"prefix":"suffix";return g(o={key:e,shiftKey:t,altKey:null},r,/^$/),g(o,"handler",function(o){var r=o.index;e===b.keys.RIGHT&&(r+=o.length+1);var i=this.quill.getLeaf(r);return!(n(i,1)[0]instanceof p.default.Embed&&(e===b.keys.LEFT?t?this.quill.setSelection(o.index-1,o.length+1,f.default.sources.USER):this.quill.setSelection(o.index-1,f.default.sources.USER):t?this.quill.setSelection(o.index,o.length+1,f.default.sources.USER):this.quill.setSelection(o.index+o.length+1,f.default.sources.USER),1))}),o}function _(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var o=this.quill.getLine(e.index),r=n(o,1)[0],i={};if(0===t.offset){var a=this.quill.getLine(e.index-1),u=n(a,1)[0];if(null!=u&&u.length()>1){var l=r.formats(),s=this.quill.getFormat(e.index-1,1);i=c.default.attributes.diff(l,s)||{}}}var p=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-p,p,f.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(e.index-p,p,i,f.default.sources.USER),this.quill.focus()}}function O(e,t){var o=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-o)){var r={},i=0,a=this.quill.getLine(e.index),u=n(a,1)[0];if(t.offset>=u.length()-1){var l=this.quill.getLine(e.index+1),s=n(l,1)[0];if(s){var p=u.formats(),d=this.quill.getFormat(e.index,1);r=c.default.attributes.diff(p,d)||{},i=s.length()}}this.quill.deleteText(e.index,o,f.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(e.index+i-1,o,r,f.default.sources.USER)}}function S(e){var t=this.quill.getLines(e),o={};if(t.length>1){var r=t[0].formats(),n=t[t.length-1].formats();o=c.default.attributes.diff(n,r)||{}}this.quill.deleteText(e,f.default.sources.USER),Object.keys(o).length>0&&this.quill.formatLine(e.index,1,o,f.default.sources.USER),this.quill.setSelection(e.index,f.default.sources.SILENT),this.quill.focus()}function C(e,t){var o=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var r=Object.keys(t.format).reduce(function(e,o){return p.default.query(o,p.default.Scope.BLOCK)&&!Array.isArray(t.format[o])&&(e[o]=t.format[o]),e},{});this.quill.insertText(e.index,"\n",r,f.default.sources.USER),this.quill.setSelection(e.index+1,f.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach(function(e){null==r[e]&&(Array.isArray(t.format[e])||"link"!==e&&o.quill.format(e,t.format[e],f.default.sources.USER))})}function w(e){return{key:b.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var o=p.default.query("code-block"),r=t.index,i=t.length,a=this.quill.scroll.descendant(o,r),u=n(a,2),l=u[0],s=u[1];if(null!=l){var c=this.quill.getIndex(l),d=l.newlineIndex(s,!0)+1,h=l.newlineIndex(c+s+i),m=l.domNode.textContent.slice(d,h).split("\n");s=0,m.forEach(function(t,n){e?(l.insertAt(d+s,o.TAB),s+=o.TAB.length,0===n?r+=o.TAB.length:i+=o.TAB.length):t.startsWith(o.TAB)&&(l.deleteAt(d+s,o.TAB.length),s-=o.TAB.length,0===n?r-=o.TAB.length:i-=o.TAB.length),s+=t.length+1}),this.quill.update(f.default.sources.USER),this.quill.setSelection(r,i,f.default.sources.SILENT)}}}}function E(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,o){this.quill.format(e,!o.format[e],f.default.sources.USER)}}}function x(e){if("string"==typeof e||"number"==typeof e)return x({key:e});if("object"===(void 0===e?"undefined":r(e))&&(e=(0,a.default)(e,!1)),"string"==typeof e.key)if(null!=b.keys[e.key.toUpperCase()])e.key=b.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[v]=e.shortKey,delete e.shortKey),e}b.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},b.DEFAULTS={bindings:{bold:E("bold"),italic:E("italic"),underline:E("underline"),indent:{key:b.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",f.default.sources.USER)}},outdent:{key:b.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",f.default.sources.USER)}},"outdent backspace":{key:b.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",f.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,f.default.sources.USER)}},"indent code-block":w(!0),"outdent code-block":w(!1),"remove tab":{key:b.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,f.default.sources.USER)}},tab:{key:b.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new s.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,f.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,f.default.sources.SILENT)}},"list empty enter":{key:b.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,f.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,f.default.sources.USER)}},"checklist enter":{key:b.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),o=n(t,2),r=o[0],i=o[1],a=(0,l.default)({},r.formats(),{list:"checked"}),u=(new s.default).retain(e.index).insert("\n",a).retain(r.length()-i-1).retain(1,{list:"unchecked"});this.quill.updateContents(u,f.default.sources.USER),this.quill.setSelection(e.index+1,f.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:b.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var o=this.quill.getLine(e.index),r=n(o,2),i=r[0],a=r[1],u=(new s.default).retain(e.index).insert("\n",t.format).retain(i.length()-a-1).retain(1,{header:null});this.quill.updateContents(u,f.default.sources.USER),this.quill.setSelection(e.index+1,f.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var o=t.prefix.length,r=this.quill.getLine(e.index),i=n(r,2),a=i[0],u=i[1];if(u>o)return!0;var l=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(e.index," ",f.default.sources.USER),this.quill.history.cutoff();var c=(new s.default).retain(e.index-u).delete(o+1).retain(a.length()-2-u).retain(1,{list:l});this.quill.updateContents(c,f.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-o,f.default.sources.SILENT)}},"code exit":{key:b.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),o=n(t,2),r=o[0],i=o[1],a=(new s.default).retain(e.index+r.length()-i-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(a,f.default.sources.USER)}},"embed left":j(b.keys.LEFT,!1),"embed left shift":j(b.keys.LEFT,!0),"embed right":j(b.keys.RIGHT,!1),"embed right shift":j(b.keys.RIGHT,!0)}},t.default=b,t.SHORTKEY=v},function(e,t,o){var r;r=function(){return function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=9)}([function(e,t,o){"use strict";var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var o=this;return t="[Parchment] "+t,(o=e.call(this,t)||this).message=t,o.name=o.constructor.name,o}return n(t,e),t}(Error);t.ParchmentError=i;var a,u={},l={},s={},c={};function p(e,t){var o;if(void 0===t&&(t=a.ANY),"string"==typeof e)o=c[e]||u[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)o=c.text;else if("number"==typeof e)e&a.LEVEL&a.BLOCK?o=c.block:e&a.LEVEL&a.INLINE&&(o=c.inline);else if(e instanceof HTMLElement){var r=(e.getAttribute("class")||"").split(/\s+/);for(var n in r)if(o=l[r[n]])break;o=o||s[e.tagName]}return null==o?null:t&a.LEVEL&o.scope&&t&a.TYPE&o.scope?o:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(a=t.Scope||(t.Scope={})),t.create=function(e,t){var o=p(e);if(null==o)throw new i("Unable to create "+e+" blot");var r=o;return new r(e instanceof Node||e.nodeType===Node.TEXT_NODE?e:r.create(t),t)},t.find=function e(o,r){return void 0===r&&(r=!1),null==o?null:null!=o[t.DATA_KEY]?o[t.DATA_KEY].blot:r?e(o.parentNode,r):null},t.query=p,t.register=function e(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];if(t.length>1)return t.map(function(t){return e(t)});var r=t[0];if("string"!=typeof r.blotName&&"string"!=typeof r.attrName)throw new i("Invalid definition");if("abstract"===r.blotName)throw new i("Cannot register abstract class");return c[r.blotName||r.attrName]=r,"string"==typeof r.keyName?u[r.keyName]=r:(null!=r.className&&(l[r.className]=r),null!=r.tagName&&(Array.isArray(r.tagName)?r.tagName=r.tagName.map(function(e){return e.toUpperCase()}):r.tagName=r.tagName.toUpperCase(),(Array.isArray(r.tagName)?r.tagName:[r.tagName]).forEach(function(e){null!=s[e]&&null!=r.className||(s[e]=r)}))),r}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(0),n=function(){function e(e,t,o){void 0===o&&(o={}),this.attrName=e,this.keyName=t;var n=r.Scope.TYPE&r.Scope.ATTRIBUTE;null!=o.scope?this.scope=o.scope&r.Scope.LEVEL|n:this.scope=r.Scope.ATTRIBUTE,null!=o.whitelist&&(this.whitelist=o.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,function(e){return e.name})},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=r.query(e,r.Scope.BLOT&(this.scope|r.Scope.TYPE))&&(null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)?t:""},e}();t.default=n},function(e,t,o){"use strict";var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),a=o(5),u=o(0),l=function(e){function t(t){var o=e.call(this,t)||this;return o.build(),o}return n(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach(function(e){e.attach()})},t.prototype.build=function(){var e=this;this.children=new i.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(t){try{var o=s(t);e.insertBefore(o,e.children.head)}catch(e){if(e instanceof u.ParchmentError)return;throw e}})},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,function(e,t,o){e.deleteAt(t,o)})},t.prototype.descendant=function(e,o){var r=this.children.find(o),n=r[0],i=r[1];return null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e?[n,i]:n instanceof t?n.descendant(e,i):[null,-1]},t.prototype.descendants=function(e,o,r){void 0===o&&(o=0),void 0===r&&(r=Number.MAX_VALUE);var n=[],i=r;return this.children.forEachAt(o,r,function(o,r,a){(null==e.blotName&&e(o)||null!=e.blotName&&o instanceof e)&&n.push(o),o instanceof t&&(n=n.concat(o.descendants(e,r,i))),i-=a}),n},t.prototype.detach=function(){this.children.forEach(function(e){e.detach()}),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,o,r){this.children.forEachAt(e,t,function(e,t,n){e.formatAt(t,n,o,r)})},t.prototype.insertAt=function(e,t,o){var r=this.children.find(e),n=r[0],i=r[1];if(n)n.insertAt(i,t,o);else{var a=null==o?u.create("text",t):u.create(t,o);this.appendChild(a)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(t){return e instanceof t}))throw new u.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce(function(e,t){return e+t.length()},0)},t.prototype.moveChildren=function(e,t){this.children.forEach(function(o){e.insertBefore(o,t)})},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var o=u.create(this.statics.defaultChild);this.appendChild(o),o.optimize(t)}else this.remove()},t.prototype.path=function(e,o){void 0===o&&(o=!1);var r=this.children.find(e,o),n=r[0],i=r[1],a=[[this,e]];return n instanceof t?a.concat(n.path(i,o)):(null!=n&&a.push([n,i]),a)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(o){o instanceof t&&o.moveChildren(this),e.prototype.replace.call(this,o)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var o=this.clone();return this.parent.insertBefore(o,this.next),this.children.forEachAt(e,this.length(),function(e,r,n){e=e.split(r,t),o.appendChild(e)}),o},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var o=this,r=[],n=[];e.forEach(function(e){e.target===o.domNode&&"childList"===e.type&&(r.push.apply(r,e.addedNodes),n.push.apply(n,e.removedNodes))}),n.forEach(function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=u.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==o.domNode||t.detach())}}),r.filter(function(e){return e.parentNode==o.domNode}).sort(function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(e){var t=null;null!=e.nextSibling&&(t=u.find(e.nextSibling));var r=s(e);r.next==t&&null!=r.next||(null!=r.parent&&r.parent.removeChild(o),o.insertBefore(r,t))})},t}(a.default);function s(e){var t=u.find(e);if(null==t)try{t=u.create(e)}catch(o){t=u.create(u.Scope.INLINE),[].slice.call(e.childNodes).forEach(function(e){t.domNode.appendChild(e)}),e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=l},function(e,t,o){"use strict";var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var i=o(1),a=o(6),u=o(2),l=o(0),s=function(e){function t(t){var o=e.call(this,t)||this;return o.attributes=new a.default(o.domNode),o}return n(t,e),t.formats=function(e){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var o=l.query(e);o instanceof i.default?this.attributes.attribute(o,t):t&&(null==o||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,o){var r=e.prototype.replaceWith.call(this,t,o);return this.attributes.copy(r),r},t.prototype.update=function(t,o){var r=this;e.prototype.update.call(this,t,o),t.some(function(e){return e.target===r.domNode&&"attributes"===e.type})&&this.attributes.build()},t.prototype.wrap=function(o,r){var n=e.prototype.wrap.call(this,o,r);return n instanceof t&&n.statics.scope===this.statics.scope&&this.attributes.move(n),n},t}(u.default);t.default=s},function(e,t,o){"use strict";var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var i=o(5),a=o(0),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var o=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(o+=1),[this.parent.domNode,o]},t.prototype.value=function(){return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e;var e},t}(i.default);u.scope=a.Scope.INLINE_BLOT,t.default=u},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(0),n=function(){function e(e){this.domNode=e,this.domNode[r.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new r.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return r.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[r.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,o,n){var i=this.isolate(e,t);if(null!=r.query(o,r.Scope.BLOT)&&n)i.wrap(o,n);else if(null!=r.query(o,r.Scope.ATTRIBUTE)){var a=r.create(this.statics.scope);i.wrap(a),a.format(o,n)}},e.prototype.insertAt=function(e,t,o){var n=null==o?r.create("text",t):r.create(t,o),i=this.split(e);this.parent.insertBefore(n,i)},e.prototype.insertInto=function(e,t){if(null!=this.parent&&this.parent.children.remove(this),e.children.insertBefore(this,t),null!=t)var o=t.domNode;null!=this.next&&this.domNode.nextSibling==o||e.domNode.insertBefore(this.domNode,void 0!==o?o:null),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var o=this.split(e);return o.split(t),o},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[r.DATA_KEY]&&delete this.domNode[r.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var o="string"==typeof e?r.create(e,t):e;return o.replace(this),o},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var o="string"==typeof e?r.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(o,this.next),o.appendChild(this),o},e}();n.blotName="abstract",t.default=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),n=o(7),i=o(8),a=o(0),u=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=r.default.keys(this.domNode),o=n.default.keys(this.domNode),u=i.default.keys(this.domNode);t.concat(o).concat(u).forEach(function(t){var o=a.query(t,a.Scope.ATTRIBUTE);o instanceof r.default&&(e.attributes[o.attrName]=o)})},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach(function(o){var r=t.attributes[o].value(t.domNode);e.format(o,r)})},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach(function(e){t.attributes[e].remove(t.domNode)}),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce(function(t,o){return t[o]=e.attributes[o].value(e.domNode),t},{})},e}();t.default=u},function(e,t,o){"use strict";var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});function i(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter(function(e){return 0===e.indexOf(t+"-")})}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map(function(e){return e.split("-").slice(0,-1).join("-")})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){i(e,this.keyName).forEach(function(t){e.classList.remove(t)}),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(i(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(o(1).default);t.default=a},function(e,t,o){"use strict";var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});function i(e){var t=e.split("-"),o=t.slice(1).map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("");return t[0]+o}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map(function(e){return e.split(":")[0].trim()})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[i(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[i(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[i(this.keyName)];return this.canAdd(e,t)?t:""},t}(o(1).default);t.default=a},function(e,t,o){e.exports=o(10)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(2),n=o(3),i=o(4),a=o(12),u=o(13),l=o(14),s=o(15),c=o(16),p=o(1),f=o(7),d=o(8),h=o(6),m=o(0),g={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:r.default,Format:n.default,Leaf:i.default,Embed:s.default,Scroll:a.default,Block:l.default,Inline:u.default,Text:c.default,Attributor:{Attribute:p.default,Class:f.default,Style:d.default,Store:h.default}};t.default=g},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.head=this.tail=void 0,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],void 0),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,o=this.iterator();t=o();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=void 0,this.head=this.tail=e),this.length+=1},e.prototype.offset=function(e){for(var t=0,o=this.head;null!=o;){if(o===e)return t;t+=o.length(),o=o.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var o,r=this.iterator();o=r();){var n=o.length();if(e<n||t&&e===n&&(null==o.next||0!==o.next.length()))return[o,e];e-=n}return[null,0]},e.prototype.forEach=function(e){for(var t,o=this.iterator();t=o();)e(t)},e.prototype.forEachAt=function(e,t,o){if(!(t<=0))for(var r,n=this.find(e),i=n[0],a=e-n[1],u=this.iterator(i);(r=u())&&a<e+t;){var l=r.length();e>a?o(r,e-a,Math.min(t,a+l-e)):o(r,0,Math.min(l,e+t-a)),a+=l}},e.prototype.map=function(e){return this.reduce(function(t,o){return t.push(e(o)),t},[])},e.prototype.reduce=function(e,t){for(var o,r=this.iterator();o=r();)t=e(t,o);return t},e}();t.default=r},function(e,t,o){"use strict";var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var i=o(2),a=o(0),u={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},l=function(e){function t(t){var o=e.call(this,t)||this;return o.parent=null,o.scroll=o,o.observer=new MutationObserver(function(e){o.update(e)}),o.observer.observe(o.domNode,u),o.attach(),o}return n(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,o){this.update(),0===t&&o===this.length()?this.children.forEach(function(e){e.remove()}):e.prototype.deleteAt.call(this,t,o)},t.prototype.formatAt=function(t,o,r,n){this.update(),e.prototype.formatAt.call(this,t,o,r,n)},t.prototype.insertAt=function(t,o,r){this.update(),e.prototype.insertAt.call(this,t,o,r)},t.prototype.optimize=function(t,o){var r=this;void 0===t&&(t=[]),void 0===o&&(o={}),e.prototype.optimize.call(this,o);for(var n=[].slice.call(this.observer.takeRecords());n.length>0;)t.push(n.pop());for(var u=function(e,t){void 0===t&&(t=!0),null!=e&&e!==r&&null!=e.domNode.parentNode&&(null==e.domNode[a.DATA_KEY].mutations&&(e.domNode[a.DATA_KEY].mutations=[]),t&&u(e.parent))},l=function(e){null!=e.domNode[a.DATA_KEY]&&null!=e.domNode[a.DATA_KEY].mutations&&(e instanceof i.default&&e.children.forEach(l),e.optimize(o))},s=t,c=0;s.length>0;c+=1){if(c>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(s.forEach(function(e){var t=a.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(u(a.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,function(e){var t=a.find(e,!1);u(t,!1),t instanceof i.default&&t.children.forEach(function(e){u(e,!1)})})):"attributes"===e.type&&u(t.prev)),u(t))}),this.children.forEach(l),n=(s=[].slice.call(this.observer.takeRecords())).slice();n.length>0;)t.push(n.pop())}},t.prototype.update=function(t,o){var r=this;void 0===o&&(o={}),(t=t||this.observer.takeRecords()).map(function(e){var t=a.find(e.target,!0);if(null!=t)return null==t.domNode[a.DATA_KEY].mutations?(t.domNode[a.DATA_KEY].mutations=[e],t):(t.domNode[a.DATA_KEY].mutations.push(e),null)}).forEach(function(e){null!=e&&e!==r&&null!=e.domNode[a.DATA_KEY]&&e.update(e.domNode[a.DATA_KEY].mutations||[],o)}),null!=this.domNode[a.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,o),this.optimize(t,o)},t}(i.default);l.blotName="scroll",l.defaultChild="block",l.scope=a.Scope.BLOCK_BLOT,l.tagName="DIV",t.default=l},function(e,t,o){"use strict";var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var i=o(3),a=o(0),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.formats=function(o){if(o.tagName!==t.tagName)return e.formats.call(this,o)},t.prototype.format=function(o,r){var n=this;o!==this.statics.blotName||r?e.prototype.format.call(this,o,r):(this.children.forEach(function(e){e instanceof i.default||(e=e.wrap(t.blotName,!0)),n.attributes.copy(e)}),this.unwrap())},t.prototype.formatAt=function(t,o,r,n){null!=this.formats()[r]||a.query(r,a.Scope.ATTRIBUTE)?this.isolate(t,o).format(r,n):e.prototype.formatAt.call(this,t,o,r,n)},t.prototype.optimize=function(o){e.prototype.optimize.call(this,o);var r=this.formats();if(0===Object.keys(r).length)return this.unwrap();var n=this.next;n instanceof t&&n.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var o in e)if(e[o]!==t[o])return!1;return!0}(r,n.formats())&&(n.moveChildren(this),n.remove())},t}(i.default);u.blotName="inline",u.scope=a.Scope.INLINE_BLOT,u.tagName="SPAN",t.default=u},function(e,t,o){"use strict";var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var i=o(3),a=o(0),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.formats=function(o){var r=a.query(t.blotName).tagName;if(o.tagName!==r)return e.formats.call(this,o)},t.prototype.format=function(o,r){null!=a.query(o,a.Scope.BLOCK)&&(o!==this.statics.blotName||r?e.prototype.format.call(this,o,r):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,o,r,n){null!=a.query(r,a.Scope.BLOCK)?this.format(r,n):e.prototype.formatAt.call(this,t,o,r,n)},t.prototype.insertAt=function(t,o,r){if(null==r||null!=a.query(o,a.Scope.INLINE))e.prototype.insertAt.call(this,t,o,r);else{var n=this.split(t),i=a.create(o,r);n.parent.insertBefore(i,n)}},t.prototype.update=function(t,o){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,o)},t}(i.default);u.blotName="block",u.scope=a.Scope.BLOCK_BLOT,u.tagName="P",t.default=u},function(e,t,o){"use strict";var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.formats=function(e){},t.prototype.format=function(t,o){e.prototype.formatAt.call(this,0,this.length(),t,o)},t.prototype.formatAt=function(t,o,r,n){0===t&&o===this.length()?this.format(r,n):e.prototype.formatAt.call(this,t,o,r,n)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(o(4).default);t.default=i},function(e,t,o){"use strict";var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var i=o(4),a=o(0),u=function(e){function t(t){var o=e.call(this,t)||this;return o.text=o.statics.value(o.domNode),o}return n(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,o,r){null==r?(this.text=this.text.slice(0,t)+o+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,o,r)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(o){e.prototype.optimize.call(this,o),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var o=a.create(this.domNode.splitText(e));return this.parent.insertBefore(o,this.next),this.text=this.statics.value(this.domNode),o},t.prototype.update=function(e,t){var o=this;e.some(function(e){return"characterData"===e.type&&e.target===o.domNode})&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t}(i.default);u.blotName="text",u.scope=a.Scope.INLINE_BLOT,t.default=u}])},e.exports=r()},function(e,t,o){e.exports=o(7)(106)},function(e,t){e.exports=lib_dashboard_app},function(e,t,o){e.exports=o(7)(9)},function(e,t,o){"use strict";o.d(t,"a",function(){return p}),o.d(t,"b",function(){return d});var r,n=o(0),i=o.n(n),a=o(48),u=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},s=i.a.createContext({}),c=s.Consumer,p=s.Provider,f=Object(a.connect)(function(e,t){var o=t.editorID,r=t.quill,n=e.editor.instances[o],i=n.lastGoodSelection;return{instanceState:n,activeFormats:i?r.getFormat(i):{}}});function d(e){var t=f(e),o=e.displayName||e.name||"Component";return function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return u(r,e),r.prototype.render=function(){var e=this;return i.a.createElement(c,null,function(o){return i.a.createElement(t,l({},o,e.props))})},r.displayName="withEditor("+o+")",r}(i.a.Component)}},function(e,t,o){"use strict";var r,n=o(16),i=o(11),a=o(3),u=o.n(a),l=o(12),s=o(2),c=o(5),p=o.n(c),f=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),d=function(e){function t(t){var o=e.call(this,t)||this;return o.focusableElement.setAttribute("tabindex",-1),o}return f(t,e),t.create=function(t){var o=e.create.call(this,t);return o.setAttribute("contenteditable",!1),o.classList.add(i.FOCUS_CLASS),o},t.prototype.remove=function(){if(!this.quill)return Object(l.logWarning)("Attempted to focus a an embed blot that has not been mounted yet.");var o=this.focusableElement===document.activeElement,r=this.offset(this.quill.scroll);if(e.prototype.remove.call(this),this.quill.update(u.a.sources.USER),o){var n=Object(s.e)(this.quill,r,t);n?n.focus():this.quill.setSelection(r,0,u.a.sources.USER)}},t.prototype.insertNewlineAfter=function(){if(!this.quill)return Object(l.logWarning)("Attempted to focus a an embed blot that has not been mounted yet.");p.a.create("block","").insertInto(this.quill.scroll,this.next),this.quill.update(u.a.sources.USER),this.quill.setSelection(this.offset()+1,0,u.a.sources.USER)},t.prototype.focus=function(){if(!this.quill)return Object(l.logWarning)("Attempted to focus a an embed blot that has not been mounted yet.");var e=this.offset(this.scroll);this.quill.setSelection(e,0,u.a.sources.API),this.focusableElement.focus()},Object.defineProperty(t.prototype,"focusableElement",{get:function(){if(this.domNode.classList.contains(i.FOCUS_CLASS))return this.domNode;var e=this.domNode.querySelector("."+i.FOCUS_CLASS);if(e instanceof HTMLElement)return e;throw new Error("Attempting to focus a DOM Node that either does not exist or is not an HTMLElement."+e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quill",{get:function(){return this.scroll&&this.scroll.domNode.parentNode?u.a.find(this.scroll.domNode.parentNode):null},enumerable:!0,configurable:!0}),t.tagName="div",t.className="js-embed",t.blotName="embed-focusable",t}(n.BlockEmbed);t.a=d},function(e,t,o){e.exports=o(7)(92)},function(e,t,o){e.exports=o(7)(10)},function(e,t,o){"use strict";var r,n=o(39),i=o.n(n),a=o(21),u=o.n(a),l=o(46),s=o.n(l),c=o(70),p=o.n(c),f=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.create=function(t){var o=e.create.call(this,t);return o.setAttribute("spellcheck",!1),o.classList.add("code"),o.classList.add("codeBlock"),o},t.blotName="codeBlock",t.tagName="code",t.className="codeBlock",t.allowedChildren=[u.a,s.a,p.a],t}(i.a);t.a=d},function(e,t,o){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=o(225),i=o(55),a=o(38),u=o(91),l=String.fromCharCode(0),s=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};s.prototype.insert=function(e,t){var o={};return 0===e.length?this:(o.insert=e,null!=t&&"object"===(void 0===t?"undefined":r(t))&&Object.keys(t).length>0&&(o.attributes=t),this.push(o))},s.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},s.prototype.retain=function(e,t){if(e<=0)return this;var o={retain:e};return null!=t&&"object"===(void 0===t?"undefined":r(t))&&Object.keys(t).length>0&&(o.attributes=t),this.push(o)},s.prototype.push=function(e){var t=this.ops.length,o=this.ops[t-1];if(e=a(!0,{},e),"object"===(void 0===o?"undefined":r(o))){if("number"==typeof e.delete&&"number"==typeof o.delete)return this.ops[t-1]={delete:o.delete+e.delete},this;if("number"==typeof o.delete&&null!=e.insert&&(t-=1,"object"!==(void 0===(o=this.ops[t-1])?"undefined":r(o))))return this.ops.unshift(e),this;if(i(e.attributes,o.attributes)){if("string"==typeof e.insert&&"string"==typeof o.insert)return this.ops[t-1]={insert:o.insert+e.insert},"object"===r(e.attributes)&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof o.retain)return this.ops[t-1]={retain:o.retain+e.retain},"object"===r(e.attributes)&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},s.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},s.prototype.filter=function(e){return this.ops.filter(e)},s.prototype.forEach=function(e){this.ops.forEach(e)},s.prototype.map=function(e){return this.ops.map(e)},s.prototype.partition=function(e){var t=[],o=[];return this.forEach(function(r){(e(r)?t:o).push(r)}),[t,o]},s.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},s.prototype.changeLength=function(){return this.reduce(function(e,t){return t.insert?e+u.length(t):t.delete?e-t.delete:e},0)},s.prototype.length=function(){return this.reduce(function(e,t){return e+u.length(t)},0)},s.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var o=[],r=u.iterator(this.ops),n=0;n<t&&r.hasNext();){var i;n<e?i=r.next(e-n):(i=r.next(t-n),o.push(i)),n+=u.length(i)}return new s(o)},s.prototype.compose=function(e){for(var t=u.iterator(this.ops),o=u.iterator(e.ops),r=new s;t.hasNext()||o.hasNext();)if("insert"===o.peekType())r.push(o.next());else if("delete"===t.peekType())r.push(t.next());else{var n=Math.min(t.peekLength(),o.peekLength()),i=t.next(n),a=o.next(n);if("number"==typeof a.retain){var l={};"number"==typeof i.retain?l.retain=n:l.insert=i.insert;var c=u.attributes.compose(i.attributes,a.attributes,"number"==typeof i.retain);c&&(l.attributes=c),r.push(l)}else"number"==typeof a.delete&&"number"==typeof i.retain&&r.push(a)}return r.chop()},s.prototype.concat=function(e){var t=new s(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},s.prototype.diff=function(e,t){if(this.ops===e.ops)return new s;var o=[this,e].map(function(t){return t.map(function(o){if(null!=o.insert)return"string"==typeof o.insert?o.insert:l;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")}).join("")}),r=new s,a=n(o[0],o[1],t),c=u.iterator(this.ops),p=u.iterator(e.ops);return a.forEach(function(e){for(var t=e[1].length;t>0;){var o=0;switch(e[0]){case n.INSERT:o=Math.min(p.peekLength(),t),r.push(p.next(o));break;case n.DELETE:o=Math.min(t,c.peekLength()),c.next(o),r.delete(o);break;case n.EQUAL:o=Math.min(c.peekLength(),p.peekLength(),t);var a=c.next(o),l=p.next(o);i(a.insert,l.insert)?r.retain(o,u.attributes.diff(a.attributes,l.attributes)):r.push(l).delete(o)}t-=o}}),r.chop()},s.prototype.eachLine=function(e,t){t=t||"\n";for(var o=u.iterator(this.ops),r=new s,n=0;o.hasNext();){if("insert"!==o.peekType())return;var i=o.peek(),a=u.length(i)-o.peekLength(),l="string"==typeof i.insert?i.insert.indexOf(t,a)-a:-1;if(l<0)r.push(o.next());else if(l>0)r.push(o.next(l));else{if(!1===e(r,o.next(1).attributes||{},n))return;n+=1,r=new s}}r.length()>0&&e(r,{},n)},s.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var o=u.iterator(this.ops),r=u.iterator(e.ops),n=new s;o.hasNext()||r.hasNext();)if("insert"!==o.peekType()||!t&&"insert"===r.peekType())if("insert"===r.peekType())n.push(r.next());else{var i=Math.min(o.peekLength(),r.peekLength()),a=o.next(i),l=r.next(i);if(a.delete)continue;l.delete?n.push(l):n.retain(i,u.attributes.transform(a.attributes,l.attributes,t))}else n.retain(u.length(o.next()));return n.chop()},s.prototype.transformPosition=function(e,t){t=!!t;for(var o=u.iterator(this.ops),r=0;o.hasNext()&&r<=e;){var n=o.peekLength(),i=o.peekType();o.next(),"delete"!==i?("insert"===i&&(r<e||!t)&&(e+=n),r+=n):e-=Math.min(n,e-r)}return e},e.exports=s},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),n=i(o(217));function i(e){return e&&e.__esModule?e:{default:e}}var a=(0,i(o(54)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(e){var o;e.__quill&&e.__quill.emitter&&(o=e.__quill.emitter).handleDOM.apply(o,t)})})});var u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",a.error),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default),r(t,[{key:"emit",value:function(){a.log.apply(a,arguments),function e(t,o,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,o);if(void 0===n){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,r)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,o=Array(t>1?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];(this.listeners[e.type]||[]).forEach(function(t){var r=t.node,n=t.handler;(e.target===r||r.contains(e.target))&&n.apply(void 0,[e].concat(o))})}},{key:"listenDOM",value:function(e,t,o){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:o})}}]),t}();u.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},u.sources={API:"api",SILENT:"silent",USER:"user"},t.default=u},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var r=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),n=function e(t,o,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,o);if(void 0===n){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,r)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(r):void 0},i=p(o(38)),a=p(o(14)),u=p(o(5)),l=p(o(46)),s=p(o(22)),c=p(o(21));function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,u.default.Embed),r(t,[{key:"attach",value:function(){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new u.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new a.default).insert(this.value(),(0,i.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var o=u.default.query(e,u.default.Scope.BLOCK_ATTRIBUTE);null!=o&&this.attributes.attribute(o,t)}},{key:"formatAt",value:function(e,t,o,r){this.format(o,r)}},{key:"insertAt",value:function(e,o,r){if("string"==typeof o&&o.endsWith("\n")){var i=u.default.create(g.blotName);this.parent.insertBefore(i,0===e?this:this.next),i.insertAt(0,o.slice(0,-1))}else n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,o,r)}}]),t}();m.scope=u.default.Scope.BLOCK_BLOT;var g=function(e){function t(e){f(this,t);var o=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.cache={},o}return h(t,u.default.Block),r(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(u.default.Leaf).reduce(function(e,t){return 0===t.length()?e:e.insert(t.value(),y(t))},new a.default).insert("\n",y(this))),this.cache.delta}},{key:"deleteAt",value:function(e,o){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,o),this.cache={}}},{key:"formatAt",value:function(e,o,r,i){o<=0||(u.default.query(r,u.default.Scope.BLOCK)?e+o===this.length()&&this.format(r,i):n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(o,this.length()-e-1),r,i),this.cache={})}},{key:"insertAt",value:function(e,o,r){if(null!=r)return n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,o,r);if(0!==o.length){var i=o.split("\n"),a=i.shift();a.length>0&&(e<this.length()-1||null==this.children.tail?n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});var u=this;i.reduce(function(e,t){return(u=u.split(e,!0)).insertAt(0,t),t.length},e+a.length)}}},{key:"insertBefore",value:function(e,o){var r=this.children.head;n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,o),r instanceof l.default&&r.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,o){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,o),this.cache={}}},{key:"optimize",value:function(e){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(o&&(0===e||e>=this.length()-1)){var r=this.clone();return 0===e?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}var i=n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,o);return this.cache={},i}}]),t}();function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"==typeof e.formats&&(t=(0,i.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:y(e.parent,t))}g.blotName="block",g.tagName="P",g.defaultChild="break",g.allowedChildren=[s.default,u.default.Embed,c.default],t.bubbleFormats=y,t.BlockEmbed=m,t.default=g},function(e,t,o){e.exports=o(7)(88)},function(e,t){var o=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=o)},function(e,t,o){"use strict";var r,n=o(3),i=o.n(n),a=o(22),u=o.n(a),l=o(1),s=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=function(e){function t(t){var o=e.call(this,t)||this;return t.setAttribute("aria-label",Object(l.t)("@mention a user")),t.setAttribute("aria-autocomplete","list"),o}return s(t,e),t.formats=function(){return!0},t.prototype.attach=function(){e.prototype.attach.call(this),this.statics.requiredContainer&&this.parent.statics.blotName!==this.statics.requiredContainer&&this.wrap(this.statics.requiredContainer)},Object.defineProperty(t.prototype,"username",{get:function(){return(this.domNode.textContent||"").replace("@","").replace('"',"")},enumerable:!0,configurable:!0}),t.prototype.replaceWith=function(e,t){return this.moveChildren(this.parent,this.next),this.remove(),this.parent.replaceWith(e,t)},t.prototype.finalize=function(e){this.replaceWith("mention",e),this.quill&&this.quill.update(i.a.sources.API)},t.prototype.cancel=function(){this.replaceWith("inline",this.domNode.innerHTML),this.quill&&this.quill.update(i.a.sources.API)},t.prototype.injectAccessibilityAttributes=function(e){var t=this.domNode,o=this.parent.domNode;o.setAttribute("id",e.ID),o.setAttribute("aria-expanded",!!e.activeItemID),o.setAttribute("aria-owns",e.suggestionListID),t.setAttribute("aria-controls",e.suggestionListID),e.activeItemIsLoader?(t.setAttribute("aria-label",Object(l.t)("Loading new @mention suggestions")),t.removeAttribute("aria-activedescendant")):(t.setAttribute("aria-activedescendant",e.activeItemID),t.removeAttribute("aria-describeby"))},Object.defineProperty(t.prototype,"quill",{get:function(){return this.scroll&&this.scroll.domNode.parentNode?i.a.find(this.scroll.domNode.parentNode):null},enumerable:!0,configurable:!0}),t.blotName="mention-autocomplete",t.className="atMentionAutoComplete",t.tagName="span",t.requiredContainer="mention-combobox",t}(u.a);t.a=c},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var r,n=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),i=function e(t,o,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,o);if(void 0===n){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,r)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(r):void 0},a=(r=o(22))&&r.__esModule?r:{default:r},u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),n(t,[{key:"format",value:function(e,o){if(e!==this.statics.blotName||!o)return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,o);o=this.constructor.sanitize(o),this.domNode.setAttribute("href",o)}}],[{key:"create",value:function(e){var o=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),o.setAttribute("href",e),o.setAttribute("target","_blank"),o}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return l(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}();function l(e,t){var o=document.createElement("a");o.href=e;var r=o.href.slice(0,o.href.indexOf(":"));return t.indexOf(r)>-1}u.blotName="link",u.tagName="A",u.SANITIZED_URL="about:blank",u.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=u,t.sanitize=l},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,n=(r=o(5))&&r.__esModule?r:{default:r},i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default.Text),t}();t.default=i},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),n=function e(t,o,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,o);if(void 0===n){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,r)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(r):void 0},i=u(o(21)),a=u(o(5));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Inline),r(t,[{key:"formatAt",value:function(e,o,r,i){if(t.compare(this.statics.blotName,r)<0&&a.default.query(r,a.default.Scope.BLOT)){var u=this.isolate(e,o);i&&u.wrap(r,i)}else n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,o,r,i)}},{key:"optimize",value:function(e){if(n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var o=this.parent.isolate(this.offset(),this.length());this.moveChildren(o),o.wrap(this)}}}],[{key:"compare",value:function(e,o){var r=t.order.indexOf(e),n=t.order.indexOf(o);return r>=0||n>=0?r-n:e===o?0:e<o?-1:1}}]),t}();l.allowedChildren=[l,a.default.Embed,i.default],l.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=l},function(e,t,o){"use strict";var r,n=o(39),i=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=function(e){function t(t){var o=e.call(this,t)||this;return t.classList.add("code"),t.classList.add("isInline"),t.setAttribute("spellcheck",!1),o}return i(t,e),t.blotName="codeInline",t.tagName="code",t.className="codeInline",t}(n.Code);t.a=a},function(e,t,o){e.exports=o(7)(158)},function(e,t,o){"use strict";t.__esModule=!0;var r,n=(r=o(75))&&r.__esModule?r:{default:r};t.default=n.default||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,n=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),i=(r=o(16))&&r.__esModule?r:{default:r},a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),n(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}();a.blotName="header",a.tagName=["H1","H2","H3","H4","H5","H6"],t.default=a},function(e,t){var o=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=o)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=o};r.DEFAULTS={},t.default=r},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o(5)),n=o(16),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Container),t}();u.allowedChildren=[i.default,n.BlockEmbed,u],t.default=u},function(e,t,o){"use strict";t.__esModule=!0;var r,n=(r=o(162))&&r.__esModule?r:{default:r};t.default=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,n.default)(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}()},function(e,t,o){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,o){"use strict";
/**
 * State utility functions.
 *
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */
function r(e,t){return void 0===t?{type:e}:{type:e,payload:t}}o.d(t,"a",function(){return r}),o(24)},function(e,t,o){"use strict";o.d(t,"d",function(){return i}),o.d(t,"b",function(){return a}),o.d(t,"a",function(){return u}),o.d(t,"c",function(){return l}),o.d(t,"e",function(){return s}),o.d(t,"f",function(){return c});var r=o(32),n=o(24),i="[mentions] set active suggestion",a="[mentions] load users request",u="[mentions] load users failure",l="[mentions] load users success",s={loadUsersRequest:function(e){return Object(r.a)(a,{username:e})},loadUsersFailure:function(e,t){return Object(r.a)(u,{username:e,error:t})},loadUsersSuccess:function(e,t){return Object(r.a)(l,{username:e,users:t})},setActiveSuggestion:function(e,t){return Object(r.a)(i,{suggestionID:e,suggestionIndex:t})}},c={loadUsers:function(e){return function(t,o){var r=o().editor.mentions.usersTrie,i=r.getValue(e);if(null!=i)switch(i.status){case"SUCCESSFUL":return t(s.loadUsersSuccess(e,i.users));case"PENDING":return;case"FAILED":return t(s.loadUsersFailure(e,i.error))}var a,u,l,c=r.getValueFromPartialsOfWord(e);if(null!=c)switch(c.status){case"SUCCESSFUL":if(c.users.length<50)return t(s.loadUsersSuccess(e,(a=c.users,u=e,l=Intl.Collator("en",{usage:"search",sensitivity:"base",ignorePunctuation:!0,numeric:!0}),a.filter(function(e){if(e.name.length<u.length)return!1;var t=e.name.substring(0,u.length);return 0===l.compare(t,u)}))))}t(s.loadUsersRequest(e));var p={name:e+"*",order:"mention",limit:50};return n.default.get("/users/by-names/",{params:p}).then(function(o){if(o.status>=500)throw new Error(o.data);var r=o.data.map(function(e){return e.domID="mentionSuggestion"+e.userID,e});t(s.loadUsersSuccess(e,r))}).catch(function(o){return t(s.loadUsersFailure(e,o))})}}}},function(e,t){var o={}.hasOwnProperty;e.exports=function(e,t){return o.call(e,t)}},function(e,t,o){e.exports=!o(43)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,o){var r=o(53),n=o(108),i=o(88),a=Object.defineProperty;t.f=o(35)?Object.defineProperty:function(e,t,o){if(r(e),t=i(t,!0),r(o),n)try{return a(e,t,o)}catch(e){}if("get"in o||"set"in o)throw TypeError("Accessors not supported!");return"value"in o&&(e[t]=o.value),e}},function(e,t,o){var r=o(27),n=o(18),i=o(109),a=o(45),u=o(34),l=function(e,t,o){var s,c,p,f=e&l.F,d=e&l.G,h=e&l.S,m=e&l.P,g=e&l.B,y=e&l.W,v=d?n:n[t]||(n[t]={}),b=v.prototype,j=d?r:h?r[t]:(r[t]||{}).prototype;for(s in d&&(o=t),o)(c=!f&&j&&void 0!==j[s])&&u(v,s)||(p=c?j[s]:o[s],v[s]=d&&"function"!=typeof j[s]?o[s]:g&&c?i(p,r):y&&j[s]==p?function(e){var t=function(t,o,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,o)}return new e(t,o,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(p):m&&"function"==typeof p?i(Function.call,p):p,m&&((v.virtual||(v.virtual={}))[s]=p,e&l.R&&b&&!b[s]&&a(b,s,p)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,o){"use strict";var r=Object.prototype.hasOwnProperty,n=Object.prototype.toString,i=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},a=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var t,o=r.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!o&&!i)return!1;for(t in e);return void 0===t||r.call(e,t)};e.exports=function e(){var t,o,r,n,u,l,s=arguments[0],c=1,p=arguments.length,f=!1;for("boolean"==typeof s&&(f=s,s=arguments[1]||{},c=2),(null==s||"object"!=typeof s&&"function"!=typeof s)&&(s={});c<p;++c)if(null!=(t=arguments[c]))for(o in t)r=s[o],s!==(n=t[o])&&(f&&n&&(a(n)||(u=i(n)))?(u?(u=!1,l=r&&i(r)?r:[]):l=r&&a(r)?r:{},s[o]=e(f,l,n)):void 0!==n&&(s[o]=n));return s}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],r=!0,n=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(o.push(a.value),!t||o.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(n)throw i}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),i=function e(t,o,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,o);if(void 0===n){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,r)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(r):void 0},a=p(o(14)),u=p(o(5)),l=p(o(16)),s=p(o(22)),c=p(o(21));function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,s.default),t}();m.blotName="code",m.tagName="CODE";var g=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,l.default),n(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce(function(t,o){return t.insert(o).insert("\n",e.formats())},new a.default)}},{key:"format",value:function(e,o){if(e!==this.statics.blotName||!o){var n=this.descendant(c.default,this.length()-1),a=r(n,1)[0];null!=a&&a.deleteAt(a.length()-1,1),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,o)}}},{key:"formatAt",value:function(e,o,r,n){if(0!==o&&null!=u.default.query(r,u.default.Scope.BLOCK)&&(r!==this.statics.blotName||n!==this.statics.formats(this.domNode))){var i=this.newlineIndex(e);if(!(i<0||i>=e+o)){var a=this.newlineIndex(e,!0)+1,l=i-a+1,s=this.isolate(a,l),c=s.next;s.format(r,n),c instanceof t&&c.formatAt(0,e-a+o-l,r,n)}}}},{key:"insertAt",value:function(e,t,o){if(null==o){var n=this.descendant(c.default,e),i=r(n,2),a=i[0],u=i[1];a.insertAt(u,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var t=this.domNode.textContent.slice(e).indexOf("\n");return t>-1?e+t:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(u.default.create("text","\n")),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var o=this.next;null!=o&&o.prev===this&&o.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===o.statics.formats(o.domNode)&&(o.optimize(e),o.moveChildren(this),o.remove())}},{key:"replace",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(e){var t=u.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof u.default.Embed?t.remove():t.unwrap()})}}],[{key:"create",value:function(e){var o=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return o.setAttribute("spellcheck",!1),o}},{key:"formats",value:function(){return!0}}]),t}();g.blotName="code-block",g.tagName="PRE",g.TAB="  ",t.Code=m,t.default=g},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),n=a(o(5)),i=a(o(21));function a(e){return e&&e.__esModule?e:{default:e}}var u="\ufeff",l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.contentNode=document.createElement("span"),o.contentNode.setAttribute("contenteditable",!1),[].slice.call(o.domNode.childNodes).forEach(function(e){o.contentNode.appendChild(e)}),o.leftGuard=document.createTextNode(u),o.rightGuard=document.createTextNode(u),o.domNode.appendChild(o.leftGuard),o.domNode.appendChild(o.contentNode),o.domNode.appendChild(o.rightGuard),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default.Embed),r(t,[{key:"index",value:function(e,o){return e===this.leftGuard?0:e===this.rightGuard?1:function e(t,o,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,o);if(void 0===n){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,r)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,o)}},{key:"restore",value:function(e){var t=void 0,o=void 0,r=e.data.split(u).join("");if(e===this.leftGuard)if(this.prev instanceof i.default){var a=this.prev.length();this.prev.insertAt(a,r),t={startNode:this.prev.domNode,startOffset:a+r.length}}else o=document.createTextNode(r),this.parent.insertBefore(n.default.create(o),this),t={startNode:o,startOffset:r.length};else e===this.rightGuard&&(this.next instanceof i.default?(this.next.insertAt(0,r),t={startNode:this.next.domNode,startOffset:r.length}):(o=document.createTextNode(r),this.parent.insertBefore(n.default.create(o),this.next),t={startNode:o,startOffset:r.length}));return e.data=u,t}},{key:"update",value:function(e,t){var o=this;e.forEach(function(e){if("characterData"===e.type&&(e.target===o.leftGuard||e.target===o.rightGuard)){var r=o.restore(e.target);r&&(t.range=r)}})}}]),t}();t.default=l},function(e,t,o){var r=o(84)("wks"),n=o(62),i=o(27).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:n)("Symbol."+e))}).store=r},function(e,t,o){var r=o(105),n=o(87);e.exports=function(e){return r(n(e))}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,o){var r=o(36),n=o(64);e.exports=o(35)?function(e,t,o){return r.f(e,t,n(1,o))}:function(e,t,o){return e[t]=o,e}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,n=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),i=(r=o(5))&&r.__esModule?r:{default:r},a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Embed),n(t,[{key:"insertInto",value:function(e,o){0===e.children.length?function e(t,o,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,o);if(void 0===n){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,r)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,o):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}();a.blotName="break",a.tagName="BR",t.default=a},function(e,t,o){e.exports=o(7)(13)},function(e,t,o){e.exports=o(7)(37)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,n=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),i=function e(t,o,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,o);if(void 0===n){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,r)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(r):void 0},a=(r=o(22))&&r.__esModule?r:{default:r},u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),n(t,[{key:"optimize",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}();u.blotName="bold",u.tagName=["STRONG","B"],t.default=u},function(e,t,o){e.exports=o(7)(81)},function(e,t,o){"use strict";var r,n=o(1),i=o(10),a=o(11),u=o(6),l=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.create=function(e){var t;switch(e.loaderData.type){case"link":t=this.createLinkLoader(e.loaderData.link||"");break;case"image":t=this.createImageLoader();break;default:throw new Error("Could not determine loader type for embed blot.")}return Object(u.setData)(t,"loadingDataKey",e),t},t.value=function(e){var t=Object(u.getData)(e,"loadingDataKey",null);if(!t)throw new Error("A loading blot should have data set");return t},t.createImageLoader=function(){var t=e.create.call(this);return t.classList.remove(a.FOCUS_CLASS),t.classList.add("js-embed"),t.classList.add("embedLinkLoader"),t.innerHTML="<div class='embedLoader'>\n                            <div class='embedLoader-box "+a.FOCUS_CLASS+"' aria-label='"+Object(n.t)("Loading...")+"'><div class='embedLoader-loader'></div>\n                            </div>\n                        </div>",t},t.createLinkLoader=function(t){var o=e.create.call(this);o.classList.remove(a.FOCUS_CLASS),o.classList.add("js-embed"),o.classList.add("embedLinkLoader");var r=Object(u.escapeHTML)(t);return o.innerHTML='<a href="#" class="embedLinkLoader-link '+a.FOCUS_CLASS+'">'+r+"&nbsp;<span aria-hidden=\"true\" class='embedLinkLoader-loader'></span></a>",o},t.blotName="embed-loading",t.className="js-embedLoader",t.tagName="div",t}(i.a);t.a=s},function(e,t,o){var r=o(106),n=o(83);e.exports=Object.keys||function(e){return r(e,n)}},function(e,t,o){var r=o(44);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["error","warn","log","info"],n="warn";function i(e){if(r.indexOf(e)<=r.indexOf(n)){for(var t,o=arguments.length,i=Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];(t=console)[e].apply(t,i)}}function a(e){return r.reduce(function(t,o){return t[o]=i.bind(console,o,e),t},{})}i.level=a.level=function(e){n=e},t.default=a},function(e,t,o){var r=Array.prototype.slice,n=o(224),i=o(223),a=e.exports=function(e,t,o){return o||(o={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?o.strict?e===t:e==t:function(e,t,o){var s,c;if(u(e)||u(t))return!1;if(e.prototype!==t.prototype)return!1;if(i(e))return!!i(t)&&(e=r.call(e),t=r.call(t),a(e,t,o));if(l(e)){if(!l(t))return!1;if(e.length!==t.length)return!1;for(s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}try{var p=n(e),f=n(t)}catch(e){return!1}if(p.length!=f.length)return!1;for(p.sort(),f.sort(),s=p.length-1;s>=0;s--)if(p[s]!=f[s])return!1;for(s=p.length-1;s>=0;s--)if(c=p[s],!a(e[c],t[c],o))return!1;return typeof e==typeof t}(e,t,o))};function u(e){return null===e||void 0===e}function l(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0])}},function(e,t,o){"use strict";t.__esModule=!0;var r,n=(r=o(101))&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,n.default)(t))&&"function"!=typeof t?e:t}},function(e,t,o){"use strict";var r,n=o(10),i=o(1),a=o(17),u=o.n(a),l=o(11),s=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=function(e){function t(t){var o=e.call(this,t)||this,r=t.querySelector(".js-closeEmbedError");return r instanceof HTMLElement&&r.addEventListener("click",function(){o.remove()}),o}return s(t,e),t.create=function(t){var o=e.create.call(this,t);o.classList.add("js-embed");var r=u()("embedLoader-description");o.classList.remove(l.FOCUS_CLASS);var n=document.createElement("div");return n.classList.add("embedLoader-error"),n.classList.add(l.FOCUS_CLASS),n.setAttribute("aria-describedby",r),n.setAttribute("aria-label",Object(i.t)("Error")),n.setAttribute("role","alert"),n.setAttribute("aria-live","assertive"),n.innerHTML='<svg class="embedLoader-icon embedLoader-warningIcon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n                            <path d="M11.651,3.669,2.068,21.75H21.234Zm.884-1,10,18.865A1,1,0,0,1,21.649,23h-20a1,1,0,0,1-.884-1.468l10-18.865a1,1,0,0,1,1.768,0Zm.231,13.695H10.547L10.2,10h2.9Zm-2.535,2.354a1.24,1.24,0,0,1,.363-.952,1.493,1.493,0,0,1,1.056-.34,1.445,1.445,0,0,1,1.039.34,1.26,1.26,0,0,1,.353.952,1.223,1.223,0,0,1-.366.944A1.452,1.452,0,0,1,11.65,20a1.5,1.5,0,0,1-1.042-.34A1.206,1.206,0,0,1,10.231,18.716Z" style="fill: currentColor;"/>\n                        </svg>\n                        <span class="embedLoader-errorMessage" id="'+r+'">'+t.message+'</span>\n                        <button type="button" class="closeButton js-closeEmbedError" aria-hidden="true" tabindex="-1">\n                            <svg class="embedLoader-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n                                <path fill="currentColor" d="M12,10.6293581 L5.49002397,4.11938207 C5.30046135,3.92981944 4.95620859,3.96673045 4.69799105,4.22494799 L4.22494799,4.69799105 C3.97708292,4.94585613 3.92537154,5.29601344 4.11938207,5.49002397 L10.6293581,12 L4.11938207,18.509976 C3.92981944,18.6995387 3.96673045,19.0437914 4.22494799,19.3020089 L4.69799105,19.775052 C4.94585613,20.0229171 5.29601344,20.0746285 5.49002397,19.8806179 L12,13.3706419 L18.509976,19.8806179 C18.6995387,20.0701806 19.0437914,20.0332695 19.3020089,19.775052 L19.775052,19.3020089 C20.0229171,19.0541439 20.0746285,18.7039866 19.8806179,18.509976 L13.3706419,12 L19.8806179,5.49002397 C20.0701806,5.30046135 20.0332695,4.95620859 19.775052,4.69799105 L19.3020089,4.22494799 C19.0541439,3.97708292 18.7039866,3.92537154 18.509976,4.11938207 L12,10.6293581 Z"/>\n                            </svg>\n                        </button>\n                    </div>',o.appendChild(n),o},t.value=function(e){var t=e.querySelector(".embedLoader-errorMessage");return{message:t?t.textContent:Object(i.t)("Error could not be found")}},t.blotName="embed-error",t.className="embed-error",t.tagName="div",t}(n.a);t.a=c},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,n=(r=o(22))&&r.__esModule?r:{default:r},i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default),t}();i.blotName="strike",i.tagName="S",t.default=i},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,n=(r=o(49))&&r.__esModule?r:{default:r},i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default),t}();i.blotName="italic",i.tagName=["EM","I"],t.default=i},function(e,t,o){var r=o(87);e.exports=function(e){return Object(r(e))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){var o=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++o+r).toString(36))}},function(e,t){e.exports=!0},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,o){var r=o(177);e.exports=function(e,t){var o=e.__data__;return r(t)?o["string"==typeof t?"string":"hash"]:o.map}},function(e,t,o){var r=o(183);e.exports=function(e,t){for(var o=e.length;o--;)if(r(e[o][0],t))return o;return-1}},function(e,t,o){var r=o(112)(Object,"create");e.exports=r},function(e,t,o){e.exports=o(7)(21)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],r=!0,n=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(o.push(a.value),!t||o.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(n)throw i}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}();o(226);var a=g(o(14)),u=g(o(222)),l=g(o(15)),s=g(o(28)),c=g(o(5)),p=o(216),f=g(p),d=g(o(38)),h=g(o(54)),m=g(o(94));function g(e){return e&&e.__esModule?e:{default:e}}function y(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var v=(0,h.default)("quill"),b=function(){function e(t){var o=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=j(t,r),this.container=this.options.container,null==this.container)return v.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var n=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new l.default,this.scroll=c.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new u.default(this.scroll),this.selection=new f.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(l.default.events.EDITOR_CHANGE,function(e){e===l.default.events.TEXT_CHANGE&&o.root.classList.toggle("ql-blank",o.editor.isBlank())}),this.emitter.on(l.default.events.SCROLL_UPDATE,function(e,t){var r=o.selection.lastRange,n=r&&0===r.length?r.index:void 0;_.call(o,function(){return o.editor.update(null,t,n)},e)});var i=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+n+"<p><br></p></div>");this.setContents(i),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return i(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),h.default.level(e)}},{key:"find",value:function(e){return e.__quill||c.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&v.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var o=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var n=e.attrName||e.blotName;"string"==typeof n?this.register("formats/"+n,e,t):Object.keys(e).forEach(function(r){o.register(r,e[r],t)})}else null==this.imports[e]||r||v.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?c.default.register(t):e.startsWith("modules")&&"function"==typeof t.register&&t.register()}}]),i(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var o=e;(e=document.createElement("div")).classList.add(o)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,o){var r=this,i=O(e,t,o),a=n(i,4);return e=a[0],t=a[1],o=a[3],_.call(this,function(){return r.editor.deleteText(e,t)},o,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var o=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;return _.call(this,function(){var r=o.getSelection(!0),n=new a.default;if(null==r)return n;if(c.default.query(e,c.default.Scope.BLOCK))n=o.editor.formatLine(r.index,r.length,y({},e,t));else{if(0===r.length)return o.selection.format(e,t),n;n=o.editor.formatText(r.index,r.length,y({},e,t))}return o.setSelection(r,l.default.sources.SILENT),n},r)}},{key:"formatLine",value:function(e,t,o,r,i){var a,u=this,l=O(e,t,o,r,i),s=n(l,4);return e=s[0],t=s[1],a=s[2],i=s[3],_.call(this,function(){return u.editor.formatLine(e,t,a)},i,e,0)}},{key:"formatText",value:function(e,t,o,r,i){var a,u=this,l=O(e,t,o,r,i),s=n(l,4);return e=s[0],t=s[1],a=s[2],i=s[3],_.call(this,function(){return u.editor.formatText(e,t,a)},i,e,0)}},{key:"getBounds",value:function(e){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t="number"==typeof e?this.selection.getBounds(e,o):this.selection.getBounds(e.index,e.length);var r=this.container.getBoundingClientRect();return{bottom:t.bottom-r.top,height:t.height,left:t.left-r.left,right:t.right-r.left,top:t.top-r.top,width:t.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,o=O(e,t),r=n(o,2);return e=r[0],t=r[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,o=O(e,t),r=n(o,2);return e=r[0],t=r[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,o,r){var n=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return _.call(this,function(){return n.editor.insertEmbed(t,o,r)},i,t)}},{key:"insertText",value:function(e,t,o,r,i){var a,u=this,l=O(e,0,o,r,i),s=n(l,4);return e=s[0],a=s[2],i=s[3],_.call(this,function(){return u.editor.insertText(e,t,a)},i,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,o){this.clipboard.dangerouslyPasteHTML(e,t,o)}},{key:"removeFormat",value:function(e,t,o){var r=this,i=O(e,t,o),a=n(i,4);return e=a[0],t=a[1],o=a[3],_.call(this,function(){return r.editor.removeFormat(e,t)},o,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return _.call(this,function(){e=new a.default(e);var o=t.getLength(),r=t.editor.deleteText(0,o),n=t.editor.applyDelta(e),i=n.ops[n.ops.length-1];return null!=i&&"string"==typeof i.insert&&"\n"===i.insert[i.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),n.delete(1)),r.compose(n)},o)}},{key:"setSelection",value:function(t,o,r){if(null==t)this.selection.setRange(null,o||e.sources.API);else{var i=O(t,o,r),a=n(i,4);t=a[0],o=a[1],r=a[3],this.selection.setRange(new p.Range(t,o),r),r!==l.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API,o=(new a.default).insert(e);return this.setContents(o,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return _.call(this,function(){return e=new a.default(e),t.editor.applyDelta(e,o)},o,!0)}}]),e}();function j(e,t){if((t=(0,d.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==b.DEFAULTS.theme){if(t.theme=b.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=m.default;var o=(0,d.default)(!0,{},t.theme.DEFAULTS);[o,t].forEach(function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach(function(t){!0===e.modules[t]&&(e.modules[t]={})})});var r=Object.keys(o.modules).concat(Object.keys(t.modules)).reduce(function(e,t){var o=b.import("modules/"+t);return null==o?v.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=o.DEFAULTS||{},e},{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,d.default)(!0,{},b.DEFAULTS,{modules:r},o,t),["bounds","container","scrollingContainer"].forEach(function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))}),t.modules=Object.keys(t.modules).reduce(function(e,o){return t.modules[o]&&(e[o]=t.modules[o]),e},{}),t}function _(e,t,o,r){if(this.options.strict&&!this.isEnabled()&&t===l.default.sources.USER)return new a.default;var n=null==o?null:this.getSelection(),i=this.editor.delta,u=e();if(null!=n&&(!0===o&&(o=n.index),null==r?n=S(n,u,t):0!==r&&(n=S(n,o,r,t)),this.setSelection(n,l.default.sources.SILENT)),u.length()>0){var s,c,p=[l.default.events.TEXT_CHANGE,u,i,t];(s=this.emitter).emit.apply(s,[l.default.events.EDITOR_CHANGE].concat(p)),t!==l.default.sources.SILENT&&(c=this.emitter).emit.apply(c,p)}return u}function O(e,t,o,n,i){var a={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(i=n,n=o,o=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(i=n,n=o,o=t,t=0),"object"===(void 0===o?"undefined":r(o))?(a=o,i=n):"string"==typeof o&&(null!=n?a[o]=n:i=o),[e,t,a,i=i||l.default.sources.API]}function S(e,t,o,r){if(null==e)return null;var i=void 0,u=void 0;if(t instanceof a.default){var s=[e.index,e.index+e.length].map(function(e){return t.transformPosition(e,r!==l.default.sources.USER)}),c=n(s,2);i=c[0],u=c[1]}else{var f=[e.index,e.index+e.length].map(function(e){return e<t||e===t&&r===l.default.sources.USER?e:o>=0?e+o:Math.max(t,e+o)}),d=n(f,2);i=d[0],u=d[1]}return new p.Range(i,u-i)}b.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},b.events=l.default.events,b.sources=l.default.sources,b.version="undefined"==typeof QUILL_VERSION?"dev":QUILL_VERSION,b.imports={delta:a.default,parchment:c.default,"core/module":s.default,"core/theme":m.default},t.expandConfig=j,t.overload=O,t.default=b},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],r=!0,n=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(o.push(a.value),!t||o.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(n)throw i}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function e(t,o,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,o);if(void 0===n){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,r)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(r):void 0},i=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),a=l(o(5)),u=l(o(21));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.selection=o,r.textNode=document.createTextNode(t.CONTENTS),r.domNode.appendChild(r.textNode),r._length=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Embed),i(t,null,[{key:"value",value:function(){}}]),i(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,o){if(0!==this._length)return n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,o);for(var r=this,i=0;null!=r&&r.statics.scope!==a.default.Scope.BLOCK_BLOT;)i+=r.offset(r.parent),r=r.parent;null!=r&&(this._length=t.CONTENTS.length,r.optimize(),r.formatAt(i,t.CONTENTS.length,e,o),this._length=0)}},{key:"index",value:function(e,o){return e===this.textNode?0:n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,o)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,o=this.selection.getNativeRange(),n=void 0,i=void 0,l=void 0;if(null!=o&&o.start.node===e&&o.end.node===e){var s=[e,o.start.offset,o.end.offset];n=s[0],i=s[1],l=s[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var c=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof u.default?(n=this.next.domNode,this.next.insertAt(0,c),this.textNode.data=t.CONTENTS):(this.textNode.data=c,this.parent.insertBefore(a.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=i){var p=[i,l].map(function(e){return Math.max(0,Math.min(n.data.length,e-1))}),f=r(p,2);return i=f[0],l=f[1],{startNode:n,startOffset:i,endNode:n,endOffset:l}}}}},{key:"update",value:function(e,t){var o=this;if(e.some(function(e){return"characterData"===e.type&&e.target===o.textNode})){var r=this.restore();r&&(t.range=r)}}},{key:"value",value:function(){return""}}]),t}();s.blotName="cursor",s.className="ql-cursor",s.tagName="span",s.CONTENTS="\ufeff",t.default=s},function(e,t,o){"use strict";var r,n=o(0),i=o.n(n),a=o(72),u=o.n(a),l=o(9),s=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=function(e){function t(t){var o=e.call(this,t)||this;return o.windowResizeListener=function(){u()(function(){o.setState({quillWidth:o.quill.root.offsetWidth})},200)()},o.quill=t.quill,o.state={quillWidth:o.quill.root.offsetWidth},o}return s(t,e),t.prototype.shouldComponentUpdate=function(e,t){var o,r,n=this.extractValuesFromProps(this.props),i=this.extractValuesFromProps(e),a=!1;e.isActive&&n.selectionIndex!==i.selectionIndex&&(a=!0),e.isActive&&n.selectionLength!==i.selectionLength&&(a=!0);try{for(var u=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],o=0;return t?t.call(e):{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}}}(Object.keys(n.otherProps)),l=u.next();!l.done;l=u.next()){var s=l.value;n.otherProps[s]!==i.otherProps[s]&&(a=!0)}}catch(e){o={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(o)throw o.error}}return this.state.quillWidth!==t.quillWidth&&(a=!0),a},t.prototype.render=function(){var e=this.props.isActive?{x:this.getXCoordinates(),y:this.getYCoordinates()}:{x:null,y:null};return this.props.children(e)},t.prototype.componentDidMount=function(){window.addEventListener("resize",this.windowResizeListener)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.windowResizeListener)},t.prototype.extractValuesFromProps=function(e){return{selectionIndex:e.selectionIndex,selectionLength:e.selectionLength,otherProps:function(e,t){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(o[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(o[r[n]]=e[r[n]])}return o}(e,["selectionIndex","selectionLength"])}},t.prototype.getBounds=function(){var e=this.props,t=e.selectionIndex,o=e.selectionLength;if(null===t||null===o)return null;var r,n=this.quill.getLines(t,o);if(n.length<=1)r=this.quill.getBounds(t,o);else{var i=n[n.length-1],a=this.quill.getIndex(i),u=Math.min(i.length()-1,t+o-a);r=this.quill.getBounds(a,u)}return r},t.prototype.getXCoordinates=function(){var e=this.getBounds();if(!e||!this.props.flyoutWidth)return null;var t,o=this.state.quillWidth,r=this.props.flyoutWidth,n=e.left,i=e.right;if("center"===(this.props.horizontalAlignment||"center")){var a=r/2,u=a+-6,l=o-a- -6,s=Math.round((n+i)/2);return{position:t=Math.max(u,Math.min(l,s))-a,nubPosition:s-t}}return u=n,l=o-r-6,{position:t=Math.min(l,Math.max(u,n)),nubPosition:t}},t.prototype.getYCoordinates=function(){var e=this.getBounds();if(!e||!this.props.flyoutHeight)return null;var t=this.props,o=t.flyoutHeight,r=t.nubHeight,n=t.verticalAlignment,i=e.top-o-0,a=o,u=!0;return(e.top<30||"below"===n)&&(i=e.bottom+0,r&&(a=0-r/2,u=!1)),{position:i,nubPosition:a,nubPointsDown:u}},t}(i.a.Component);t.a=Object(l.b)(c)},function(e,t,o){e.exports=o(7)(74)},function(e,t,o){"use strict";t.__esModule=!0;var r=a(o(138)),n=a(o(134)),i=a(o(101));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,n.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},function(e,t,o){e.exports={default:o(164),__esModule:!0}},function(e,t,o){e.exports={default:o(171),__esModule:!0}},function(e,t,o){e.exports=o(7)(0)},function(e,t,o){var r=o(27),n=o(18),i=o(63),a=o(78),u=o(36).f;e.exports=function(e){var t=n.Symbol||(n.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||u(t,e,{value:a.f(e)})}},function(e,t,o){t.f=o(41)},function(e,t,o){var r=o(36).f,n=o(34),i=o(41)("toStringTag");e.exports=function(e,t,o){e&&!n(e=o?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,o){var r=o(53),n=o(154),i=o(83),a=o(85)("IE_PROTO"),u=function(){},l=function(){var e,t=o(107)("iframe"),r=i.length;for(t.style.display="none",o(153).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[i[r]];return l()};e.exports=Object.create||function(e,t){var o;return null!==e?(u.prototype=r(e),o=new u,u.prototype=null,o[a]=e):o=l(),void 0===t?o:n(o,t)}},function(e,t){e.exports={}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,o){var r=o(18),n=o(27),i=n["__core-js_shared__"]||(n["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:o(63)?"pure":"global",copyright:" 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t,o){var r=o(84)("keys"),n=o(62);e.exports=function(e){return r[e]||(r[e]=n(e))}},function(e,t){var o=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:o)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,o){var r=o(44);e.exports=function(e,t){if(!r(e))return e;var o,n;if(t&&"function"==typeof(o=e.toString)&&!r(n=o.call(e)))return n;if("function"==typeof(o=e.valueOf)&&!r(n=o.call(e)))return n;if(!t&&"function"==typeof(o=e.toString)&&!r(n=o.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},function(e,t,o){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(n.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(n.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},o(209),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,o(68))},function(e,t,o){(function(t){var o=function(){"use strict";function e(o,n,i,a){"object"==typeof n&&(i=n.depth,a=n.prototype,n.filter,n=n.circular);var u=[],l=[],s=void 0!==t;return void 0===n&&(n=!0),void 0===i&&(i=1/0),function o(i,c){if(null===i)return null;if(0==c)return i;var p,f;if("object"!=typeof i)return i;if(e.__isArray(i))p=[];else if(e.__isRegExp(i))p=new RegExp(i.source,r(i)),i.lastIndex&&(p.lastIndex=i.lastIndex);else if(e.__isDate(i))p=new Date(i.getTime());else{if(s&&t.isBuffer(i))return p=new t(i.length),i.copy(p),p;void 0===a?(f=Object.getPrototypeOf(i),p=Object.create(f)):(p=Object.create(a),f=a)}if(n){var d=u.indexOf(i);if(-1!=d)return l[d];u.push(i),l.push(p)}for(var h in i){var m;f&&(m=Object.getOwnPropertyDescriptor(f,h)),m&&null==m.set||(p[h]=o(i[h],c-1))}return p}(o,i)}function o(e){return Object.prototype.toString.call(e)}function r(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return e.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},e.__objToStr=o,e.__isDate=function(e){return"object"==typeof e&&"[object Date]"===o(e)},e.__isArray=function(e){return"object"==typeof e&&"[object Array]"===o(e)},e.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===o(e)},e.__getRegExpFlags=r,e}();"object"==typeof e&&e.exports&&(e.exports=o)}).call(this,o(221).Buffer)},function(e,t,o){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=o(55),i=o(38),a={attributes:{compose:function(e,t,o){"object"!==(void 0===e?"undefined":r(e))&&(e={}),"object"!==(void 0===t?"undefined":r(t))&&(t={});var n=i(!0,{},t);for(var a in o||(n=Object.keys(n).reduce(function(e,t){return null!=n[t]&&(e[t]=n[t]),e},{})),e)void 0!==e[a]&&void 0===t[a]&&(n[a]=e[a]);return Object.keys(n).length>0?n:void 0},diff:function(e,t){"object"!==(void 0===e?"undefined":r(e))&&(e={}),"object"!==(void 0===t?"undefined":r(t))&&(t={});var o=Object.keys(e).concat(Object.keys(t)).reduce(function(o,r){return n(e[r],t[r])||(o[r]=void 0===t[r]?null:t[r]),o},{});return Object.keys(o).length>0?o:void 0},transform:function(e,t,o){if("object"!==(void 0===e?"undefined":r(e)))return t;if("object"===(void 0===t?"undefined":r(t))){if(!o)return t;var n=Object.keys(t).reduce(function(o,r){return void 0===e[r]&&(o[r]=t[r]),o},{});return Object.keys(n).length>0?n:void 0}}},iterator:function(e){return new u(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function u(e){this.ops=e,this.index=0,this.offset=0}u.prototype.hasNext=function(){return this.peekLength()<1/0},u.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var o=this.offset,r=a.length(t);if(e>=r-o?(e=r-o,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var n={};return t.attributes&&(n.attributes=t.attributes),"number"==typeof t.retain?n.retain=e:"string"==typeof t.insert?n.insert=t.insert.substr(o,e):n.insert=t.insert,n}return{retain:1/0}},u.prototype.peek=function(){return this.ops[this.index]},u.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},u.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},e.exports=a},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var r=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),n=u(o(5)),i=u(o(69)),a=u(o(28));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return r.lastRecorded=0,r.ignoreChange=!1,r.clear(),r.quill.on(i.default.events.EDITOR_CHANGE,function(e,t,o,n){e!==i.default.events.TEXT_CHANGE||r.ignoreChange||(r.options.userOnly&&n!==i.default.sources.USER?r.transform(t):r.record(t,o))}),r.quill.keyboard.addBinding({key:"Z",shortKey:!0},r.undo.bind(r)),r.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},r.redo.bind(r)),/Win/i.test(navigator.platform)&&r.quill.keyboard.addBinding({key:"Y",shortKey:!0},r.redo.bind(r)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var o=this.stack[e].pop();this.stack[t].push(o),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(o[e],i.default.sources.USER),this.ignoreChange=!1;var r=s(o[e]);this.quill.setSelection(r)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var o=this.quill.getContents().diff(t),r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){var n=this.stack.undo.pop();o=o.compose(n.undo),e=n.redo.compose(e)}else this.lastRecorded=r;this.stack.undo.push({redo:e,undo:o}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}),this.stack.redo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}();function s(e){var t=e.reduce(function(e,t){return e+(t.delete||0)},0),o=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"==typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some(function(e){return null!=n.default.query(e,n.default.Scope.BLOCK)}))}(e)&&(o-=1),o}l.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=l,t.getLastChangeIndex=s},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],r=!0,n=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(o.push(a.value),!t||o.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(n)throw i}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),a=b(o(38)),u=b(o(14)),l=b(o(5)),s=b(o(69)),c=b(o(54)),p=b(o(28)),f=o(214),d=o(213),h=b(o(39)),m=o(115),g=o(212),y=o(211),v=o(210);function b(e){return e&&e.__esModule?e:{default:e}}function j(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var _=(0,c.default)("quill:clipboard"),O="__ql-matcher",S=[[Node.TEXT_NODE,M],[Node.TEXT_NODE,I],["br",function(e,t){return k(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,I],[Node.ELEMENT_NODE,P],[Node.ELEMENT_NODE,R],[Node.ELEMENT_NODE,T],[Node.ELEMENT_NODE,function(e,t){var o={},r=e.style||{};return r.fontStyle&&"italic"===L(e).fontStyle&&(o.italic=!0),r.fontWeight&&(L(e).fontWeight.startsWith("bold")||parseInt(L(e).fontWeight)>=700)&&(o.bold=!0),Object.keys(o).length>0&&(t=x(t,o)),parseFloat(r.textIndent||0)>0&&(t=(new u.default).insert("\t").concat(t)),t}],["li",function(e,t){var o=l.default.query(e);if(null==o||"list-item"!==o.blotName||!k(t,"\n"))return t;for(var r=-1,n=e.parentNode;!n.classList.contains("ql-clipboard");)"list"===(l.default.query(n)||{}).blotName&&(r+=1),n=n.parentNode;return r<=0?t:t.compose((new u.default).retain(t.length()-1).retain(1,{indent:r}))}],["b",A.bind(A,"bold")],["i",A.bind(A,"italic")],["style",function(){return new u.default}]],C=[f.AlignAttribute,g.DirectionAttribute].reduce(function(e,t){return e[t.keyName]=t,e},{}),w=[f.AlignStyle,d.BackgroundStyle,m.ColorStyle,g.DirectionStyle,y.FontStyle,v.SizeStyle].reduce(function(e,t){return e[t.keyName]=t,e},{}),E=function(e){function t(e,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return r.quill.root.addEventListener("paste",r.onPaste.bind(r)),r.container=r.quill.addContainer("ql-clipboard"),r.container.setAttribute("contenteditable",!0),r.container.setAttribute("tabindex",-1),r.matchers=[],S.concat(r.options.matchers).forEach(function(e){var t=n(e,2),i=t[0],a=t[1];(o.matchVisual||a!==R)&&r.addMatcher(i,a)}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.default),i(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"==typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[h.default.blotName]){var o=this.container.innerText;return this.container.innerHTML="",(new u.default).insert(o,j({},h.default.blotName,t[h.default.blotName]))}var r=this.prepareMatching(),i=n(r,2),a=i[0],l=i[1],s=function e(t,o,r){return t.nodeType===t.TEXT_NODE?r.reduce(function(e,o){return o(t,e)},new u.default):t.nodeType===t.ELEMENT_NODE?[].reduce.call(t.childNodes||[],function(n,i){var a=e(i,o,r);return i.nodeType===t.ELEMENT_NODE&&(a=o.reduce(function(e,t){return t(i,e)},a),a=(i[O]||[]).reduce(function(e,t){return t(i,e)},a)),n.concat(a)},new u.default):new u.default}(this.container,a,l);return k(s,"\n")&&null==s.ops[s.ops.length-1].attributes&&(s=s.compose((new u.default).retain(s.length()-1).delete(1))),_.log("convert",this.container.innerHTML,s),this.container.innerHTML="",s}},{key:"dangerouslyPasteHTML",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.default.sources.API;if("string"==typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,s.default.sources.SILENT);else{var r=this.convert(t);this.quill.updateContents((new u.default).retain(e).concat(r),o),this.quill.setSelection(e+r.length(),s.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var o=this.quill.getSelection(),r=(new u.default).retain(o.index),n=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(s.default.sources.SILENT),setTimeout(function(){r=r.concat(t.convert()).delete(o.length),t.quill.updateContents(r,s.default.sources.USER),t.quill.setSelection(r.length()-o.length,s.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=n,t.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],o=[];return this.matchers.forEach(function(r){var i=n(r,2),a=i[0],u=i[1];switch(a){case Node.TEXT_NODE:o.push(u);break;case Node.ELEMENT_NODE:t.push(u);break;default:[].forEach.call(e.container.querySelectorAll(a),function(e){e[O]=e[O]||[],e[O].push(u)})}}),[t,o]}}]),t}();function x(e,t,o){return"object"===(void 0===t?"undefined":r(t))?Object.keys(t).reduce(function(e,o){return x(e,o,t[o])},e):e.reduce(function(e,r){return r.attributes&&r.attributes[t]?e.push(r):e.insert(r.insert,(0,a.default)({},j({},t,o),r.attributes))},new u.default)}function L(e){return e.nodeType!==Node.ELEMENT_NODE?{}:e["__ql-computed-style"]||(e["__ql-computed-style"]=window.getComputedStyle(e))}function k(e,t){for(var o="",r=e.ops.length-1;r>=0&&o.length<t.length;--r){var n=e.ops[r];if("string"!=typeof n.insert)break;o=n.insert+o}return o.slice(-1*t.length)===t}function N(e){if(0===e.childNodes.length)return!1;var t=L(e);return["block","list-item"].indexOf(t.display)>-1}function A(e,t,o){return x(o,e,!0)}function T(e,t){var o=l.default.Attributor.Attribute.keys(e),r=l.default.Attributor.Class.keys(e),n=l.default.Attributor.Style.keys(e),i={};return o.concat(r).concat(n).forEach(function(t){var o=l.default.query(t,l.default.Scope.ATTRIBUTE);null!=o&&(i[o.attrName]=o.value(e),i[o.attrName])||(null==(o=C[t])||o.attrName!==t&&o.keyName!==t||(i[o.attrName]=o.value(e)||void 0),null==(o=w[t])||o.attrName!==t&&o.keyName!==t||(o=w[t],i[o.attrName]=o.value(e)||void 0))}),Object.keys(i).length>0&&(t=x(t,i)),t}function P(e,t){var o=l.default.query(e);if(null==o)return t;if(o.prototype instanceof l.default.Embed){var r={},n=o.value(e);null!=n&&(r[o.blotName]=n,t=(new u.default).insert(r,o.formats(e)))}else"function"==typeof o.formats&&(t=x(t,o.blotName,o.formats(e)));return t}function I(e,t){return k(t,"\n")||(N(e)||t.length()>0&&e.nextSibling&&N(e.nextSibling))&&t.insert("\n"),t}function R(e,t){if(N(e)&&null!=e.nextElementSibling&&!k(t,"\n\n")){var o=e.offsetHeight+parseFloat(L(e).marginTop)+parseFloat(L(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*o&&t.insert("\n")}return t}function M(e,t){var o=e.data;if("O:P"===e.parentNode.tagName)return t.insert(o.trim());if(0===o.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!L(e.parentNode).whiteSpace.startsWith("pre")){var r=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};o=(o=o.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,r.bind(r,!0)),(null==e.previousSibling&&N(e.parentNode)||null!=e.previousSibling&&N(e.previousSibling))&&(o=o.replace(/^\s+/,r.bind(r,!1))),(null==e.nextSibling&&N(e.parentNode)||null!=e.nextSibling&&N(e.nextSibling))&&(o=o.replace(/\s+$/,r.bind(r,!1)))}return t.insert(o)}E.DEFAULTS={matchers:[],matchVisual:!0},t.default=E,t.matchAttributor=T,t.matchBlot=P,t.matchNewline=I,t.matchSpacing=R,t.matchText=M},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),n=function(){function e(t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=o,this.modules={}}return r(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach(function(t){null==e.modules[t]&&e.addModule(t)})}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();n.DEFAULTS={modules:{}},n.themes={default:n},t.default=n},function(e,t,o){e.exports={default:o(130),__esModule:!0}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var r=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),n=function e(t,o,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,o);if(void 0===n){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,r)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(r):void 0},i=l(o(5)),a=l(o(16)),u=l(o(29));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=function(e){function t(){return s(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.default),r(t,[{key:"format",value:function(e,o){e!==d.blotName||o?n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,o):this.replaceWith(i.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,o){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,o),this):(this.parent.unwrap(),n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,o))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:n(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}();f.blotName="list-item",f.tagName="LI";var d=function(e){function t(e){s(this,t);var o=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=function(t){if(t.target.parentNode===e){var r=o.statics.formats(e),n=i.default.find(t.target);"checked"===r?n.format("list","unchecked"):"unchecked"===r&&n.format("list","checked")}};return e.addEventListener("touchstart",r),e.addEventListener("mousedown",r),o}return p(t,u.default),r(t,null,[{key:"create",value:function(e){var o="ordered"===e?"OL":"UL",r=n(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,o);return"checked"!==e&&"unchecked"!==e||r.setAttribute("data-checked","checked"===e),r}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),r(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return e={},t=this.statics.blotName,o=this.statics.formats(this.domNode),t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e;var e,t,o}},{key:"insertBefore",value:function(e,o){if(e instanceof f)n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,o);else{var r=null==o?this.length():o.offset(this),i=this.split(r);i.parent.insertBefore(e,i)}}},{key:"optimize",value:function(e){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var o=this.next;null!=o&&o.prev===this&&o.statics.blotName===this.statics.blotName&&o.domNode.tagName===this.domNode.tagName&&o.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(o.moveChildren(this),o.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var o=i.default.create(this.statics.defaultChild);e.moveChildren(o),this.appendChild(o)}n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}();d.blotName="list",d.scope=i.default.Scope.BLOCK_BLOT,d.tagName=["OL","UL"],d.defaultChild="list-item",d.allowedChildren=[f],t.ListItem=f,t.default=d},function(e,t,o){var r=o(61),n=o(64),i=o(42),a=o(88),u=o(34),l=o(108),s=Object.getOwnPropertyDescriptor;t.f=o(35)?s:function(e,t){if(e=i(e),t=a(t,!0),l)try{return s(e,t)}catch(e){}if(u(e,t))return n(!r.f.call(e,t),e[t])}},function(e,t,o){var r=o(106),n=o(83).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,n)}},function(e,t,o){e.exports=o(45)},function(e,t,o){"use strict";var r=o(63),n=o(37),i=o(99),a=o(45),u=o(81),l=o(155),s=o(79),c=o(103),p=o(41)("iterator"),f=!([].keys&&"next"in[].keys()),d=function(){return this};e.exports=function(e,t,o,h,m,g,y){l(o,t,h);var v,b,j,_=function(e){if(!f&&e in w)return w[e];switch(e){case"keys":case"values":return function(){return new o(this,e)}}return function(){return new o(this,e)}},O=t+" Iterator",S="values"==m,C=!1,w=e.prototype,E=w[p]||w["@@iterator"]||m&&w[m],x=E||_(m),L=m?S?_("entries"):x:void 0,k="Array"==t&&w.entries||E;if(k&&(j=c(k.call(new e)))!==Object.prototype&&j.next&&(s(j,O,!0),r||"function"==typeof j[p]||a(j,p,d)),S&&E&&"values"!==E.name&&(C=!0,x=function(){return E.call(this)}),r&&!y||!f&&!C&&w[p]||a(w,p,x),u[t]=x,u[O]=d,m)if(v={values:S?x:_("values"),keys:g?x:_("keys"),entries:L},y)for(b in v)b in w||i(w,b,v[b]);else n(n.P+n.F*(f||C),t,v);return v}},function(e,t,o){"use strict";t.__esModule=!0;var r=a(o(159)),n=a(o(148)),i="function"==typeof n.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof n.default&&e.constructor===n.default&&e!==n.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof n.default&&"symbol"===i(r.default)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof n.default&&e.constructor===n.default&&e!==n.default.prototype?"symbol":void 0===e?"undefined":i(e)}},function(e,t,o){var r=o(37),n=o(18),i=o(43);e.exports=function(e,t){var o=(n.Object||{})[e]||Object[e],a={};a[e]=t(o),r(r.S+r.F*i(function(){o(1)}),"Object",a)}},function(e,t,o){var r=o(34),n=o(60),i=o(85)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=n(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t){var o={}.toString;e.exports=function(e){return o.call(e).slice(8,-1)}},function(e,t,o){var r=o(104);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,o){var r=o(34),n=o(42),i=o(167)(!1),a=o(85)("IE_PROTO");e.exports=function(e,t){var o,u=n(e),l=0,s=[];for(o in u)o!=a&&r(u,o)&&s.push(o);for(;t.length>l;)r(u,o=t[l++])&&(~i(s,o)||s.push(o));return s}},function(e,t,o){var r=o(44),n=o(27).document,i=r(n)&&r(n.createElement);e.exports=function(e){return i?n.createElement(e):{}}},function(e,t,o){e.exports=!o(35)&&!o(43)(function(){return 7!=Object.defineProperty(o(107)("div"),"a",{get:function(){return 7}}).a})},function(e,t,o){var r=o(169);e.exports=function(e,t,o){if(r(e),void 0===t)return e;switch(o){case 1:return function(o){return e.call(t,o)};case 2:return function(o,r){return e.call(t,o,r)};case 3:return function(o,r,n){return e.call(t,o,r,n)}}return function(){return e.apply(t,arguments)}}},function(e,t,o){e.exports=o(7)(57)},function(e,t,o){e.exports=o(7)(50)},function(e,t,o){var r=o(197),n=o(191);e.exports=function(e,t){var o=n(e,t);return r(o)?o:void 0}},function(e,t,o){e.exports=o(7)(56)},function(e,t,o){e.exports=o(7)(122)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var r,n=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),i=(r=o(5))&&r.__esModule?r:{default:r},a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Attributor.Style),n(t,[{key:"value",value:function(e){var o=function e(t,o,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,o);if(void 0===n){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,r)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return o.startsWith("rgb(")?"#"+(o=o.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(function(e){return("00"+parseInt(e).toString(16)).slice(-2)}).join(""):o}}]),t}(),u=new i.default.Attributor.Class("color","ql-color",{scope:i.default.Scope.INLINE}),l=new a("color","color",{scope:i.default.Scope.INLINE});t.ColorAttributor=a,t.ColorClass=u,t.ColorStyle=l},function(e,t,o){"use strict";var r=o(0),n=o.n(r),i=o(8),a=o.n(i),u=o(9),l=o(1),s=o(12);
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */function c(e){var t=e.isActive,o=e.matchedString,r=e.mentionData,i=e.onClick,u=e.onMouseEnter,l=r.photoUrl,c=r.name,p=r.domID,f=a()("richEditor-menuItem","atMentionList-item",{isActive:t}),d=!1,h=Object(s.splitStringLoosely)(c,o).map(function(e,t){return 0!==Intl.Collator("en",{usage:"search",sensitivity:"base",ignorePunctuation:!0,numeric:!0}).compare(e,o)||d?e:(d=!0,n.a.createElement("mark",{className:"atMentionList-mark",key:t},e))});return n.a.createElement("li",{id:p,className:f,role:"option","aria-selected":t,onClick:i,onMouseEnter:u},n.a.createElement("button",{type:"button",className:"atMentionList-suggestion"},n.a.createElement("span",{className:"atMentionList-user"},n.a.createElement("span",{className:"PhotoWrap atMentionList-photoWrap"},n.a.createElement("img",{src:l,alt:c,className:"atMentionList-photo ProfilePhoto"})),n.a.createElement("span",{className:"atMentionList-userName"},h))))}function p(e){var t=e.loadingData,o=e.onMouseEnter,r=e.isActive,i=t.domID,u=a()("richEditor-menuItem","atMentionList-item","atMentionList-loader",{isActive:r});return n.a.createElement("li",{id:i,className:u,role:"option","aria-selected":r,onMouseEnter:o},n.a.createElement("button",{type:"button",className:"atMentionList-suggestion",disabled:!0},n.a.createElement("span",{className:"atMentionList-user atMentionList-loader"},n.a.createElement("span",{className:"PhotoWrap atMentionList-photoWrap"},n.a.createElement("img",{alt:name,className:"atMentionList-photo ProfilePhoto"})),n.a.createElement("span",{className:"atMentionList-userName"},Object(l.t)("Loading...")))))}function f(){var e=a()("richEditor-menuItem","atMentionList-item","atMentionList-spacer");return n.a.createElement("li",{"aria-hidden":"true",className:e,style:{visibility:"hidden"}},n.a.createElement("button",{type:"button",className:"atMentionList-suggestion"},n.a.createElement("span",{className:"atMentionList-user atMentionList-loader"},n.a.createElement("span",{className:"PhotoWrap atMentionList-photoWrap"},n.a.createElement("img",{alt:name,className:"atMentionList-photo ProfilePhoto"})),n.a.createElement("span",{className:"atMentionList-userName"}))))}var d,h=o(2),m=o(71),g=o(3),y=o.n(g),v=(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),b=function(e){function t(t){var o=e.call(this,t)||this;return o.state={flyoutWidth:null,flyoutHeight:null,selectionIndex:null,selectionLength:null},o.flyoutRef=n.a.createRef(),o.handleEditorChange=function(e,t,r,n){var i=e===y.a.events.SELECTION_CHANGE||e===y.a.events.TEXT_CHANGE;if(n!==y.a.sources.SILENT&&i){var a=o.quill.getSelection(),u=a?Object(h.g)(o.quill,a.index):null;if(u&&u.length>0&&o.quill.getText(u.index,u.length).match(/[^\n]/))return void o.setState({selectionIndex:u.index,selectionLength:u.length});o.setState({selectionIndex:null,selectionLength:null})}},o.quill=t.quill,o}return v(t,e),t.prototype.render=function(){var e=this,t=this.props,o=t.activeItemId,r=t.id,i=t.onItemClick,u=t.matchedString,s=t.mentionProps,d=(t.loaderID,t.isVisible),h=t.showLoader,g=s.length>0||h,y=a()("atMentionList-items","MenuItems");return n.a.createElement(m.a,{horizontalAlignment:"start",verticalAlignment:"below",flyoutWidth:this.state.flyoutWidth,flyoutHeight:this.state.flyoutHeight,isActive:d,selectionIndex:this.state.selectionIndex,selectionLength:this.state.selectionLength},function(t){var a=t.x,d=t.y,m={visibility:"hidden",position:"absolute",zIndex:-1};a&&d&&(m={position:"absolute",top:d.position,left:a.position,zIndex:1,visibility:"visible"});var v=s.slice(0,5).map(function(e){if(null==e.mentionData)return null;var t=e.mentionData.domID===o;return n.a.createElement(c,{mentionData:e.mentionData,key:e.mentionData.name,onMouseEnter:e.onMouseEnter,onClick:i,isActive:t,matchedString:u})});if(h){var b={domID:e.props.loaderID},j=b.domID===o;v.push(n.a.createElement(p,{loadingData:b,isActive:j,key:"Loading",matchedString:u}))}return n.a.createElement("span",{style:m,className:"atMentionList",ref:e.flyoutRef},n.a.createElement("ul",{id:r,"aria-label":Object(l.t)("@mention user suggestions"),className:y+(g?"":" isHidden"),role:"listbox"},g&&v),n.a.createElement("div",{className:y,style:{visibility:"hidden"}},n.a.createElement(f,null)))})},t.prototype.componentDidMount=function(){this.setState({flyoutWidth:this.flyoutRef.current?this.flyoutRef.current.offsetWidth:null,flyoutHeight:this.flyoutRef.current?this.flyoutRef.current.offsetHeight:null}),this.quill.on(y.a.events.EDITOR_CHANGE,this.handleEditorChange)},t.prototype.componentWillUnmount=function(){this.quill.off(y.a.events.EDITOR_CHANGE,this.handleEditorChange)},t}(n.a.PureComponent);t.a=Object(u.b)(b)},function(e,t,o){"use strict";(function(e){var r,n=o(0),i=o.n(n),a=o(3),u=o.n(a),l=o(17),s=o.n(l),c=o(72),p=o.n(c),f=o(4),d=o.n(f),h=o(9),m=o(116),g=o(33),y=o(19),v=o(2),b=o(48),j=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),_=function(t){function o(o){var r=t.call(this,o)||this;return r.ID=s()("mentionList-"),r.loaderID=s()("mentionList-noResults-"),r.comboBoxID=s()("mentionComboBox-"),r.isConvertingMention=!1,r.MENTION_COMPLETION_CHARACTERS=[".","!","?"," ","\n"],r.onItemClick=function(e){e.preventDefault(),r.confirmActiveMention()},r.keyDownListener=function(e){var t=r.state.inActiveMention,o=r.props,n=o.suggestions,i=o.activeSuggestionIndex,a=o.activeSuggestionID,u=o.showLoader;if(n&&"SUCCESSFUL"===n.status)if(r.quill.hasFocus()&&t&&!r.hasApiResponse)d.a.match(e,d.a.keys.ENTER)&&r.cancelActiveMention();else if(r.quill.hasFocus()&&t){var l=i+1,s=i-1,c=u?n.users.length:n.users.length-1,p=a===r.loaderID,f=function(e){return u&&e===c?r.loaderID:n.users[e].domID};switch(!0){case d.a.match(e,d.a.keys.DOWN):var h=f(m=i===c?0:l);r.props.setActiveItem(h,m),e.preventDefault(),e.stopPropagation();break;case d.a.match(e,d.a.keys.UP):var m;h=f(m=0===i?c:s),r.props.setActiveItem(h,m),e.preventDefault(),e.stopPropagation();break;case d.a.match(e,d.a.keys.ENTER):n.users.length>0&&!p?(r.confirmActiveMention(),e.preventDefault(),e.stopPropagation()):r.cancelActiveMention();break;case d.a.match(e,d.a.keys.TAB):p||(r.confirmActiveMention(),e.preventDefault(),e.stopPropagation());break;case d.a.match(e,d.a.keys.ESCAPE):r.cancelActiveMention(),e.preventDefault(),e.stopPropagation()}}},r.injectComboBoxAccessibility=function(){var e=r.state.autoCompleteBlot,t=r.props,o=t.activeSuggestionID;t.activeSuggestionIndex,e&&e.injectAccessibilityAttributes({ID:r.comboBoxID,activeItemID:o,suggestionListID:r.ID,activeItemIsLoader:o===r.loaderID})},r.onDocumentClick=function(e){r.quill.root.contains(e.target)||r.cancelActiveMention()},r.onSelectionChange=function(e,t,o){if(o===u.a.sources.USER&&r.state.inActiveMention&&r.hasApiResponse){if(!e||e.length>0)return r.cancelActiveMention();var n=Object(v.e)(r.quill,e.index,y.a),i=Object(v.g)(r.quill,e.index,!0);return n||i?void 0:r.cancelActiveMention()}},r.onTextChange=function(t,o,n){if(n===u.a.sources.USER){var i=r.quill.getSelection();if(null==i||null==i.index)return r.cancelActiveMention(!1);var a=Object(v.e)(r.quill,i.index,y.a),l=Object(v.g)(r.quill);if(!l)return r.cancelActiveMention();a||(r.quill.formatText(l.index,l.length,"mention-autocomplete",!0,u.a.sources.API),r.quill.setSelection(i.index,0,u.a.sources.API),a=Object(v.e)(r.quill,i.index-1,y.a));var s=t.ops&&t.ops.length>0?t.ops[t.ops.length-1]:null;if(s&&s.insert&&r.MENTION_COMPLETION_CHARACTERS.includes(s.insert)){var c=r.props.suggestions,p=c&&"SUCCESSFUL"===c.status?c.users:[];if(1===p.length&&r.props.lastSuccessfulUsername===p[0].name)return void e(function(){r.confirmActiveMention(s.insert)})}r.setState({autoCompleteBlot:a,inActiveMention:!0}),r.props.lookupMentions(a.username)}},r.quill=o.quill,r.state={inActiveMention:!1,autoCompleteBlot:null},r}return j(o,t),o.prototype.componentDidMount=function(){document.addEventListener("keydown",this.keyDownListener,!0),document.addEventListener("click",this.onDocumentClick,!1),this.quill.on("text-change",this.onTextChange),this.quill.on("selection-change",this.onSelectionChange)},o.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.keyDownListener,!0),document.removeEventListener("click",this.onDocumentClick,!1),this.quill.off("text-change",this.onTextChange),this.quill.off("selection-change",this.onSelectionChange)},o.prototype.componentDidUpdate=function(){this.injectComboBoxAccessibility()},o.prototype.render=function(){var e=this.props,t=e.suggestions,o=e.lastSuccessfulUsername,r=e.showLoader,n=e.activeSuggestionID,a=t&&"SUCCESSFUL"===t.status,u=t&&"SUCCESSFUL"===t.status?t.users:[];return i.a.createElement(m.a,{onItemClick:this.onItemClick,mentionProps:this.createMentionProps(u),matchedString:o,activeItemId:n,isVisible:!!a||r,id:this.ID,loaderID:this.loaderID,showLoader:r})},Object.defineProperty(o.prototype,"hasApiResponse",{get:function(){var e=this.props.suggestions;return e&&"SUCCESSFUL"===e.status},enumerable:!0,configurable:!0}),o.prototype.createMentionProps=function(e){var t=this;return e.map(function(e,o){return{mentionData:e,onMouseEnter:function(){t.props.setActiveItem(e.domID,o)}}})},o.prototype.cancelActiveMention=function(e){if(void 0===e&&(e=!0),this.state.autoCompleteBlot&&e&&!this.isConvertingMention){this.isConvertingMention=!0;var t=this.quill.getSelection();this.state.autoCompleteBlot.cancel(),this.quill.setSelection(t,u.a.sources.SILENT)}this.setState({inActiveMention:!1,autoCompleteBlot:null}),this.isConvertingMention=!1},o.prototype.confirmActiveMention=function(e){void 0===e&&(e=" ");var t=this.state.autoCompleteBlot,o=this.props,r=o.suggestions,n=o.activeSuggestionIndex;if(t instanceof y.a&&!this.isConvertingMention&&r&&"SUCCESSFUL"===r.status){this.isConvertingMention=!0;var i=r.users[n],a=t.offset(this.quill.scroll);t.finalize(i),this.quill.insertText(a+1,e,u.a.sources.SILENT),this.quill.setSelection(a+2,0,u.a.sources.SILENT),this.cancelActiveMention()}},o}(i.a.Component),O=Object(b.connect)(function(e){var t=e.editor.mentions,o=t.lastSuccessfulUsername,r=t.currentUsername,n=t.usersTrie,i=t.activeSuggestionID,a=t.activeSuggestionIndex,u=r&&n.getValue(r),l=u&&"PENDING"===u.status;return{suggestions:o?n.getValue(o):null,lastSuccessfulUsername:o,activeSuggestionID:i,activeSuggestionIndex:a,showLoader:l}},function(e){return{lookupMentions:p()(function(t){return e(g.f.loadUsers(t))},50),setActiveItem:function(t,o){return e(g.e.setActiveSuggestion(t,o))}}});t.a=O(Object(h.b)(_))}).call(this,o(89).setImmediate)},function(e,t,o){"use strict";t.__esModule=!0,t.default=function(e,t){var o={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r]);return o}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((!i&&0!==i||e)&&n.default){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),i=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return i};var r,n=(r=o(131))&&r.__esModule?r:{default:r},i=void 0;e.exports=t.default},function(e,t,o){"use strict";(function(e){var r,n=o(93),i=o.n(n),a=o(14),u=o.n(a),l=o(3),s=o.n(l),c=o(2),p=o(13),f=o(23),d=o(50),h=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),m=function(t){function o(e,r){var n=t.call(this,e,r)||this;return n.linkMatcher=function(e,t){var r=e.textContent;if(e.nodeType===Node.TEXT_NODE&&null!=r&&!n.inCodeFormat){var i=o.splitLinkOperationsOutOfText(r);i&&(t.ops=i)}return t},n.addMatcher(Node.TEXT_NODE,n.linkMatcher),n}return h(o,t),o.splitLinkOperationsOutOfText=function(e){var t=e.match(/https?:\/\/[^\s]+/g);if(t&&t.length>0){var o=[];return t.forEach(function(t){var r=e.split(t),n=r.shift();""!==n&&o.push({insert:n}),o.push({insert:t,attributes:{link:t}}),e=r.join(t)}),""!==e&&o.push({insert:e}),o}return null},o.prototype.onPaste=function(t){var o=this;if(!t.defaultPrevented&&this.quill.isEnabled()){var r=this.quill.getSelection(),n=(new u.a).retain(r.index),i=document.documentElement.scrollTop||document.body.scrollTop;this.container.focus(),this.quill.selection.update(s.a.sources.SILENT),e(function(){n=n.concat(o.convert()).delete(r.length),o.quill.updateContents(n,s.a.sources.USER),o.quill.setSelection(n.length()-r.length,s.a.sources.SILENT),document.documentElement.scrollTop=document.body.scrollTop=i,o.quill.focus()})}},Object.defineProperty(o.prototype,"inCodeFormat",{get:function(){var e=Object(d.default)().getState().editor.instances[Object(c.f)(this.quill)];return!(!e||!e.lastGoodSelection)&&(Object(c.n)(this.quill,p.a,e.lastGoodSelection)||Object(c.n)(this.quill,f.a,e.lastGoodSelection))},enumerable:!0,configurable:!0}),o}(i.a);t.a=m}).call(this,o(89).setImmediate)},function(e,t,o){var r=o(207);e.exports=function(e,t,o){var n=null==e?void 0:r(e,t);return void 0===n?o:n}},function(e,t,o){"use strict";(function(e){var r,n=o(6),i=o(17),a=o.n(i),u=o(11),l=o(10),s=o(57),c=o(1),p=o(12),f=o(51),d=o(2),h=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),m=function(t){function o(e,o,r){void 0===r&&(r=!0);var n=t.call(this,e)||this;return r&&n.replaceLoaderWithFinalForm(o),n}return h(o,t),o.create=function(e){return f.a.create(e)},o.value=function(e){return e.classList.contains(f.a.className)?f.a.value(e):Object(n.getData)(e,"__embed-data__",!1)},o.createEmbedWarningFallback=function(e){var t=document.createElement("div");t.classList.add("embedExternal"),t.classList.add("embedLinkLoader"),t.classList.add("embedLinkLoader-error");var o,r=Object(n.escapeHTML)(e),i=Object(c.t)("This embed could not be loaded in your browser.");return t.innerHTML='<a href="#" class="embedLinkLoader-link '+u.FOCUS_CLASS+'" tabindex="-1">'+r+'&nbsp;\n<svg class="embedLinkLoader-failIcon" title="'+(o=i)+'" aria-label="'+o+'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\n    <title>'+o+'</title>\n    <circle cx="8" cy="8" r="8" style="fill: #f5af15"/>\n    <circle cx="8" cy="8" r="7.5" style="fill: none;stroke: #000;stroke-opacity: 0.122"/>\n    <path d="M11,10.4V8h2v2.4L12.8,13H11.3Zm0,4h2v2H11Z" transform="translate(-4 -4)" style="fill: #fff"/>\n</svg></a>',t},o.createEmbedFromData=function(t,r){var n=l.a.create(t);n.classList.add("js-embed"),n.classList.add("embedResponsive"),n.classList.remove(u.FOCUS_CLASS);var i=document.createElement("span");i.innerHTML=Object(c.t)("richEditor.externalEmbed.description"),i.classList.add("sr-only"),i.id=a()("richEditor-embed-description-");var s=document.createElement("div");s.classList.add("embedExternal"),s.classList.add("embed"+Object(p.capitalizeFirstLetter)(t.type));var f=document.createElement("div");return f.classList.add(u.FOCUS_CLASS),f.setAttribute("aria-label","External embed content - "+t.type),f.setAttribute("aria-describedby",i.id),f.classList.add("embedExternal-content"),f.tabIndex=-1,r&&n.appendChild(r),n.appendChild(s),n.appendChild(i),s.appendChild(f),e(function(){Object(u.renderEmbed)({root:s,content:f},t).then(function(){Object(d.d)(),r&&r.remove()}).catch(function(e){Object(d.d)(),Object(p.logError)(e);var a=o.createEmbedWarningFallback(t.url);s.remove(),i.remove(),r&&r.remove(),n.appendChild(a)})}),n},o.prototype.replaceLoaderWithFinalForm=function(e){var t,r=this;this.resolveDataFromValue(e).then(function(i){var a={data:i,loaderData:e.loaderData},u=r.domNode.querySelector(".embedLinkLoader"),l=o.createEmbedFromData(i,u);Object(n.setData)(l,"__embed-data__",a),t=new o(l,a,!1),r.replaceWith(t)}).catch(function(e){Object(p.logError)(e),r.replaceWith(new s.a(s.a.create(e)))})},o.prototype.resolveDataFromValue=function(e){return"data"in e?Promise.resolve(e.data):e.dataPromise},o.blotName="embed-external",o.className="embed-external",o.tagName="div",o.LOADING_VALUE={loading:!0},o}(l.a);t.a=m}).call(this,o(89).setImmediate)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var r,n=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),i=function e(t,o,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,o);if(void 0===n){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,r)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(r):void 0},a=(r=o(5))&&r.__esModule?r:{default:r},u=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Attributor.Class),n(t,[{key:"add",value:function(e,o){if("+1"===o||"-1"===o){var r=this.value(e)||0;o="+1"===o?r+1:r-1}return 0===o?(this.remove(e),!0):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,o)}},{key:"canAdd",value:function(e,o){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,o)||i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(o))}},{key:"value",value:function(e){return parseInt(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}())("indent","ql-indent",{scope:a.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=u},function(e,t,o){e.exports=o(7)(93)},function(e,t,o){e.exports=o(7)(20)},function(e,t,o){e.exports=o(7)(19)},function(e,t,o){e.exports=o(7)(80)},function(e,t,o){"use strict";o.r(t);var r=o(127),n=o(33),i=function(){function e(){this.MAX_PARTIAL_LOOKUP_ITERATIONS=10,this.root={}}return e.prototype.insert=function(e,t){for(var o=this.root,r=0;r<e.length;r++){var n=e[r];if(o.children||(o.children={}),!(n in o.children)){var i=r!==e.length-1?{}:{children:{}};o.children[n]=i}o=o.children[n]}o.value=t},e.prototype.getNode=function(e){var t=this.root;if(void 0===e)return t;for(var o=0;o<e.length;o++){var r=e.charAt(o);if(!t.children||!t.children[r])return null;t=t.children[r]}return t},e.prototype.getValue=function(e){var t=this.getNode(e);return t&&t.value||null},e.prototype.getValueFromPartialsOfWord=function(e){for(var t=Math.min(this.MAX_PARTIAL_LOOKUP_ITERATIONS,e.length);t>0;t--){var o=e.substring(0,t),r=this.getValue(o);if(null!=r)return r}return null},e}(),a=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},u={lastSuccessfulUsername:null,currentUsername:null,usersTrie:new i,activeSuggestionID:"",activeSuggestionIndex:0},l=o(32),s="[instance] create",c="[instance] set selection",p={createInstance:function(e){return Object(l.a)(s,{editorID:e})},setSelection:function(e,t){return Object(l.a)(c,{editorID:e,selection:t})}},f=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},d={index:0,length:0},h={},m={currentSelection:d,lastGoodSelection:d};
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */
function g(e,t){var o=e[t.payload.editorID];if(t.type===s&&o)throw new Error("Failed to create editor instance with id "+t.payload.editorID+". Id already exists");if(t.type!==s&&!o)throw new Error("Could not perform an action for editor ID "+t.payload.editorID+" that doesn't exist. Be sure to create an instance first.")}var y,v=o(126),b=Object(v.combineReducers)({mentions:function(e,t){switch(void 0===e&&(e=u),t.type){case n.b:var o=t.payload.username;e.usersTrie.insert(o,{status:"PENDING"});var r=!1,i=e.lastSuccessfulUsername;return null!=i&&o.length>i.length&&o.substring(0,i.length)===i&&(r=!0),a({},e,{currentUsername:o,lastSuccessfulUsername:r?e.lastSuccessfulUsername:null});case n.a:var l=t.payload,s=(o=l.username,l.error);return e.usersTrie.insert(o,{status:"FAILED",users:null,error:s}),e;case n.c:var c=t.payload,p=(o=c.username,c.users);e.usersTrie.insert(o,{status:"SUCCESSFUL",users:function(e,t){var o=Intl.Collator("en",{usage:"sort",sensitivity:"variant",ignorePunctuation:!0,numeric:!0});return e.sort(function(e,r){return e.name.includes(t)&&!r.name.includes(t)?-1:r.name.includes(t)&&!e.name.includes(t)?1:o.compare(e.name,r.name)})}(p,o)});var f=p.length>0?p[0].domID:"";return a({},e,{activeSuggestionID:f,activeSuggestionIndex:0,lastSuccessfulUsername:o,currentUsername:o===e.currentUsername?null:e.currentUsername});case n.d:var d=t.payload,h=d.suggestionID,m=d.suggestionIndex;return a({},e,{activeSuggestionID:h,activeSuggestionIndex:m});default:return e}},instances:function(e,t){switch(void 0===e&&(e=h),t.type){case s:return g(e,t),f({},e,((u={})[t.payload.editorID]=m,u));case c:g(e,t);var o=t.payload,r=o.selection,n=o.editorID,i=e[n],a=i.lastGoodSelection;return f({},e,((l={})[n]=f({},i,{currentSelection:r,lastGoodSelection:null!==r?r:a}),l));default:return e}var u,l}}),j=o(0),_=o.n(j),O=o(125),S=o.n(O),C=o(17),w=o.n(C),E=o(6),x=o(1),L=o(50),k=o(124),N=o(12),A=o(3),T=o.n(A),P=o(49),I=o.n(P),R=o(59),M=o.n(R),D=o(20),B=o.n(D),q=o(58),z=o.n(q),F=o(96),U=o.n(F),H=o(26),W=o.n(H),K=o(123),G=o(23),V=o(40),Z=o.n(V),Y=(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}y(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),X=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Y(t,e),t.create=function(t){var o=e.create.call(this,t);return Object(E.isEmojiSupported)()?(o.innerHTML=t.emojiChar,o.classList.add("nativeEmoji")):o.innerHTML=Object(E.convertToSafeEmojiCharacters)(t.emojiChar),Object(E.setData)(o,"data",t),o},t.value=function(e){return Object(E.getData)(e,"data")},t.className="safeEmoji",t.blotName="emoji",t.tagName="span",t}(Z.a),$=o(122),J=o(57),Q=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Q(t,e),t.create=function(t){var o=e.create.call(this,t);return o.textContent="@"+t.name,o.dataset.userid=t.userID.toString(),o.dataset.username=t.name,o.href=Object(x.makeProfileUrl)(t.name),o},t.value=function(e){return{name:e.dataset.username,userID:parseInt(e.dataset.userid||"",10)}},t.blotName="mention",t.className="atMention",t.tagName="a",t}(Z.a),te=o(29),oe=o.n(te),re=o(22),ne=o.n(re),ie=o(21),ae=o.n(ie),ue=o(5),le=o.n(ue),se=o(19),ce=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),pe=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var r,n,i=o.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){n={error:e}}finally{try{r&&!r.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return a},fe=function(e){function t(t){var o=e.call(this,t)||this;return t.setAttribute("role","combobox"),t.setAttribute("aria-haspopup","listbox"),o}return ce(t,e),t.prototype.optimize=function(t){e.prototype.optimize.call(this,t),0===this.children.length&&this.remove()},t.prototype.replaceWith=function(t,o){var r="string"==typeof t?le.a.create(t,o):t;return e.prototype.replaceWith.call(this,r)},t.blotName="mention-combobox",t.className="atMentionComboBox",t.tagName="span",t.scope=le.a.Scope.BLOCK,t.allowedChildren=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(pe(arguments[t]));return e}(oe.a.allowedChildren,[se.a,ne.a,Z.a,ae.a]),t}(oe.a),de=o(16),he=o.n(de),me=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),ge=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var r,n,i=o.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){n={error:e}}finally{try{r&&!r.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return a},ye=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return me(t,e),t.allowedChildren=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ge(arguments[t]));return e}(he.a.allowedChildren),t}(he.a),ve=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ve(t,e),t.formats=function(){},t.create=function(t){var o=e.create.call(this,t);return this.className&&o.classList.add(this.className),o},t.prototype.optimize=function(o){e.prototype.optimize.call(this,o);var r=this.next;r instanceof t&&r.prev===this&&r.statics.blotName===this.constructor.blotName&&r.domNode.tagName===this.domNode.tagName&&(r.moveChildren(this),r.remove())},t.scope=le.a.Scope.BLOCK_BLOT,t.tagName="div",t.allowedChildren=[t],t}(oe.a),je=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */function _e(e){return function(e){function t(t){var o=e.call(this,t)||this;if(!o.statics.parentName)throw new Error("Attempted to instantiate wrapped Blot without setting static value parentName");return o}return je(t,e),t.prototype.attach=function(){if(e.prototype.attach.call(this),this.parent.statics.blotName!==this.statics.parentName){var t=le.a.create(this.statics.parentName);if(!(t instanceof be))throw new Error("The provided static parentName did not instantiate an instance of a WrapperBlot.");this.wrap(t)}},t.prototype.remove=function(){null==this.prev&&null==this.next?this.parent.remove():e.prototype.remove.call(this)},t.prototype.optimize=function(t){e.prototype.optimize.call(this,t),0===this.children.length&&this.remove()},t.prototype.getWrapper=function(e){void 0===e&&(e=!1);var t=this.parent;return e&&t.getWrapper?t.getWrapper(!0):t},t.prototype.replaceWith=function(e,t){var o=this,r=this.getWrapper(!0);this.parent.children.forEach(function(n){n===o?n.replaceWithIntoScroll(e,t,r):n.insertInto(o.scroll,r)}),r.remove()},t.prototype.replaceWithIntoScroll=function(e,t,o){var r=le.a.create(e,t);this.moveChildren(r),r.insertInto(this.scroll,o)},t}(e)}
/**
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */var Oe=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),Se=function(e){function t(t){var o=e.call(this,t)||this;if(!o.statics.className)throw new Error("Attempted to initialize a ClassFormatBlot without setting the static className");return o}return Oe(t,e),t.create=function(t){var o=e.create.call(this,t);return this.className&&o.classList.add(this.className),o},t.formats=function(e){var t=this.className&&e.classList.contains(this.className),o=e.tagName.toLowerCase()===this.tagName.toLowerCase();return this.className?t&&o:o},t.prototype.formats=function(){return(e={})[this.statics.blotName]=this.statics.formats(this.domNode),e;var e},t}(ye),Ce=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),we=_e(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ce(t,e),t}(Se)),Ee=_e(be);Ee.allowedChildren=[we];var xe=Ee,Le=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),ke=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var r,n,i=o.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){n={error:e}}finally{try{r&&!r.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return a},Ne=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Le(t,e),t.blotName="spoiler-line",t.className="spoiler-line",t.tagName="p",t.parentName="spoiler-content",t}(we),Ae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Le(t,e),t.className="spoiler-content",t.blotName="spoiler-content",t.parentName="spoiler",t}(xe),Te='\n<button disabled class="iconButton button-spoiler" type="button">\n    <span class="spoiler-warning">\n        <span class="spoiler-warningMain">\n            <svg class="icon spoiler-icon">\n                <title>'+Object(x.t)("Crossed Eye")+'</title>\n                <path fill="currentColor" transform="translate(0 -1)" d="M6.57317675,16.3287231 C4.96911243,15.3318089 3.44472018,13.8889012 2,12 C5.05938754,8 8.47605421,6 12.25,6 C13.6612883,6 15.0226138,6.27968565 16.3339763,6.83905696 L20.6514608,2.64150254 C20.8494535,2.44900966 21.1660046,2.45346812 21.3584975,2.6514608 C21.5509903,2.84945348 21.5465319,3.16600458 21.3485392,3.35849746 L3.3485392,20.8584975 C3.15054652,21.0509903 2.83399542,21.0465319 2.64150254,20.8485392 C2.44900966,20.6505465 2.45346812,20.3339954 2.6514608,20.1415025 L6.57317675,16.3287231 L6.57317675,16.3287231 Z M15.5626154,7.58899113 C14.5016936,7.19530434 13.4103266,7 12.2871787,7 C9.03089027,7 6.04174149,8.64166208 3.28717875,12 C4.57937425,13.575433 5.92319394,14.7730857 7.3219985,15.600702 L8.69990942,14.2610664 C8.25837593,13.6178701 8,12.8391085 8,12 C8,9.790861 9.790861,8 12,8 C12.8795188,8 13.6927382,8.28386119 14.353041,8.76496625 L15.5626154,7.58899113 L15.5626154,7.58899113 Z M13.6219039,9.47579396 C13.1542626,9.17469368 12.5975322,9 12,9 C10.3431458,9 9,10.3431458 9,12 C9,12.5672928 9.15745957,13.0978089 9.43105789,13.5502276 L10.1773808,12.8246358 C10.0634411,12.573203 10,12.2940102 10,12 C10,10.8954305 10.8954305,10 12,10 C12.3140315,10 12.6111588,10.0723756 12.8756113,10.2013562 L13.6219039,9.47579396 L13.6219039,9.47579396 Z M8.44878963,17.2769193 L9.24056594,16.4926837 C10.2294317,16.8317152 11.2446131,17 12.2871787,17 C15.5434672,17 18.532616,15.3583379 21.2871787,12 C20.0256106,10.4619076 18.7148365,9.28389964 17.351729,8.45876979 L18.0612628,7.7559935 C19.6161185,8.74927417 21.0956975,10.163943 22.5,12 C19.4406125,16 16.0239458,18 12.25,18 C10.9398729,18 9.67280281,17.7589731 8.44878963,17.2769193 L8.44878963,17.2769193 Z M10.1795202,15.5626719 L10.9415164,14.8079328 C11.2706747,14.9320752 11.627405,15 12,15 C13.6568542,15 15,13.6568542 15,12 C15,11.6375376 14.9357193,11.2900888 14.8179359,10.9684315 L15.579952,10.2136728 C15.8487548,10.7513317 16,11.3580032 16,12 C16,14.209139 14.209139,16 12,16 C11.3443726,16 10.7255863,15.8422643 10.1795202,15.5626719 L10.1795202,15.5626719 Z M11.7703811,13.986962 L13.9890469,11.7894264 C13.9962879,11.8586285 14,11.9288807 14,12 C14,13.1045695 13.1045695,14 12,14 C11.9223473,14 11.8457281,13.9955745 11.7703811,13.986962 Z"></path>\n            </svg>\n            <strong class="spoiler-warningBefore">\n                '+Object(x.t)("Warning")+':\n            </strong>\n            <span class="spoiler-warningAfter">\n                '+Object(x.t)("This is a spoiler")+"\n            </span>\n        </span>\n    </span>\n</button>\n",Pe=function(e){function t(t){var o=e.call(this,t)||this;return o.attachToggleButton(),o}return Le(t,e),t.create=function(t){var o=e.create.call(this,t);return o.classList.add("isShowingSpoiler"),o},t.prototype.attachToggleButton=function(){var e=document.createElement("div");e.setAttribute("contenteditable",!1),e.classList.add("spoiler-buttonContainer"),e.innerHTML=Te,this.domNode.appendChild(e)},t.prototype.attach=function(){e.prototype.attach.call(this)},t.prototype.optimize=function(t){e.prototype.optimize.call(this,t)},t.className="spoiler",t.blotName="spoiler",t.allowedChildren=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ke(arguments[t]));return e}(be.allowedChildren),t}(be),Ie=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),Re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ie(t,e),t.blotName="blockquote-line",t.className="blockquote-line",t.tagName="p",t.parentName="blockquote-content",t}(we),Me=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ie(t,e),t.className="blockquote-content",t.blotName="blockquote-content",t.parentName="blockquote",t}(xe),De=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ie(t,e),t.className="blockquote",t.blotName="blockquote",t}(be),Be=o(13),qe=o(94),ze=o.n(qe),Fe=o(4),Ue=o.n(Fe),He=o(14),We=o.n(He),Ke=o(15),Ge=o.n(Ke),Ve=o(2),Ze=o(10),Ye=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Xe=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var r,n,i=o.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){n={error:e}}finally{try{r&&!r.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return a},$e=function(){function e(e){var t=this;this.quill=e,this.bindings={},this.handleMultilineEnter=function(e){var o=Xe(t.quill.getLine(e.index),1)[0];return o!==o.getWrapper().children.tail||""!==o.domNode.textContent||!o.prev||(Object(Ve.i)(t.quill,e),!1)},this.handleCodeBlockEnter=function(e){var o=Xe(t.quill.getLine(e.index),1)[0].domNode.textContent;return!/\n\n\n$/.test(o)||(Object(Ve.i)(t.quill,e,2),!1)},this.handleBlockStartDelete=function(e){var o=Xe(t.quill.getLine(e.index),1)[0];return!Object(Ve.l)(o,t.quill)||(Object(Ve.o)(t.quill),!1)},this.clearFirstPositionMultiLineBlot=function(e){var o=Xe(t.quill.getLine(e.index),1)[0],r=t.quill.getSelection(),n=e.index<r.index,i=e.index+e.length>r.index+r.length,a=0===r.index,u=a,l=o instanceof we||o instanceof Be.a||o instanceof Ze.a;if((n||i||u)&&l){var s=new We.a,c=e;a&&(s=s.insert("\n"),c.length+=1),t.quill.updateContents(s,Ge.a.sources.USER),t.quill.setSelection(c),Object(Ve.o)(t.quill),t.quill.setSelection(c)}return!0},this.transformTextToLink=function(e){var o=t.quill.getLine(e.index)[0].offset(),r=t.quill.getText(o,e.index).match(/\s([^\s]+)$|^([^\s]+)$/);if(!r)return!0;var n=r[1]||r[2],i=o+(r.index||0),a=n.length;r[1]&&(i+=1);var u=t.quill.scroll.descendants(function(e){return e instanceof B.a},i,a).length>0;return Object(x.isAllowedUrl)(n)&&!u&&t.quill.formatText(i,a,{link:n},T.a.sources.USER),!0},this.transformLinkOnlyLineToEmbed=function(e){var o=t.quill.getLine(e.index)[0];if(e.index<o.offset()+o.length()-1)return!0;if("block"!==o.statics.blotName)return!0;var r=o.children.head.statics.blotName;if(o.children.length>1||!["text","link"].includes(r))return!0;var n=o.domNode.textContent||"";if(n=n.trim(),Object(x.isAllowedUrl)(n)){var i=t.quill.getModule("embed/insertion"),a=o.offset();return t.quill.deleteText(a,o.length(),T.a.sources.USER),t.quill.insertText(a,"\n",T.a.sources.USER),t.quill.setSelection(a,0,T.a.sources.USER),i.scrapeMedia(n),!1}return!0},this.resetDefaultBindings(),this.addBlockNewLineHandlers(),this.addBlockArrowKeyHandlers(),this.addBlockBackspaceHandlers(),this.addLinkTransformKeyboardBindings(),this.overwriteFormatHandlers()}return e.prototype.handleMultiLineBackspace=function(e){var t=Xe(this.quill.getLine(e.index),1)[0];if(t.prev||t.next)return!0;if(""!==t.getWrapper().domNode.textContent)return!0;var o,r=(new We.a).retain(e.index).retain(1,((o={})[t.constructor.blotName]=!1,o));return this.quill.updateContents(r,Ge.a.sources.USER),!1},e.prototype.handleCodeBlockBackspace=function(e){if("\n"!==Xe(this.quill.getLine(e.index),1)[0].domNode.textContent)return!0;var t=(new We.a).retain(e.index).retain(1,{codeBlock:!1});return this.quill.updateContents(t,Ge.a.sources.USER),!1},e.prototype.insertNewlineBeforeRange=function(e){return 0===e.index&&Object(Ve.k)(this.quill),!0},e.prototype.insertNewlineAfterRange=function(e){return e.index+1===this.quill.scroll.length()&&Object(Ve.j)(this.quill),!0},e.prototype.resetDefaultBindings=function(){this.bindings.tab=!1,this.bindings["indent codeBlock"]=!1,this.bindings["outdent codeBlock"]=!1,this.bindings["remove tab"]=!1,this.bindings["code exit"]=!1},e.prototype.addLinkTransformKeyboardBindings=function(){this.bindings["transform text to embed"]={key:Ue.a.keys.ENTER,collapsed:!0,handler:this.transformLinkOnlyLineToEmbed}},e.prototype.addBlockNewLineHandlers=function(){this.bindings["MutliLine Enter"]={key:Ue.a.keys.ENTER,collapsed:!0,format:["spoiler-line","blockquote-line"],handler:this.handleMultilineEnter},this.bindings["CodeBlock Enter"]={key:Ue.a.keys.ENTER,collapsed:!0,format:["codeBlock"],handler:this.handleCodeBlockEnter}},e.prototype.overwriteFormatHandlers=function(){this.bindings.bold=this.makeFormatHandler("bold"),this.bindings.italic=this.makeFormatHandler("italic"),this.bindings.underline=this.makeFormatHandler("underline")},e.prototype.makeFormatHandler=function(e){var t=this;return{key:e[0].toUpperCase(),shortKey:!0,handler:function(o,r){Object(Ve.n)(t.quill,Be.a,o)||Object(Ve.n)(t.quill,G.a,o)||t.quill.format(e,!r.format[e],T.a.sources.USER)}}},e.prototype.addBlockBackspaceHandlers=function(){this.bindings["Block Backspace With Selection"]={key:Ue.a.keys.BACKSPACE,collapsed:!1,handler:this.clearFirstPositionMultiLineBlot},this.bindings["Block Delete"]={key:Ue.a.keys.BACKSPACE,offset:0,collapsed:!0,format:e.MULTI_LINE_BLOTS,handler:this.handleBlockStartDelete},this.bindings["MultiLine Backspace"]={key:Ue.a.keys.BACKSPACE,collapsed:!0,format:["spoiler-line","blockquote-line"],handler:this.handleMultiLineBackspace},this.bindings["CodeBlock Backspace"]={key:Ue.a.keys.BACKSPACE,collapsed:!0,format:["codeBlock"],handler:this.handleCodeBlockBackspace}},e.prototype.addBlockArrowKeyHandlers=function(){var t={collapsed:!0,format:e.MULTI_LINE_BLOTS};this.bindings["Block Up"]=Ye({},t,{key:Ue.a.keys.UP,handler:this.insertNewlineBeforeRange}),this.bindings["Block Left"]=Ye({},t,{key:Ue.a.keys.LEFT,handler:this.insertNewlineBeforeRange}),this.bindings["Block Down"]=Ye({},t,{key:Ue.a.keys.DOWN,handler:this.insertNewlineAfterRange}),this.bindings["Block Right"]=Ye({},t,{key:Ue.a.keys.RIGHT,handler:this.insertNewlineAfterRange})},e.MULTI_LINE_BLOTS=["spoiler-line","blockquote-line","codeBlock"],e}(),Je=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),Qe=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},et=function(e){function t(t,o){var r=this,n=Qe({},o,{placeholder:"Create a new post...",scrollingContainer:"body"});(r=e.call(this,t,n)||this).quill.root.classList.add("richEditor-text"),r.quill.root.classList.add("userContent"),r.addModule("embed/insertion"),r.addModule("embed/focus");var i=new $e(r.quill);return r.options.modules.keyboard.bindings=Qe({},r.options.modules.keyboard.bindings,i.bindings),r}return Je(t,e),t}(ze.a),tt=o(28),ot=o.n(tt),rt=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),nt=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var r,n,i=o.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){n={error:e}}finally{try{r&&!r.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return a},it=function(e){function t(t,o){void 0===o&&(o={});var r=e.call(this,t,o)||this;if(r.lastSelection={index:0,length:0},r.escapeMobileFullScreen=function(e){var t=window.getComputedStyle(r.editorRoot).getPropertyValue("position");r.editorRoot.classList.contains("isFocused")&&"fixed"===t&&Ue.a.match(e,{key:Ue.a.keys.ESCAPE,shiftKey:!1})&&(r.quill.root.focus(),Object(E.getNextTabbableElement)({root:r.formWrapper,fromElement:r.quill.root}).focus(),r.editorRoot.classList.toggle("isFocused",!1))},r.handleTab=function(){var e=document.activeElement;r.quill.root.contains(document.activeElement)&&(e=r.quill.root),r.getEmbedBlotForFocusedElement(),Ze.a;var t=Object(E.getNextTabbableElement)({root:r.formWrapper,excludedRoots:[r.quill.root],allowLooping:!1,fromElement:e});return!!t&&(t===r.quill.root?r.focusFirstLine():t.focus(),!0)},r.handleShiftTab=function(){var e=document.activeElement;r.quill.root.contains(document.activeElement)&&(e=r.quill.root);var t=Object(E.getNextTabbableElement)({root:r.formWrapper,excludedRoots:[r.quill.root],fromElement:e,reverse:!0,allowLooping:!1});return!!t&&(t===r.quill.root?r.focusLastLine():t.focus(),!0)},r.handleArrowKeyFromEmbed=function(e,t){var o=t.offset(r.quill.scroll),n=o+t.length()===r.quill.scroll.length(),i=0===o,a=[Ue.a.keys.LEFT,Ue.a.keys.UP].includes(e),u=[Ue.a.keys.RIGHT,Ue.a.keys.DOWN].includes(e);if(i&&a)return Object(Ve.k)(r.quill),!0;if(n&&u)return Object(Ve.j)(r.quill),!0;var l=r.getNextBlotFromArrowKey(t,e);return!!l&&(r.arrowToBlot(l),!0)},r.handleDeleteOnQuill=function(){var e=r.quill.getSelection(),t=e&&r.quill.getLine(e.index)[0];if(!t)return!1;var o=t.prev,n=""===t.domNode.textContent;return!!(o instanceof Ze.a&&n)&&(t.remove(),o.focus(),!0)},r.keyDownListener=function(e){if(r.editorRoot.contains(document.activeElement)){var t=r.getEmbedBlotForFocusedElement(),o=nt(r.quill.getLine(r.lastSelection.index),1)[0],n=r.getNextBlotFromArrowKey(o,e.keyCode);if(r.isKeyCodeArrowKey(e.keyCode)&&!e.shiftKey&&!r.inActiveMention)if(t instanceof Ze.a){if(r.handleArrowKeyFromEmbed(e.keyCode,t))return e.preventDefault(),void e.stopPropagation()}else r.quill.hasFocus()&&n instanceof Ze.a&&(e.preventDefault(),e.stopPropagation(),n.focus());if(r.isKeyCodeDelete(e.keyCode))if(t instanceof Ze.a)e.preventDefault(),e.stopPropagation(),t.remove(),Object(Ve.d)();else if(r.quill.hasFocus()&&r.handleDeleteOnQuill())return e.preventDefault(),void e.stopPropagation();Ue.a.match(e,Ue.a.keys.ENTER)&&t instanceof Ze.a&&(e.preventDefault(),e.stopPropagation(),t.insertNewlineAfter())}},r.tabListener=function(e){if(r.formWrapper.contains(document.activeElement)){var t=!1;Ue.a.match(e,{key:Ue.a.keys.TAB,shiftKey:!0})?t=r.handleShiftTab():Ue.a.match(e,{key:Ue.a.keys.TAB,shiftKey:!1})&&(t=r.handleTab()),t&&(e.preventDefault(),e.stopPropagation())}},r.editorRoot=r.quill.root.closest(".richEditor"),r.formWrapper=r.editorRoot.closest(".FormWrapper"),!r.editorRoot)throw new Error("Cannot initialize the EmbedFocusModule without an editorRoot (.richEditor class)");if(!r.formWrapper)throw new Error("Cannot initialize the EmbedFocusModule without an FormWrapper (.FormWrapper class)");return r.quill.root.setAttribute("tabindex",0),t.on("selection-change",function(e,t,o){e&&o!==T.a.sources.SILENT&&(r.lastSelection=e,r.editorRoot.classList.toggle("isFocused",!0))}),r.setupEmbedClickHandler(),r.setupMobileHandler(),r.quill.root.addEventListener("keydown",r.keyDownListener),r.formWrapper.addEventListener("keydown",r.tabListener),r.editorRoot.addEventListener("keydown",r.escapeMobileFullScreen),r}return rt(t,e),Object.defineProperty(t.prototype,"inActiveMention",{get:function(){var e={index:0,length:this.quill.scroll.length()-1};return Object(Ve.n)(this.quill,se.a,e)},enumerable:!0,configurable:!0}),t.prototype.focusLastLine=function(){var e=this.quill.scroll.length()-1,t=Object(Ve.e)(this.quill,e,Ze.a);t?t.focus():(this.quill.focus(),this.quill.setSelection(e,0,T.a.sources.USER))},t.prototype.focusFirstLine=function(){var e=this.quill.scroll.children.head;e instanceof Ze.a?e.focus():(this.quill.focus(),this.quill.setSelection(0,0,T.a.sources.USER))},t.prototype.arrowToBlot=function(e){if(e instanceof Ze.a)e.focus();else{var t=e.offset(this.quill.scroll);this.quill.setSelection(t,0)}},t.prototype.getEmbedBlotForFocusedElement=function(){if(document.activeElement instanceof Element){var e=document.activeElement;if(!e.classList.contains("js-embed")){var t=e.closest(".js-embed");if(!t)return;e=t}return le.a.find(e)}},t.prototype.getNextBlotFromArrowKey=function(e,t){switch(t){case Ue.a.keys.DOWN:return e.next;case Ue.a.keys.UP:return e.prev;case Ue.a.keys.RIGHT:var o=e.offset()+e.length()-1;if(this.lastSelection.index===o)return e.next;break;case Ue.a.keys.LEFT:if(this.lastSelection.index===e.offset())return e.prev}},t.prototype.setupEmbedClickHandler=function(){Object(E.delegateEvent)("click","a",function(e,t){e.preventDefault(),e.stopPropagation()},this.quill.container),Object(E.delegateEvent)("click",".js-embed",function(e,t){var o=le.a.find(t);o instanceof Ze.a&&o.focus()},this.quill.container)},t.prototype.setupMobileHandler=function(){var e=this;Object(E.delegateEvent)("click",".js-richText .richEditor-text",function(t,o){e.editorRoot.classList.toggle("isFocused",!0)},this.quill.container),Object(E.delegateEvent)("click",".js-richEditor-next",function(t,o){Object(E.getNextTabbableElement)({root:e.formWrapper,fromElement:o}).focus(),e.editorRoot.classList.toggle("isFocused",!1)},this.editorRoot)},t.prototype.isKeyCodeArrowKey=function(e){var t=Ue.a.keys;return[t.UP,t.DOWN,t.LEFT,t.RIGHT].includes(e)},t.prototype.isKeyCodeDelete=function(e){var t=Ue.a.keys;return[t.BACKSPACE,t.DELETE].includes(e)},t}(ot.a),at=o(24),ut=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),lt=function(e){function t(t,o,r){void 0===o&&(o={});var n=e.call(this,t,o)||this;return n.quill=t,n.store=Object(L.default)(),n.createEmbed=function(e){var t=le.a.create("embed-external",e),o=n.state.lastGoodSelection||{index:n.quill.scroll.length(),length:0};Object(Ve.h)(n.quill,o.index,t),n.quill.update(T.a.sources.USER),t.focus()},n.pasteHandler=function(e){var t=Object(E.getPastedImage)(e);if(t){var o=Object(at.uploadImage)(t);n.createEmbed({loaderData:{type:"image"},dataPromise:o})}},n.dragHandler=function(e){var t=Object(E.getDraggedImage)(e);if(t){var o=Object(at.uploadImage)(t);n.createEmbed({loaderData:{type:"image"},dataPromise:o})}},n.quill=t,n.setupImageUploads(),n}return ut(t,e),Object.defineProperty(t.prototype,"state",{get:function(){var e=Object(Ve.f)(this.quill);return this.store.getState().editor.instances[e]},enumerable:!0,configurable:!0}),t.prototype.scrapeMedia=function(e){var t=new FormData;t.append("url",e);var o=at.default.post("/media/scrape",t).then(function(e){return e.data});this.createEmbed({loaderData:{type:"link",link:e},dataPromise:o})},t.prototype.setupImageUploads=function(){this.quill.root.addEventListener("drop",this.dragHandler,!1),this.quill.root.addEventListener("paste",this.pasteHandler,!1)},t}(ot.a),st=o(121),ct=o.n(st),pt=o(92),ft=o.n(pt),dt=o(11),ht=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),mt=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},gt=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",yt=function(e){function t(t,o){var r=e.call(this,t,mt({},o))||this;return r.EMBED_KEY="insert.embed-external",r.EMBED_CONFIRM_KEY="insert.embed-external.loaderData.loaded",r.Z_KEYCODE=90,r.undoKeyboardListener=function(e){e.keyCode===r.Z_KEYCODE&&e[gt]&&document.activeElement.classList.contains(dt.FOCUS_CLASS)&&(e.shiftKey?r.redo():r.undo())},document.addEventListener("keydown",r.undoKeyboardListener,!0),r}return ht(t,e),t.prototype.record=function(t,o){this.operationsContainKey(t.ops,this.EMBED_KEY)&&this.cutoff();var r=this.quill.getContents().diff(o);this.actionIsEmbedCompletion(r,t)||e.prototype.record.call(this,t,o)},t.prototype.actionIsEmbedCompletion=function(e,t){var o=this.operationsContainKey(t.ops,this.EMBED_CONFIRM_KEY),r=this.operationsContainKey(e.ops,this.EMBED_CONFIRM_KEY);return o||r},t.prototype.operationsContainKey=function(e,t){if(!e)return!1;try{for(var o=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],o=0;return t?t.call(e):{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}}}(e),r=o.next();!r.done;r=o.next()){var n=r.value;if(ct()(n,t,!1))return!0}}catch(e){i={error:e}}finally{try{r&&!r.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}return!1;var i,a},t}(ft.a),vt=o(120),bt=o(51),jt=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var r,n,i=o.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){n={error:e}}finally{try{r&&!r.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return a},_t=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(jt(arguments[t]));return e};
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */T.a.register({"blots/block":ye,"formats/blockquote/line":Re,"formats/blockquote/content":Me,"formats/blockquote/wrapper":De,"formats/spoiler/line":Ne,"formats/spoiler/content":Ae,"formats/spoiler/wrapper":Pe,"formats/codeBlock":Be.a,"formats/header":W.a,"formats/list":U.a,"formats/list/item":F.ListItem,"formats/embed-error":J.a,"formats/embed-loading":bt.a,"formats/embed-external":$.a,"formats/mention":ee,"formats/mention-combobox":fe,"formats/mention-autocomplete":se.a,"formats/bold":I.a,"formats/codeInline":G.a,"formats/italic":M.a,"formats/link":B.a,"formats/strike":z.a,"formats/emoji":X,"formats/indent":K.IndentClass,"themes/vanilla":et,"modules/embed/insertion":lt,"modules/embed/focus":it,"modules/history":yt,"modules/clipboard":vt.a},!0),["blots/inline","formats/bold","formats/italic","formats/strike","formats/link","formats/codeInline"].forEach(function(e){var t=T.a.import(e);t.order=_t(t.order,[G.a.blotName])}),["blots/block","formats/header","formats/bold","formats/italic","formats/strike"].forEach(function(e){var t=T.a.import(e);t.allowedChildren=_t(t.allowedChildren,[fe])});var Ot=T.a,St=o(9),Ct=o(8),wt=o.n(Ct),Et=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),xt=function(e){function t(t){var o=e.call(this,t)||this;return o.state={id:t.id,descriptionID:t.descriptionID,titleID:t.titleID},o}return Et(t,e),t.prototype.render=function(){var e=this.props.additionalClassRoot,t=wt()("richEditor-menu","richEditorFlyout",((o={})[e]=!!e,o.isHidden=!this.props.isVisible,o));t+=this.props.className?" "+this.props.className:"";var o,r,n,i,a=wt()("richEditorFlyout-header",((r={})[e+"-header"]=!!e,r)),u=wt()("richEditorFlyout-body",((n={})[e+"-body"]=!!e,n)),l=wt()("richEditorFlyout-footer",((i={})[e+"-footer"]=!!e,i)),s=this.props.alertMessage?_.a.createElement("span",{"aria-live":"assertive",role:"alert",className:"sr-only"},this.props.alertMessage):null,c=this.props.accessibleDescription?_.a.createElement("div",{id:this.state.descriptionID,className:"sr-only"},this.props.accessibleDescription):null;return _.a.createElement("div",{id:this.state.id,"aria-describedby":this.state.descriptionID,"aria-labelledby":this.state.titleID,className:t,role:"dialog","aria-hidden":!this.props.isVisible},s,_.a.createElement("div",{className:a},_.a.createElement("h2",{id:this.props.titleID,tabIndex:-1,className:"richEditorFlyout-title",ref:this.props.titleRef},this.props.title),c,_.a.createElement("button",{type:"button",onClick:this.props.onCloseClick,className:"Close richEditor-close"},_.a.createElement("span",{className:"Close-x","aria-hidden":"true"},Object(x.t)("")),_.a.createElement("span",{className:"sr-only"},Object(x.t)("Close"))),this.props.additionalHeaderContent&&this.props.additionalHeaderContent),_.a.createElement("div",{className:u},this.props.body&&this.props.body),_.a.createElement("div",{className:l},this.props.footer&&this.props.footer))},t}(_.a.Component),Lt=o(47),kt=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),Nt=function(e){function t(t){var o=e.call(this,t)||this;return o.handleFocusChange=function(e){e||o.setState({isVisible:!1})},o.togglePopover=function(){o.setState(function(e){return{isVisible:!e.isVisible}})},o.closeMenuHandler=function(e){if(!e.detail||!e.detail.firingKey||e.detail.firingKey!==o.constructor.name){o.props.onClose&&o.props.onClose();var t=document.activeElement,r=o.controllerRef.current;o.setState({isVisible:!1}),r&&r.contains(t)&&o.buttonRef.current&&o.buttonRef.current.focus()}},o.controllerRef=_.a.createRef(),o.initalFocusRef=_.a.createRef(),o.buttonRef=_.a.createRef(),o.state={id:Object(Lt.getRequiredID)(t,"popover"),isVisible:!1},o}return kt(t,e),Object.defineProperty(t.prototype,"componentID",{get:function(){return this.state.id+"-contents"},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=wt()("richEditor-button","richEditor-embedButton",{isOpen:this.state.isVisible});return _.a.createElement("div",{className:this.props.classNameRoot,ref:this.controllerRef},_.a.createElement("button",{id:this.state.id,onClick:this.togglePopover,className:e,type:"button","aria-controls":this.componentID,"aria-expanded":this.state.isVisible,"aria-haspopup":"true",ref:this.buttonRef},this.props.icon),this.props.children({id:this.componentID,initialFocusRef:this.initalFocusRef,isVisible:this.state.isVisible,closeMenuHandler:this.closeMenuHandler}))},t.prototype.componentDidUpdate=function(e,t){!t.isVisible&&this.state.isVisible&&(this.initalFocusRef.current?this.initalFocusRef.current.focus():this.buttonRef.current&&this.buttonRef.current.focus())},t.prototype.componentDidMount=function(){Object(E.watchFocusInDomTree)(this.controllerRef.current,this.handleFocusChange),Object(Ve.b)(this.controllerRef.current,this.buttonRef.current,this.closeMenuHandler)},t}(_.a.PureComponent),At={fill:"currentColor"};function Tt(){return _.a.createElement("svg",{className:"richEditorButton-icon",viewBox:"0 0 24 24"},_.a.createElement("title",null,Object(x.t)("Emoji")),_.a.createElement("path",{fill:"currentColor",d:"M12,4 C7.58168889,4 4,7.58168889 4,12 C4,16.4181333 7.58168889,20 12,20 C16.4183111,20 20,16.4181333 20,12 C20,7.58168889 16.4183111,4 12,4 Z M12,18.6444444 C8.33631816,18.6444444 5.35555556,15.6636818 5.35555556,12 C5.35555556,8.33631816 8.33631816,5.35555556 12,5.35555556 C15.6636818,5.35555556 18.6444444,8.33631816 18.6444444,12 C18.6444444,15.6636818 15.6636818,18.6444444 12,18.6444444 Z M10.7059556,10.2024889 C10.7059556,9.51253333 10.1466667,8.95324444 9.45671111,8.95324444 C8.76675556,8.95324444 8.20746667,9.51253333 8.20746667,10.2024889 C8.20746667,10.8924444 8.76675556,11.4517333 9.45671111,11.4517333 C10.1466667,11.4517333 10.7059556,10.8924444 10.7059556,10.2024889 Z M14.5432889,8.95306667 C13.8533333,8.95306667 13.2940444,9.51235556 13.2940444,10.2023111 C13.2940444,10.8922667 13.8533333,11.4515556 14.5432889,11.4515556 C15.2332444,11.4515556 15.7925333,10.8922667 15.7925333,10.2023111 C15.7925333,9.51235556 15.2332444,8.95306667 14.5432889,8.95306667 Z M14.7397333,14.1898667 C14.5767111,14.0812444 14.3564444,14.1256889 14.2471111,14.2883556 C14.2165333,14.3336889 13.4823111,15.4012444 11.9998222,15.4012444 C10.5198222,15.4012444 9.7856,14.3374222 9.75271111,14.2885333 C9.64444444,14.1256889 9.42471111,14.0803556 9.2608,14.1884444 C9.09688889,14.2963556 9.05155556,14.5169778 9.15964444,14.6810667 C9.19804444,14.7393778 10.1242667,16.1125333 11.9998222,16.1125333 C13.8752,16.1125333 14.8014222,14.7395556 14.84,14.6810667 C14.9477333,14.5173333 14.9027556,14.2983111 14.7397333,14.1898667 Z"}))}function Pt(){return _.a.createElement("svg",{className:"richEditorButton-icon",viewBox:"0 0 24 24"},_.a.createElement("title",null,Object(x.t)("Paragraph")),_.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M15,6 L17,6 L17,18 L15,18 L15,6 Z M11,6 L13.0338983,6 L13.0338983,18 L11,18 L11,6 Z M11,13.8666667 C8.790861,13.8666667 7,12.1056533 7,9.93333333 C7,7.76101332 8.790861,6 11,6 C11,7.68571429 11,11.6190476 11,13.8666667 Z"}))}function It(){return _.a.createElement("svg",{className:"richEditorButton-icon",viewBox:"0 0 24 24"},_.a.createElement("title",null,Object(x.t)("Subtitle")),_.a.createElement("path",{d:"M12.3,17H10.658V12.5H6.051V17H4.417V7.006H6.051v4.088h4.607V7.006H12.3Zm8,0H13.526V15.783L16.1,13.192a22.007,22.007,0,0,0,1.514-1.657,3.978,3.978,0,0,0,.543-.92,2.475,2.475,0,0,0,.171-.923,1.4,1.4,0,0,0-.407-1.066,1.557,1.557,0,0,0-1.124-.39,3,3,0,0,0-1.111.212,5.239,5.239,0,0,0-1.241.766l-.868-1.06a5.612,5.612,0,0,1,1.62-1,4.744,4.744,0,0,1,1.675-.294,3.294,3.294,0,0,1,2.235.728,2.46,2.46,0,0,1,.841,1.959,3.453,3.453,0,0,1-.242,1.285,5.212,5.212,0,0,1-.746,1.254,17.041,17.041,0,0,1-1.671,1.747l-1.736,1.682v.068H20.3Z",style:At}))}function Rt(){return _.a.createElement("svg",{className:"richEditorButton-icon",viewBox:"0 0 24 24"},_.a.createElement("title",null,Object(x.t)("Sub Subtitle")),_.a.createElement("path",{d:"M10.658,7.006H12.3V17H10.658V12.5H6.051V17H4.417V7.006H6.051v4.088h4.607Zm8.93,5.533a3.016,3.016,0,0,0-1.806-.748v-.055a2.789,2.789,0,0,0,1.56-.851A2.315,2.315,0,0,0,19.9,9.3a2.131,2.131,0,0,0-.848-1.791,3.8,3.8,0,0,0-2.36-.65,5.251,5.251,0,0,0-3.2,1.012l.786,1.121a5.226,5.226,0,0,1,1.245-.625,3.76,3.76,0,0,1,1.1-.161,1.881,1.881,0,0,1,1.232.349,1.22,1.22,0,0,1,.417.991q0,1.654-2.4,1.654H14.99v1.306h.869a4.066,4.066,0,0,1,2,.376,1.267,1.267,0,0,1,.636,1.176,1.559,1.559,0,0,1-.574,1.333,2.89,2.89,0,0,1-1.738.43,5.794,5.794,0,0,1-1.369-.171,6.372,6.372,0,0,1-1.347-.485V16.6a6.532,6.532,0,0,0,2.8.54,4.676,4.676,0,0,0,2.9-.783,2.637,2.637,0,0,0,1.019-2.225A2.143,2.143,0,0,0,19.588,12.539Z",style:At}))}function Mt(){return _.a.createElement("svg",{className:"richEditorButton-icon",viewBox:"0 0 24 24"},_.a.createElement("title",null,Object(x.t)("Quote")),_.a.createElement("path",{d:"M10.531,17.286V12.755H8.122a9.954,9.954,0,0,1,.1-1.408,4.22,4.22,0,0,1,.388-1.286,2.62,2.62,0,0,1,.735-.918A1.815,1.815,0,0,1,10.49,8.8V6.755a3.955,3.955,0,0,0-2,.49A4.164,4.164,0,0,0,7.082,8.551a5.84,5.84,0,0,0-.817,1.9A9.65,9.65,0,0,0,6,12.755v4.531Zm7.469,0V12.755H15.592a9.954,9.954,0,0,1,.1-1.408,4.166,4.166,0,0,1,.388-1.286,2.606,2.606,0,0,1,.734-.918A1.819,1.819,0,0,1,17.959,8.8V6.755a3.958,3.958,0,0,0-2,.49,4.174,4.174,0,0,0-1.408,1.306,5.86,5.86,0,0,0-.816,1.9,9.649,9.649,0,0,0-.266,2.306v4.531Z",style:At}))}function Dt(){return _.a.createElement("svg",{className:"richEditorButton-icon",viewBox:"0 0 24 24"},_.a.createElement("title",null,Object(x.t)("Paragraph Code Block")),_.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.11588626,16.5074223 L3.14440918,12.7070466 L3.14440918,11.6376386 L9.11588626,7.32465415 L9.11588626,9.04808032 L4.63575044,12.0883808 L9.11588626,14.7663199 L9.11588626,16.5074223 Z M14.48227,5.53936141 L11.1573124,18.4606386 L9.80043634,18.4606386 L13.131506,5.53936141 L14.48227,5.53936141 Z M15.1729321,14.7663199 L19.6530679,12.0883808 L15.1729321,9.04808032 L15.1729321,7.32465415 L21.1444092,11.6376386 L21.1444092,12.7070466 L15.1729321,16.5074223 L15.1729321,14.7663199 Z"}))}function Bt(){return _.a.createElement("svg",{className:"richEditorButton-icon",viewBox:"0 0 24 24"},_.a.createElement("title",null,Object(x.t)("Spoiler")),_.a.createElement("path",{d:"M8.138,16.569l.606-.606a6.677,6.677,0,0,0,1.108.562,5.952,5.952,0,0,0,2.674.393,7.935,7.935,0,0,0,1.008-.2,11.556,11.556,0,0,0,5.7-4.641.286.286,0,0,0-.02-.345c-.039-.05-.077-.123-.116-.173a14.572,14.572,0,0,0-2.917-3.035l.6-.6a15.062,15.062,0,0,1,2.857,3.028,1.62,1.62,0,0,0,.154.245,1.518,1.518,0,0,1,.02,1.5,12.245,12.245,0,0,1-6.065,4.911,6.307,6.307,0,0,1-1.106.22,4.518,4.518,0,0,1-.581.025,6.655,6.655,0,0,1-2.383-.466A8.023,8.023,0,0,1,8.138,16.569Zm-.824-.59a14.661,14.661,0,0,1-2.965-3.112,1.424,1.424,0,0,1,0-1.867A13.69,13.69,0,0,1,8.863,6.851a6.31,6.31,0,0,1,6.532.123c.191.112.381.231.568.356l-.621.621c-.092-.058-.184-.114-.277-.168a5.945,5.945,0,0,0-3.081-.909,6.007,6.007,0,0,0-2.868.786,13.127,13.127,0,0,0-4.263,3.929c-.214.271-.214.343,0,.639a13.845,13.845,0,0,0,3.059,3.153ZM13.9,9.4l-.618.618a2.542,2.542,0,0,0-3.475,3.475l-.61.61A3.381,3.381,0,0,1,12,8.822,3.4,3.4,0,0,1,13.9,9.4Zm.74.674a3.3,3.3,0,0,1,.748,2.138,3.382,3.382,0,0,1-5.515,2.629l.6-.6a2.542,2.542,0,0,0,3.559-3.559Zm-3.146,3.146L13.008,11.7a1.129,1.129,0,0,1-1.516,1.516Zm-.6-.811a1.061,1.061,0,0,1-.018-.2A1.129,1.129,0,0,1,12,11.079a1.164,1.164,0,0,1,.2.017Z",style:At}),_.a.createElement("polygon",{points:"19.146 4.146 19.854 4.854 4.854 19.854 4.146 19.146 19.146 4.146",style:At}))}function qt(){return _.a.createElement("svg",{className:"richEditorButton-icon",viewBox:"0 0 24 24"},_.a.createElement("title",null,Object(x.t)("Embed")),_.a.createElement("path",{fill:"currentColor",d:"M4,5a.944.944,0,0,0-1,.875v12.25A.944.944,0,0,0,4,19H20a.944.944,0,0,0,1-.875V5.875A.944.944,0,0,0,20,5ZM4,4H20a1.9,1.9,0,0,1,2,1.778V18.222A1.9,1.9,0,0,1,20,20H4a1.9,1.9,0,0,1-2-1.778V5.778A1.9,1.9,0,0,1,4,4ZM9.981,16.382l-4.264-3.7V11.645L9.981,7.45V9.126l-3.2,2.958,3.2,2.605Zm4.326-1.693,3.2-2.605-3.2-2.958V7.45l4.265,4.195v1.041l-4.265,3.7Z",style:At}))}function zt(){return _.a.createElement("svg",{className:"richEditorButton-icon",viewBox:"0 0 24 24"},_.a.createElement("title",null,Object(x.t)("Image")),_.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M3,5 L3,19 L21,19 L21,5 L3,5 Z M3,4 L21,4 C21.5522847,4 22,4.44771525 22,5 L22,19 C22,19.5522847 21.5522847,20 21,20 L3,20 C2.44771525,20 2,19.5522847 2,19 L2,5 C2,4.44771525 2.44771525,4 3,4 Z M4,18 L20,18 L20,13.7142857 L15.2272727,7.42857143 L10.5,13.7142857 L7.5,11.5 L4,16.5510204 L4,18 Z M7.41729323,10.2443609 C8.24572036,10.2443609 8.91729323,9.57278803 8.91729323,8.7443609 C8.91729323,7.91593378 8.24572036,7.2443609 7.41729323,7.2443609 C6.58886611,7.2443609 5.91729323,7.91593378 5.91729323,8.7443609 C5.91729323,9.57278803 6.58886611,10.2443609 7.41729323,10.2443609 Z"}))}
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */var Ft=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),Ut=function(e){function t(t){var o=e.call(this,t)||this;return o.clearInput=function(){o.setState({url:""})},o.buttonKeyDownHandler=function(e){Ue.a.match(e.nativeEvent,"enter")&&(e.preventDefault(),e.stopPropagation(),o.state.isInputValid&&o.submitUrl())},o.buttonClickHandler=function(e){e.preventDefault(),o.submitUrl()},o.inputChangeHandler=function(e){var t=e.target.value,r=Object(x.isAllowedUrl)(o.normalizeUrl(t));o.setState({url:t,isInputValid:r})},o.embedModule=t.quill.getModule("embed/insertion"),o.state={id:Object(Lt.getRequiredID)(t,"embedPopover"),url:"",isInputValid:!1},o}return Ft(t,e),Object.defineProperty(t.prototype,"titleID",{get:function(){return this.state.id+"-title"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"descriptionID",{get:function(){return this.state.id+"-description"},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this,t=Object(x.t)("Insert Media"),o=_.a.createElement(qt,null);return _.a.createElement(Nt,{id:this.state.id,classNameRoot:"embedDialogue",icon:o,onClose:this.clearInput},function(o){var r=o.initialFocusRef,n=o.closeMenuHandler,i=o.isVisible,a=_.a.createElement(_.a.Fragment,null,_.a.createElement("p",{id:e.descriptionID,className:"insertMedia-description"},Object(x.t)("Paste the URL of the media you want.")),_.a.createElement("input",{className:"InputBox",placeholder:Object(x.t)("http://"),value:e.state.url,onChange:e.inputChangeHandler,onKeyDown:e.buttonKeyDownHandler,"aria-labelledby":e.titleID,"aria-describedby":e.descriptionID,ref:r})),u=_.a.createElement(_.a.Fragment,null,_.a.createElement("input",{type:"button",className:"Button Primary insertMedia-insert",value:"Insert",disabled:!e.state.isInputValid,"aria-label":"Insert Media",onClick:e.buttonClickHandler}));return _.a.createElement(xt,{id:o.id,descriptionID:e.descriptionID,titleID:e.titleID,title:t,body:a,footer:u,additionalClassRoot:"insertMedia",onCloseClick:n,isVisible:i})})},t.prototype.submitUrl=function(){this.clearInput(),this.embedModule.scrapeMedia(this.normalizeUrl(this.state.url))},t.prototype.normalizeUrl=function(e){return e.match(/^https?:\/\//)?e:"http://"+e},t}(_.a.PureComponent),Ht=Object(St.b)(Ut),Wt=o(25),Kt=o.n(Wt),Gt=o(74),Vt=o.n(Gt),Zt=o(31),Yt=o.n(Zt),Xt=o(30),$t=o.n(Xt),Jt=o(56),Qt=o.n(Jt),eo=o(73),to=o.n(eo),oo=o(227),ro=(o(76),function(e){function t(){var e,o,r,n;Yt()(this,t);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return o=r=Qt()(this,(e=t.__proto__||Vt()(t)).call.apply(e,[this].concat(a))),r.state={height:r.props.defaultHeight||0,width:r.props.defaultWidth||0},r._onResize=function(){var e=r.props,t=e.disableHeight,o=e.disableWidth,n=e.onResize;if(r._parentNode){var i=r._parentNode.offsetHeight||0,a=r._parentNode.offsetWidth||0,u=window.getComputedStyle(r._parentNode)||{},l=parseInt(u.paddingLeft,10)||0,s=parseInt(u.paddingRight,10)||0,c=parseInt(u.paddingTop,10)||0,p=parseInt(u.paddingBottom,10)||0,f=i-c-p,d=a-l-s;(!t&&r.state.height!==f||!o&&r.state.width!==d)&&(r.setState({height:i-c-p,width:a-l-s}),n({height:i,width:a}))}},r._setRef=function(e){r._autoSizer=e},n=o,Qt()(r,n)}return to()(t,e),$t()(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=Object(oo.a)(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,o=e.className,r=e.disableHeight,n=e.disableWidth,i=e.style,a=this.state,u=a.height,l=a.width,s={overflow:"visible"},c={};return r||(s.height=0,c.height=u),n||(s.width=0,c.width=l),j.createElement("div",{className:o,ref:this._setRef,style:Kt()({},s,i)},t(c))}}]),t}(j.PureComponent));ro.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}},ro.propTypes=null;var no=ro,io=o(75),ao=o.n(io);function uo(e){var t=e.cellCount,o=e.cellSize,r=e.computeMetadataCallback,n=e.computeMetadataCallbackProps,i=e.nextCellsCount,a=e.nextCellSize,u=e.nextScrollToIndex,l=e.scrollToIndex,s=e.updateScrollOffsetForScrollToIndex;t===i&&("number"!=typeof o&&"number"!=typeof a||o===a)||(r(n),l>=0&&l===u&&s())}var lo=o(118),so=o.n(lo),co=function(){function e(t){var o=t.cellCount,r=t.cellSizeGetter,n=t.estimatedCellSize;Yt()(this,e),this._cellSizeAndPositionData={},this._lastMeasuredIndex=-1,this._lastBatchedIndex=-1,this._cellSizeGetter=r,this._cellCount=o,this._estimatedCellSize=n}return $t()(e,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(e){var t=e.cellCount,o=e.estimatedCellSize,r=e.cellSizeGetter;this._cellCount=t,this._estimatedCellSize=o,this._cellSizeGetter=r}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(e){if(e<0||e>=this._cellCount)throw Error("Requested index "+e+" is outside of range 0.."+this._cellCount);if(e>this._lastMeasuredIndex)for(var t=this.getSizeAndPositionOfLastMeasuredCell(),o=t.offset+t.size,r=this._lastMeasuredIndex+1;r<=e;r++){var n=this._cellSizeGetter({index:r});if(void 0===n||isNaN(n))throw Error("Invalid size returned for cell "+r+" of value "+n);null===n?(this._cellSizeAndPositionData[r]={offset:o,size:0},this._lastBatchedIndex=e):(this._cellSizeAndPositionData[r]={offset:o,size:n},o+=n,this._lastMeasuredIndex=e)}return this._cellSizeAndPositionData[e]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var e=this.getSizeAndPositionOfLastMeasuredCell();return e.offset+e.size+(this._cellCount-this._lastMeasuredIndex-1)*this._estimatedCellSize}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,o=void 0===t?"auto":t,r=e.containerSize,n=e.currentOffset,i=e.targetIndex;if(r<=0)return 0;var a=this.getSizeAndPositionOfCell(i),u=a.offset,l=u-r+a.size,s=void 0;switch(o){case"start":s=u;break;case"end":s=l;break;case"center":s=u-(r-a.size)/2;break;default:s=Math.max(l,Math.min(u,n))}var c=this.getTotalSize();return Math.max(0,Math.min(c-r,s))}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,o=e.offset;if(0===this.getTotalSize())return{};var r=o+t,n=this._findNearestCell(o),i=this.getSizeAndPositionOfCell(n);o=i.offset+i.size;for(var a=n;o<r&&a<this._cellCount-1;)a++,o+=this.getSizeAndPositionOfCell(a).size;return{start:n,stop:a}}},{key:"resetCell",value:function(e){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,e-1)}},{key:"_binarySearch",value:function(e,t,o){for(;t<=e;){var r=t+Math.floor((e-t)/2),n=this.getSizeAndPositionOfCell(r).offset;if(n===o)return r;n<o?t=r+1:n>o&&(e=r-1)}return t>0?t-1:0}},{key:"_exponentialSearch",value:function(e,t){for(var o=1;e<this._cellCount&&this.getSizeAndPositionOfCell(e).offset<t;)e+=o,o*=2;return this._binarySearch(Math.min(e,this._cellCount-1),Math.floor(e/2),t)}},{key:"_findNearestCell",value:function(e){if(isNaN(e))throw Error("Invalid offset "+e+" specified");e=Math.max(0,e);var t=this.getSizeAndPositionOfLastMeasuredCell(),o=Math.max(0,this._lastMeasuredIndex);return t.offset>=e?this._binarySearch(o,0,e):this._exponentialSearch(o,e)}}]),e}(),po=function(){return"undefined"!=typeof window&&window.chrome&&window.chrome.webstore?16777100:15e5},fo=function(){function e(t){var o=t.maxScrollSize,r=void 0===o?po():o,n=so()(t,["maxScrollSize"]);Yt()(this,e),this._cellSizeAndPositionManager=new co(n),this._maxScrollSize=r}return $t()(e,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(e){this._cellSizeAndPositionManager.configure(e)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(e){var t=e.containerSize,o=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),n=this.getTotalSize(),i=this._getOffsetPercentage({containerSize:t,offset:o,totalSize:n});return Math.round(i*(n-r))}},{key:"getSizeAndPositionOfCell",value:function(e){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(e)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,o=void 0===t?"auto":t,r=e.containerSize,n=e.currentOffset,i=e.targetIndex;n=this._safeOffsetToOffset({containerSize:r,offset:n});var a=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:r,currentOffset:n,targetIndex:i});return this._offsetToSafeOffset({containerSize:r,offset:a})}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,o=e.offset;return o=this._safeOffsetToOffset({containerSize:t,offset:o}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:t,offset:o})}},{key:"resetCell",value:function(e){this._cellSizeAndPositionManager.resetCell(e)}},{key:"_getOffsetPercentage",value:function(e){var t=e.containerSize,o=e.offset,r=e.totalSize;return r<=t?0:o/(r-t)}},{key:"_offsetToSafeOffset",value:function(e){var t=e.containerSize,o=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),n=this.getTotalSize();if(r===n)return o;var i=this._getOffsetPercentage({containerSize:t,offset:o,totalSize:r});return Math.round(i*(n-t))}},{key:"_safeOffsetToOffset",value:function(e){var t=e.containerSize,o=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),n=this.getTotalSize();if(r===n)return o;var i=this._getOffsetPercentage({containerSize:t,offset:o,totalSize:n});return Math.round(i*(r-t))}}]),e}(),ho=o(95),mo=o.n(ho);function go(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={};return function(o){var r=o.callback,n=o.indices,i=mo()(n),a=!e||i.every(function(e){var t=n[e];return Array.isArray(t)?t.length>0:t>=0}),u=i.length!==mo()(t).length||i.some(function(e){var o=t[e],r=n[e];return Array.isArray(r)?o.join(",")!==r.join(","):o!==r});t=n,a&&u&&r(n)}}var yo=1;function vo(e){var t=e.cellSize,o=e.cellSizeAndPositionManager,r=e.previousCellsCount,n=e.previousCellSize,i=e.previousScrollToAlignment,a=e.previousScrollToIndex,u=e.previousSize,l=e.scrollOffset,s=e.scrollToAlignment,c=e.scrollToIndex,p=e.size,f=e.sizeJustIncreasedFromZero,d=e.updateScrollIndexCallback,h=o.getCellCount(),m=c>=0&&c<h;m&&(p!==u||f||!n||"number"==typeof t&&t!==n||s!==i||c!==a)?d(c):!m&&h>0&&(p<u||h<r)&&l>o.getTotalSize()-p&&d(h-1)}var bo=o(119),jo=o.n(bo);function _o(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function Oo(e){this.setState(function(t){var o=this.constructor.getDerivedStateFromProps(e,t);return null!==o&&void 0!==o?o:null}.bind(this))}function So(e,t){try{var o=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(o,r)}finally{this.props=o,this.state=r}}_o.__suppressDeprecationWarning=!0,Oo.__suppressDeprecationWarning=!0,So.__suppressDeprecationWarning=!0;var Co=void 0,wo=(Co="undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).requestAnimationFrame||Co.webkitRequestAnimationFrame||Co.mozRequestAnimationFrame||Co.oRequestAnimationFrame||Co.msRequestAnimationFrame||function(e){return Co.setTimeout(e,1e3/60)},Eo=Co.cancelAnimationFrame||Co.webkitCancelAnimationFrame||Co.mozCancelAnimationFrame||Co.oCancelAnimationFrame||Co.msCancelAnimationFrame||function(e){Co.clearTimeout(e)},xo=function(e){return Eo(e.id)},Lo="requested",ko=function(e){function t(e){Yt()(this,t);var o=Qt()(this,(t.__proto__||Vt()(t)).call(this,e));o._onGridRenderedMemoizer=go(),o._onScrollMemoizer=go(!1),o._deferredInvalidateColumnIndex=null,o._deferredInvalidateRowIndex=null,o._recomputeScrollLeftFlag=!1,o._recomputeScrollTopFlag=!1,o._horizontalScrollBarSize=0,o._verticalScrollBarSize=0,o._scrollbarPresenceChanged=!1,o._renderedColumnStartIndex=0,o._renderedColumnStopIndex=0,o._renderedRowStartIndex=0,o._renderedRowStopIndex=0,o._styleCache={},o._cellCache={},o._debounceScrollEndedCallback=function(){o._disablePointerEventsTimeoutId=null,o.setState({isScrolling:!1,needToResetStyleCache:!1})},o._invokeOnGridRenderedHelper=function(){var e=o.props.onSectionRendered;o._onGridRenderedMemoizer({callback:e,indices:{columnOverscanStartIndex:o._columnStartIndex,columnOverscanStopIndex:o._columnStopIndex,columnStartIndex:o._renderedColumnStartIndex,columnStopIndex:o._renderedColumnStopIndex,rowOverscanStartIndex:o._rowStartIndex,rowOverscanStopIndex:o._rowStopIndex,rowStartIndex:o._renderedRowStartIndex,rowStopIndex:o._renderedRowStopIndex}})},o._setScrollingContainerRef=function(e){o._scrollingContainer=e},o._onScroll=function(e){e.target===o._scrollingContainer&&o.handleScrollEvent(e.target)};var r=new fo({cellCount:e.columnCount,cellSizeGetter:function(o){return t._wrapSizeGetter(e.columnWidth)(o)},estimatedCellSize:t._getEstimatedColumnSize(e)}),n=new fo({cellCount:e.rowCount,cellSizeGetter:function(o){return t._wrapSizeGetter(e.rowHeight)(o)},estimatedCellSize:t._getEstimatedRowSize(e)});return o.state={instanceProps:{columnSizeAndPositionManager:r,rowSizeAndPositionManager:n,prevColumnWidth:e.columnWidth,prevRowHeight:e.rowHeight,prevColumnCount:e.columnCount,prevRowCount:e.rowCount,prevIsScrolling:!0===e.isScrolling,prevScrollToColumn:e.scrollToColumn,prevScrollToRow:e.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:yo,scrollDirectionVertical:yo,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},e.scrollToRow>0&&(o._initialScrollTop=o._getCalculatedScrollTop(e,o.state)),e.scrollToColumn>0&&(o._initialScrollLeft=o._getCalculatedScrollLeft(e,o.state)),o}return to()(t,e),$t()(t,[{key:"getOffsetForCell",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.alignment,o=void 0===t?this.props.scrollToAlignment:t,r=e.columnIndex,n=void 0===r?this.props.scrollToColumn:r,i=e.rowIndex,a=void 0===i?this.props.scrollToRow:i,u=Kt()({},this.props,{scrollToAlignment:o,scrollToColumn:n,scrollToRow:a});return{scrollLeft:this._getCalculatedScrollLeft(u),scrollTop:this._getCalculatedScrollTop(u)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(e){var t=e.scrollLeft,o=void 0===t?0:t,r=e.scrollTop,n=void 0===r?0:r;if(!(n<0)){this._debounceScrollEnded();var i=this.props,a=i.autoHeight,u=i.autoWidth,l=i.height,s=i.width,c=this.state.instanceProps,p=c.scrollbarSize,f=c.rowSizeAndPositionManager.getTotalSize(),d=c.columnSizeAndPositionManager.getTotalSize(),h=Math.min(Math.max(0,d-s+p),o),m=Math.min(Math.max(0,f-l+p),n);if(this.state.scrollLeft!==h||this.state.scrollTop!==m){var g={isScrolling:!0,scrollDirectionHorizontal:h!==this.state.scrollLeft?h>this.state.scrollLeft?yo:-1:this.state.scrollDirectionHorizontal,scrollDirectionVertical:m!==this.state.scrollTop?m>this.state.scrollTop?yo:-1:this.state.scrollDirectionVertical,scrollPositionChangeReason:"observed"};a||(g.scrollTop=m),u||(g.scrollLeft=h),g.needToResetStyleCache=!1,this.setState(g)}this._invokeOnScrollMemoizer({scrollLeft:h,scrollTop:m,totalColumnsWidth:d,totalRowsHeight:f})}}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,o=e.rowIndex;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,t):t,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,o):o}},{key:"measureAllCells",value:function(){var e=this.props,t=e.columnCount,o=e.rowCount,r=this.state.instanceProps;r.columnSizeAndPositionManager.getSizeAndPositionOfCell(t-1),r.rowSizeAndPositionManager.getSizeAndPositionOfCell(o-1)}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,o=void 0===t?0:t,r=e.rowIndex,n=void 0===r?0:r,i=this.props,a=i.scrollToColumn,u=i.scrollToRow,l=this.state.instanceProps;l.columnSizeAndPositionManager.resetCell(o),l.rowSizeAndPositionManager.resetCell(n),this._recomputeScrollLeftFlag=a>=0&&o<=a,this._recomputeScrollTopFlag=u>=0&&n<=u,this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(e){var t=e.columnIndex,o=e.rowIndex,r=this.props.columnCount,n=this.props;r>1&&void 0!==t&&this._updateScrollLeftForScrollToColumn(Kt()({},n,{scrollToColumn:t})),void 0!==o&&this._updateScrollTopForScrollToRow(Kt()({},n,{scrollToRow:o}))}},{key:"componentDidMount",value:function(){var e=this.props,o=e.getScrollbarSize,r=e.height,n=e.scrollLeft,i=e.scrollToColumn,a=e.scrollTop,u=e.scrollToRow,l=e.width,s=this.state.instanceProps;this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),s.scrollbarSizeMeasured||this.setState(function(e){return e.instanceProps.scrollbarSize=o(),e.instanceProps.scrollbarSizeMeasured=!0,e.needToResetStyleCache=!1,e}),("number"==typeof n&&n>=0||"number"==typeof a&&a>=0)&&this.setState(function(e){var o=t._getScrollToPositionStateUpdate({prevState:e,scrollLeft:n,scrollTop:a});return o?(o.needToResetStyleCache=!1,o):null}),this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop);var c=r>0&&l>0;i>=0&&c&&this._updateScrollLeftForScrollToColumn(),u>=0&&c&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:n||0,scrollTop:a||0,totalColumnsWidth:s.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:s.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(e,t){var o=this,r=this.props,n=r.autoHeight,i=r.autoWidth,a=r.columnCount,u=r.height,l=r.rowCount,s=r.scrollToAlignment,c=r.scrollToColumn,p=r.scrollToRow,f=r.width,d=this.state,h=d.scrollLeft,m=d.scrollPositionChangeReason,g=d.scrollTop,y=d.instanceProps;this._handleInvalidatedGridSize();var v=a>0&&0===e.columnCount||l>0&&0===e.rowCount;m===Lo&&(!i&&h>=0&&(h!==this._scrollingContainer.scrollLeft||v)&&(this._scrollingContainer.scrollLeft=h),!n&&g>=0&&(g!==this._scrollingContainer.scrollTop||v)&&(this._scrollingContainer.scrollTop=g));var b=(0===e.width||0===e.height)&&u>0&&f>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):vo({cellSizeAndPositionManager:y.columnSizeAndPositionManager,previousCellsCount:e.columnCount,previousCellSize:e.columnWidth,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToColumn,previousSize:e.width,scrollOffset:h,scrollToAlignment:s,scrollToIndex:c,size:f,sizeJustIncreasedFromZero:b,updateScrollIndexCallback:function(){return o._updateScrollLeftForScrollToColumn(o.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):vo({cellSizeAndPositionManager:y.rowSizeAndPositionManager,previousCellsCount:e.rowCount,previousCellSize:e.rowHeight,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToRow,previousSize:e.height,scrollOffset:g,scrollToAlignment:s,scrollToIndex:p,size:u,sizeJustIncreasedFromZero:b,updateScrollIndexCallback:function(){return o._updateScrollTopForScrollToRow(o.props)}}),this._invokeOnGridRenderedHelper(),h!==t.scrollLeft||g!==t.scrollTop){var j=y.rowSizeAndPositionManager.getTotalSize(),_=y.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:h,scrollTop:g,totalColumnsWidth:_,totalRowsHeight:j})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&xo(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,t=e.autoContainerWidth,o=e.autoHeight,r=e.autoWidth,n=e.className,i=e.containerProps,a=e.containerRole,u=e.containerStyle,l=e.height,s=e.id,c=e.noContentRenderer,p=e.role,f=e.style,d=e.tabIndex,h=e.width,m=this.state,g=m.instanceProps,y=m.needToResetStyleCache,v=this._isScrolling(),b={boxSizing:"border-box",direction:"ltr",height:o?"auto":l,position:"relative",width:r?"auto":h,WebkitOverflowScrolling:"touch",willChange:"transform"};y&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var _=g.columnSizeAndPositionManager.getTotalSize(),O=g.rowSizeAndPositionManager.getTotalSize(),S=O>l?g.scrollbarSize:0,C=_>h?g.scrollbarSize:0;C===this._horizontalScrollBarSize&&S===this._verticalScrollBarSize||(this._horizontalScrollBarSize=C,this._verticalScrollBarSize=S,this._scrollbarPresenceChanged=!0),b.overflowX=_+S<=h?"hidden":"auto",b.overflowY=O+C<=l?"hidden":"auto";var w=this._childrenToDisplay,E=0===w.length&&l>0&&h>0;return j.createElement("div",Kt()({ref:this._setScrollingContainerRef},i,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:wt()("ReactVirtualized__Grid",n),id:s,onScroll:this._onScroll,role:p,style:Kt()({},b,f),tabIndex:d}),w.length>0&&j.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:a,style:Kt()({width:t?"auto":_,height:O,maxWidth:_,maxHeight:O,overflow:"hidden",pointerEvents:v?"none":"",position:"relative"},u)},w),E&&c())}},{key:"_calculateChildrenToRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,o=e.cellRenderer,r=e.cellRangeRenderer,n=e.columnCount,i=e.deferredMeasurementCache,a=e.height,u=e.overscanColumnCount,l=e.overscanIndicesGetter,s=e.overscanRowCount,c=e.rowCount,p=e.width,f=t.scrollDirectionHorizontal,d=t.scrollDirectionVertical,h=t.instanceProps,m=this._initialScrollTop>0?this._initialScrollTop:t.scrollTop,g=this._initialScrollLeft>0?this._initialScrollLeft:t.scrollLeft,y=this._isScrolling(e,t);if(this._childrenToDisplay=[],a>0&&p>0){var v=h.columnSizeAndPositionManager.getVisibleCellRange({containerSize:p,offset:g}),b=h.rowSizeAndPositionManager.getVisibleCellRange({containerSize:a,offset:m}),j=h.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:p,offset:g}),_=h.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:a,offset:m});this._renderedColumnStartIndex=v.start,this._renderedColumnStopIndex=v.stop,this._renderedRowStartIndex=b.start,this._renderedRowStopIndex=b.stop;var O=l({direction:"horizontal",cellCount:n,overscanCellsCount:u,scrollDirection:f,startIndex:"number"==typeof v.start?v.start:0,stopIndex:"number"==typeof v.stop?v.stop:-1}),S=l({direction:"vertical",cellCount:c,overscanCellsCount:s,scrollDirection:d,startIndex:"number"==typeof b.start?b.start:0,stopIndex:"number"==typeof b.stop?b.stop:-1}),C=O.overscanStartIndex,w=O.overscanStopIndex,E=S.overscanStartIndex,x=S.overscanStopIndex;if(i){if(!i.hasFixedHeight())for(var L=E;L<=x;L++)if(!i.has(L,0)){C=0,w=n-1;break}if(!i.hasFixedWidth())for(var k=C;k<=w;k++)if(!i.has(0,k)){E=0,x=c-1;break}}this._childrenToDisplay=r({cellCache:this._cellCache,cellRenderer:o,columnSizeAndPositionManager:h.columnSizeAndPositionManager,columnStartIndex:C,columnStopIndex:w,deferredMeasurementCache:i,horizontalOffsetAdjustment:j,isScrolling:y,parent:this,rowSizeAndPositionManager:h.rowSizeAndPositionManager,rowStartIndex:E,rowStopIndex:x,scrollLeft:g,scrollTop:m,styleCache:this._styleCache,verticalOffsetAdjustment:_,visibleColumnIndices:v,visibleRowIndices:b}),this._columnStartIndex=C,this._columnStopIndex=w,this._rowStartIndex=E,this._rowStopIndex=x}}},{key:"_debounceScrollEnded",value:function(){var e,t,o,r,n=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&xo(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=(e=this._debounceScrollEndedCallback,t=n,o=Date.now(),r={id:wo(function n(){Date.now()-o>=t?e.call():r.id=wo(n)})})}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex&&"number"==typeof this._deferredInvalidateRowIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t})}}},{key:"_invokeOnScrollMemoizer",value:function(e){var t=this,o=e.scrollLeft,r=e.scrollTop,n=e.totalColumnsWidth,i=e.totalRowsHeight;this._onScrollMemoizer({callback:function(e){var o=e.scrollLeft,r=e.scrollTop,a=t.props,u=a.height;(0,a.onScroll)({clientHeight:u,clientWidth:a.width,scrollHeight:i,scrollLeft:o,scrollTop:r,scrollWidth:n})},indices:{scrollLeft:o,scrollTop:r}})}},{key:"_isScrolling",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return Object.hasOwnProperty.call(e,"isScrolling")?Boolean(e.isScrolling):Boolean(t.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var e=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,e({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(e){var o=e.scrollLeft,r=e.scrollTop;this.setState(function(e){var n=t._getScrollToPositionStateUpdate({prevState:e,scrollLeft:o,scrollTop:r});return n?(n.needToResetStyleCache=!1,n):null})}},{key:"_getCalculatedScrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollLeft(e,o)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=t._getScrollLeftForScrollToColumnStateUpdate(e,o);r&&(r.needToResetStyleCache=!1),this.setState(r)}},{key:"_getCalculatedScrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollTop(e,o)}},{key:"_resetStyleCache",value:function(){var e=this._styleCache;this._cellCache={},this._styleCache={};for(var t=this._rowStartIndex;t<=this._rowStopIndex;t++)for(var o=this._columnStartIndex;o<=this._columnStopIndex;o++){var r=t+"-"+o;this._styleCache[r]=e[r]}}},{key:"_updateScrollTopForScrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=t._getScrollTopForScrollToRowStateUpdate(e,o);r&&(r.needToResetStyleCache=!1),this.setState(r)}}],[{key:"getDerivedStateFromProps",value:function(e,o){var r={};0===e.columnCount&&0!==o.scrollLeft||0===e.rowCount&&0!==o.scrollTop?(r.scrollLeft=0,r.scrollTop=0):e.scrollLeft===o.scrollLeft&&e.scrollTop===o.scrollTop||e.scrollToColumn>0&&o.scrollLeft&&0===e.scrollLeft||e.scrollToRow>0&&o.scrollTop&&0===e.scrollTop||ao()(r,t._getScrollToPositionStateUpdate({prevState:o,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}));var n=o.instanceProps;r.needToResetStyleCache=!1,e.columnWidth===n.prevColumnWidth&&e.rowHeight===n.prevRowHeight||(r.needToResetStyleCache=!0),n.columnSizeAndPositionManager.configure({cellCount:e.columnCount,estimatedCellSize:t._getEstimatedColumnSize(e),cellSizeGetter:t._wrapSizeGetter(e.columnWidth)}),n.rowSizeAndPositionManager.configure({cellCount:e.rowCount,estimatedCellSize:t._getEstimatedRowSize(e),cellSizeGetter:t._wrapSizeGetter(e.rowHeight)}),0!==n.prevColumnCount&&0!==n.prevRowCount||(n.prevColumnCount=0,n.prevRowCount=0),e.autoHeight&&!1===e.isScrolling&&!0===n.prevIsScrolling&&ao()(r,{isScrolling:!1});var i=void 0,a=void 0;return uo({cellCount:n.prevColumnCount,cellSize:"number"==typeof n.prevColumnWidth?n.prevColumnWidth:null,computeMetadataCallback:function(){return n.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.columnCount,nextCellSize:"number"==typeof e.columnWidth?e.columnWidth:null,nextScrollToIndex:e.scrollToColumn,scrollToIndex:n.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){i=t._getScrollLeftForScrollToColumnStateUpdate(e,o)}}),uo({cellCount:n.prevRowCount,cellSize:"number"==typeof n.prevRowHeight?n.prevRowHeight:null,computeMetadataCallback:function(){return n.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.rowCount,nextCellSize:"number"==typeof e.rowHeight?e.rowHeight:null,nextScrollToIndex:e.scrollToRow,scrollToIndex:n.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){a=t._getScrollTopForScrollToRowStateUpdate(e,o)}}),n.prevColumnCount=e.columnCount,n.prevColumnWidth=e.columnWidth,n.prevIsScrolling=!0===e.isScrolling,n.prevRowCount=e.rowCount,n.prevRowHeight=e.rowHeight,n.prevScrollToColumn=e.scrollToColumn,n.prevScrollToRow=e.scrollToRow,n.scrollbarSize=e.getScrollbarSize(),void 0===n.scrollbarSize?(n.scrollbarSizeMeasured=!1,n.scrollbarSize=0):n.scrollbarSizeMeasured=!0,r.instanceProps=n,Kt()({},r,i,a)}},{key:"_getEstimatedColumnSize",value:function(e){return"number"==typeof e.columnWidth?e.columnWidth:e.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(e){return"number"==typeof e.rowHeight?e.rowHeight:e.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(e){var t=e.prevState,o=e.scrollLeft,r=e.scrollTop,n={scrollPositionChangeReason:Lo};return"number"==typeof o&&o>=0&&(n.scrollDirectionHorizontal=o>t.scrollLeft?yo:-1,n.scrollLeft=o),"number"==typeof r&&r>=0&&(n.scrollDirectionVertical=r>t.scrollTop?yo:-1,n.scrollTop=r),"number"==typeof o&&o>=0&&o!==t.scrollLeft||"number"==typeof r&&r>=0&&r!==t.scrollTop?n:null}},{key:"_wrapSizeGetter",value:function(e){return"function"==typeof e?e:function(){return e}}},{key:"_getCalculatedScrollLeft",value:function(e,t){var o=e.columnCount,r=e.height,n=e.scrollToAlignment,i=e.scrollToColumn,a=e.width,u=t.scrollLeft,l=t.instanceProps;if(o>0){var s=o-1,c=i<0?s:Math.min(s,i),p=l.rowSizeAndPositionManager.getTotalSize(),f=l.scrollbarSizeMeasured&&p>r?l.scrollbarSize:0;return l.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:n,containerSize:a-f,currentOffset:u,targetIndex:c})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(e,o){var r=o.scrollLeft,n=t._getCalculatedScrollLeft(e,o);return"number"==typeof n&&n>=0&&r!==n?t._getScrollToPositionStateUpdate({prevState:o,scrollLeft:n,scrollTop:-1}):null}},{key:"_getCalculatedScrollTop",value:function(e,t){var o=e.height,r=e.rowCount,n=e.scrollToAlignment,i=e.scrollToRow,a=e.width,u=t.scrollTop,l=t.instanceProps;if(r>0){var s=r-1,c=i<0?s:Math.min(s,i),p=l.columnSizeAndPositionManager.getTotalSize(),f=l.scrollbarSizeMeasured&&p>a?l.scrollbarSize:0;return l.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:n,containerSize:o-f,currentOffset:u,targetIndex:c})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(e,o){var r=o.scrollTop,n=t._getCalculatedScrollTop(e,o);return"number"==typeof n&&n>=0&&r!==n?t._getScrollToPositionStateUpdate({prevState:o,scrollLeft:-1,scrollTop:n}):null}}]),t}(j.PureComponent);ko.defaultProps={"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:function(e){for(var t=e.cellCache,o=e.cellRenderer,r=e.columnSizeAndPositionManager,n=e.columnStartIndex,i=e.columnStopIndex,a=e.deferredMeasurementCache,u=e.horizontalOffsetAdjustment,l=e.isScrolling,s=e.parent,c=e.rowSizeAndPositionManager,p=e.rowStartIndex,f=e.rowStopIndex,d=e.styleCache,h=e.verticalOffsetAdjustment,m=e.visibleColumnIndices,g=e.visibleRowIndices,y=[],v=r.areOffsetsAdjusted()||c.areOffsetsAdjusted(),b=!l&&!v,j=p;j<=f;j++)for(var _=c.getSizeAndPositionOfCell(j),O=n;O<=i;O++){var S=r.getSizeAndPositionOfCell(O),C=O>=m.start&&O<=m.stop&&j>=g.start&&j<=g.stop,w=j+"-"+O,E=void 0;b&&d[w]?E=d[w]:a&&!a.has(j,O)?E={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(E={height:_.size,left:S.offset+u,position:"absolute",top:_.offset+h,width:S.size},d[w]=E);var x={columnIndex:O,isScrolling:l,isVisible:C,key:w,parent:s,rowIndex:j,style:E},L=void 0;!l||u||h?L=o(x):(t[w]||(t[w]=o(x)),L=t[w]),null!=L&&!1!==L&&y.push(L)}return y},containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:jo.a,noContentRenderer:function(){return null},onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:function(e){var t=e.cellCount,o=e.overscanCellsCount,r=e.scrollDirection,n=e.startIndex,i=e.stopIndex;return r===yo?{overscanStartIndex:Math.max(0,n),overscanStopIndex:Math.min(t-1,i+o)}:{overscanStartIndex:Math.max(0,n-o),overscanStopIndex:Math.min(t-1,i)}},overscanRowCount:10,role:"grid",scrollingResetTimeInterval:150,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0},ko.propTypes=null,function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var o=null,r=null,n=null;if("function"==typeof t.componentWillMount?o="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(o="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?n="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(n="UNSAFE_componentWillUpdate"),null!==o||null!==r||null!==n){var i=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==o?"\n  "+o:"")+(null!==r?"\n  "+r:"")+(null!==n?"\n  "+n:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=_o,t.componentWillReceiveProps=Oo),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=So;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,o){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:o;u.call(this,e,t,r)}}}(ko);var No,Ao=ko,To=[{name:"Smileys & People",icon:(void 0===No&&(No="Smileys & People"),_.a.createElement("svg",{className:"emojiGroup-icon",viewBox:"0 0 24 24"},_.a.createElement("title",null,Object(x.t)(No)),_.a.createElement("path",{fill:"currentColor",d:"M12,4 C7.58168889,4 4,7.58168889 4,12 C4,16.4181333 7.58168889,20 12,20 C16.4183111,20 20,16.4181333 20,12 C20,7.58168889 16.4183111,4 12,4 Z M12,18.6444444 C8.33631816,18.6444444 5.35555556,15.6636818 5.35555556,12 C5.35555556,8.33631816 8.33631816,5.35555556 12,5.35555556 C15.6636818,5.35555556 18.6444444,8.33631816 18.6444444,12 C18.6444444,15.6636818 15.6636818,18.6444444 12,18.6444444 Z M10.7059556,10.2024889 C10.7059556,9.51253333 10.1466667,8.95324444 9.45671111,8.95324444 C8.76675556,8.95324444 8.20746667,9.51253333 8.20746667,10.2024889 C8.20746667,10.8924444 8.76675556,11.4517333 9.45671111,11.4517333 C10.1466667,11.4517333 10.7059556,10.8924444 10.7059556,10.2024889 Z M14.5432889,8.95306667 C13.8533333,8.95306667 13.2940444,9.51235556 13.2940444,10.2023111 C13.2940444,10.8922667 13.8533333,11.4515556 14.5432889,11.4515556 C15.2332444,11.4515556 15.7925333,10.8922667 15.7925333,10.2023111 C15.7925333,9.51235556 15.2332444,8.95306667 14.5432889,8.95306667 Z M14.7397333,14.1898667 C14.5767111,14.0812444 14.3564444,14.1256889 14.2471111,14.2883556 C14.2165333,14.3336889 13.4823111,15.4012444 11.9998222,15.4012444 C10.5198222,15.4012444 9.7856,14.3374222 9.75271111,14.2885333 C9.64444444,14.1256889 9.42471111,14.0803556 9.2608,14.1884444 C9.09688889,14.2963556 9.05155556,14.5169778 9.15964444,14.6810667 C9.19804444,14.7393778 10.1242667,16.1125333 11.9998222,16.1125333 C13.8752,16.1125333 14.8014222,14.7395556 14.84,14.6810667 C14.9477333,14.5173333 14.9027556,14.2983111 14.7397333,14.1898667 Z"})))},{name:"Animals & Nature",icon:function(e){return void 0===e&&(e="Animals & Nature"),_.a.createElement("svg",{className:"emojiGroup-icon",viewBox:"0 0 24 24"},_.a.createElement("title",null,Object(x.t)(e)),_.a.createElement("path",{fill:"currentColor",d:"M10.8815789,7.36973684 L7.77236842,9.00263158 L9.36052632,7.36973684 L9.36052632,3.96973684 L9.36052632,3.5 L8.91315789,3.5 L8.91315789,4.43947368 L7.97368421,5.42368421 L7.97368421,5.02105263 L7.52631579,5.02105263 L7.52631579,5.89342105 L6.58684211,6.87763158 L6.58684211,6.54210526 L6.13947368,6.54210526 L6.13947368,7.34736842 L5.2,8.33157895 L5.2,8.06315789 L4.75263158,8.06315789 L4.75263158,8.80131579 L4.55131579,9.00263158 L2.40394737,9.00263158 L2.40394737,8.06315789 L1.93421053,8.06315789 L1.93421053,9.00263158 L1.93421053,9.04736842 L1.93421053,9.69605263 L3.85789474,9.69605263 L1.93421053,11.7092105 L1.93421053,13.3868421 L3.58947368,13.3868421 L4.73026316,12.2013158 L4.73026316,13.3868421 L9.40526316,13.3868421 L10.8815789,16.7421053 L13.5434211,20.5 L14.5947368,20.5 L20.4328947,10.9710526 L10.8815789,7.36973684 Z M13.5434211,20.5 L13.5434211,18.9565789 L11.9328947,16.7421053 L11.9328947,13.3868421 L15.8026316,13.3868421 L15.8026316,16.7421053 L13.5434211,20.5 Z M7.97368421,19.4039474 L9.47236842,15.6236842 L9.98684211,16.7421053 L9.00263158,19.4039474 L8.28684211,20.5 L7.21315789,20.5 L7.97368421,19.4039474 Z M20.4105263,13.3868421 L22.0657895,16.7421053 L22.0657895,19.4039474 L21.4171053,20.5 L20.4105263,20.5 L21.0368421,19.4039474 L21.0368421,16.7421053 L19.2026316,15.5565789 L20.4105263,13.3868421 Z"}))}()},{name:"Food & Drink",icon:function(e){return void 0===e&&(e="Food & Drink"),_.a.createElement("svg",{className:"emojiGroup-icon",viewBox:"0 0 24 24"},_.a.createElement("title",null,Object(x.t)(e)),_.a.createElement("path",{fill:"currentColor",d:"M13.4404507,12.0850076 C14.050232,11.7279399 14.624055,11.6426962 15.1651887,11.5101788 C15.6655864,11.3874682 16.167493,11.2205013 16.9656149,10.4223794 L19.8603784,7.5276159 C20.0469589,7.33952668 20.046456,7.03652199 19.8593726,6.84918714 C19.6717863,6.66185228 19.3697874,6.6623552 19.182704,6.84969005 L16.8119752,9.22016743 C16.6248918,9.40750228 16.3211327,9.40725082 16.1343008,9.22067034 C15.9472174,9.03358694 15.9472174,8.72982788 16.1343008,8.54274449 L16.1353066,8.54199012 C16.4682346,8.20881068 18.5050296,6.17226711 18.5050296,6.17226711 C18.6926159,5.9846808 18.692113,5.68217902 18.5050296,5.49509563 C18.3179462,5.30776077 18.0149415,5.30750932 17.8278581,5.49484417 C17.8278581,5.49484417 15.7910631,7.53138774 15.4581351,7.86456718 L15.4571293,7.86532155 C15.2700459,8.0526564 14.9665383,8.0526564 14.7794549,7.865573 C14.5923715,7.67874106 14.5926229,7.374982 14.7797063,7.18789861 L17.1501837,4.81742123 C17.33777,4.62983492 17.33777,4.32783605 17.1506866,4.14075266 C16.9633518,3.95316635 16.6605985,3.95316635 16.4732637,4.14024975 L13.5782487,7.03451034 C12.7801268,7.83263224 12.6129085,8.33428732 12.4904493,8.83493656 C12.3576804,9.37607026 12.2724368,9.95014471 11.9151176,10.5599259 L5.50424235,4.14879926 C5.31665604,3.9614644 5.01415426,3.96171586 4.82707087,4.1485478 C3.1692203,5.80639837 6.6114039,9.99817284 8.76009693,12.1473688 C9.14080158,12.5280734 9.45210432,12.7606704 9.73122068,12.9145616 L4.28040514,18.3646227 C3.90623835,18.7387895 3.90674126,19.3453018 4.2806566,19.7194686 C4.65457193,20.093384 5.26083277,20.0938869 5.63525102,19.7197201 L11.7916526,13.5633185 C12.1939825,13.7297825 12.6295046,13.9842561 13.0406354,14.395387 L18.3654714,19.720223 C18.7381295,20.0931325 19.3456476,20.0943898 19.7200658,19.720223 C20.0927239,19.347062 20.0932268,18.7385381 19.7205688,18.3653771 L13.4404507,12.0850076 Z"}))}()},{name:"Travel & Places",icon:function(e){return void 0===e&&(e="Travel & Places"),_.a.createElement("svg",{className:"emojiGroup-icon",viewBox:"0 0 24 24"},_.a.createElement("title",null,Object(x.t)(e)),_.a.createElement("path",{fill:"currentColor",d:"M19.7629331,6.05594053 L17.6103818,4.60289782 C17.5216833,4.54282474 17.4166562,4.51077233 17.3094116,4.51077233 L13.5425476,4.51077233 L13.5425476,2.53803704 C13.5425476,2.24069548 13.3018521,2 13.0045105,2 L10.9952879,2 C10.6981479,2 10.4572509,2.24089706 10.4572509,2.53803704 L10.4572509,4.51097392 L6.54725967,4.51097392 C6.25011969,4.51097392 6.00922263,4.75187098 6.00922263,5.04901096 L6.00922263,7.9548948 C6.00922263,8.25203477 6.25011969,8.49293184 6.54725967,8.49293184 L10.4574524,8.49293184 L10.4574524,10.0177397 L6.69058838,10.0177397 C6.58314225,10.0177397 6.47851833,10.0497921 6.38961824,10.1098652 L4.2370669,11.5627063 C4.0886985,11.6628953 4,11.8298098 4,12.0088195 C4,12.187426 4.0886985,12.3547436 4.2370669,12.454731 L6.38941666,13.9077737 C6.47851833,13.9676452 6.58314225,13.9998992 6.69058838,13.9998992 L10.4574524,13.9998992 L10.4574524,21.0492125 C10.4574524,21.3463525 10.6983495,21.5872496 10.9954895,21.5872496 L13.0047121,21.5872496 C13.3020537,21.5872496 13.5427491,21.3463525 13.5427491,21.0492125 L13.5427491,13.9998992 L17.4527403,13.9998992 C17.7500819,13.9998992 17.990979,13.7590021 17.990979,13.4616606 L17.990979,10.5557767 C17.990979,10.2586368 17.7500819,10.0177397 17.4527403,10.0177397 L13.5425476,10.0177397 L13.5425476,8.49293184 L17.3094116,8.49293184 C17.4166562,8.49293184 17.5216833,8.46087943 17.6103818,8.40080635 L19.7629331,6.94776364 C19.9110999,6.84777624 20,6.68045861 20,6.50185209 C20,6.32324556 19.9110999,6.15592793 19.7629331,6.05594053 Z M16.9147033,12.9236235 L13.0045105,12.9236235 L10.9952879,12.9236235 L6.85528537,12.9236235 L5.5000126,12.0086179 L6.85528537,11.0938138 L10.9954895,11.0938138 L13.0047121,11.0938138 L16.9147033,11.0938138 L16.9147033,12.9236235 Z M17.1447146,7.41685775 L13.0045105,7.41685775 L10.9952879,7.41685775 L7.08529671,7.41685775 L7.08529671,5.58724959 L10.9952879,5.58724959 L13.0045105,5.58724959 L17.1447146,5.58724959 L18.4999874,6.50185209 L17.1447146,7.41685775 Z"}))}()},{name:"Activities",icon:function(e){return void 0===e&&(e="Activities"),_.a.createElement("svg",{className:"emojiGroup-icon",viewBox:"0 0 24 24"},_.a.createElement("title",null,Object(x.t)(e)),_.a.createElement("path",{fill:"currentColor",d:"M16.7634901,8.64140896 C16.8282904,9.00807085 16.5809692,9.36033265 16.2157473,9.42495299 L12.7984297,10.0403761 L14.1120765,15.2595029 C14.1379966,15.3696635 14.1613967,15.6195048 14.1432166,15.7336254 L13.5470536,20.1911683 C13.4746932,20.6199305 13.0614111,20.9086519 12.6261689,20.8362916 C12.1909266,20.7637512 11.8982451,20.3609091 11.9706055,19.9294469 L12.5469684,15.5961047 C12.5469684,15.5921446 12.3487874,14.7906005 12.3487874,14.7906005 C12.3345674,14.8269607 8.49370764,20.6031904 8.49370764,20.6031904 C8.2721265,20.9801123 7.785044,21.113313 7.40038202,20.8944319 C7.01950007,20.6782508 6.88611938,20.1951283 7.10626051,19.8180263 L10.7890794,14.294338 L9.65039358,9.89259539 C9.56777315,9.52989353 9.83597453,9.15945162 10.2064164,9.0971713 L15.4385033,8.15540647 L9.05225051,3.94158483 L8.62474831,4.55304797 C8.48866761,4.76148904 8.21182619,4.81728933 8.00428513,4.67994863 C7.79566405,4.54422793 7.73626375,4.2668465 7.87234445,4.05822543 L8.6027882,3 L16.4655886,8.18402662 C16.4798086,8.19446667 16.7132698,8.3562875 16.7634901,8.64140896 Z M9.97727525,6.02995556 C10.714019,6.02995556 11.3125221,6.62179859 11.3127021,7.34990233 C11.3127021,8.08034608 10.714019,8.67110912 9.97727525,8.67110912 C9.23603145,8.67110912 8.63788838,8.08052608 8.63788838,7.34990233 C8.63788838,6.62179859 9.23603145,6.02995556 9.97727525,6.02995556 Z"}))}()},{name:"Objects",icon:function(e){return void 0===e&&(e="Objects"),_.a.createElement("svg",{className:"emojiGroup-icon",viewBox:"0 0 24 24"},_.a.createElement("title",null,Object(x.t)(e)),_.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M17.4781671,6.08771565 C17.130662,5.41988765 16.6736986,4.86511431 16.1074207,4.42368331 C15.5409989,3.98239614 14.9002146,3.63474585 14.1856429,3.38073244 C13.4706397,3.1270067 12.7421161,3 11.9999281,3 C11.2577401,3 10.5292165,3.12686287 9.81435712,3.38073244 C9.09949778,3.63474585 8.45885723,3.98239614 7.89243548,4.42368331 C7.32615757,4.86511431 6.86905033,5.41974381 6.52140143,6.08771565 C6.17375253,6.75568749 6,7.47630311 6,8.24985017 C6,9.46080084 6.40244999,10.5076353 7.20706229,11.3904973 C7.55873857,11.7732434 7.84971653,12.1131266 8.08014,12.410003 C8.31070731,12.7067355 8.54314447,13.0798447 8.77745149,13.5290428 C9.0117585,13.9782409 9.14466193,14.3982404 9.1758741,14.7888975 C8.80866365,15.0076712 8.62513035,15.3279928 8.62513035,15.750006 C8.62513035,16.0391153 8.72279423,16.2891013 8.918122,16.499964 C8.72279423,16.7109706 8.62513035,16.9609567 8.62513035,17.2500659 C8.62513035,17.6564011 8.80104041,17.9726952 9.15257285,18.1995237 C9.05088159,18.3790304 9.00010788,18.5625644 9.00010788,18.7501259 C9.00010788,19.1094268 9.1230867,19.3870292 9.36918817,19.5820701 C9.61514581,19.7773987 9.91791823,19.8750629 10.2773616,19.8750629 C10.4335663,20.2188297 10.6680171,20.4922609 10.9804265,20.6953565 C11.2928358,20.8984522 11.6327176,21 11.9999281,21 C12.3671385,21 12.7070203,20.8984522 13.0194297,20.6953565 C13.3319829,20.4922609 13.5664337,20.2188297 13.7226384,19.8750629 C14.0819379,19.8750629 14.3848542,19.7773987 14.6308118,19.5820701 C14.8769133,19.3870292 14.9998921,19.1094268 14.9998921,18.7501259 C14.9998921,18.5625644 14.9489746,18.3790304 14.8472833,18.1995237 C15.1988158,17.9728391 15.3747258,17.6564011 15.3747258,17.2500659 C15.3747258,16.9609567 15.2769181,16.7109706 15.0817342,16.499964 C15.2769181,16.2891013 15.3747258,16.0391153 15.3747258,15.750006 C15.3747258,15.3279928 15.1911925,15.0078151 14.8238382,14.7888975 C14.8551942,14.3982404 14.9880977,13.9782409 15.2224047,13.5290428 C15.4569994,13.0798447 15.6892927,12.7067355 15.91986,12.410003 C16.1504273,12.1131266 16.4414053,11.7732434 16.7927939,11.3904973 C17.5974062,10.5076353 18,9.46080084 18,8.24985017 C18,7.47630311 17.8261036,6.75568749 17.4781671,6.08771565 L17.4781671,6.08771565 Z M15.702957,10.3591971 C15.6247108,10.4450668 15.5056156,10.5739434 15.3455273,10.7458268 C15.1854391,10.9177101 15.0663438,11.0464429 14.9882415,11.1324565 C13.9883014,12.3278729 13.4375577,13.4917894 13.3360103,14.6246374 L10.6639897,14.6246374 C10.5624423,13.4917894 10.0116986,12.3278729 9.01161467,11.1324565 C8.93351233,11.0465867 8.81441705,10.9177101 8.654185,10.7458268 C8.49409678,10.5739434 8.37485766,10.4452107 8.29675532,10.3591971 C7.76557312,9.74199915 7.4999101,9.03878763 7.4999101,8.24985017 C7.4999101,7.68730972 7.63468338,7.16389251 7.90422994,6.6794547 C8.17392034,6.1950169 8.52545278,5.79860639 8.9589711,5.48993551 C9.39248942,5.18126463 9.87289791,4.93918957 10.4003404,4.76342264 C10.9276391,4.58751189 11.460835,4.49977226 11.9999281,4.49977226 C12.5390212,4.49977226 13.0722171,4.58751189 13.5995158,4.76342264 C14.1268144,4.93918957 14.6072229,5.18126463 15.0408851,5.48993551 C15.4744034,5.79860639 15.8260797,6.19516074 16.0954824,6.6794547 C16.3648851,7.16389251 16.4998022,7.68730972 16.4998022,8.24985017 C16.4998022,9.03878763 16.234283,9.74199915 15.702957,10.3591971 L15.702957,10.3591971 Z M13.5410693,6.16674126 C13.1543994,6.05562304 12.7655718,6 12.375018,6 C12.2734596,6 12.185567,6.03286235 12.1113402,6.09897065 C12.0371134,6.16495109 12,6.24307909 12,6.33335464 C12,6.4236302 12.0371134,6.5017582 12.1113402,6.56773864 C12.185567,6.6335912 12.2734596,6.66670929 12.375018,6.66670929 C12.7813953,6.66670929 13.1953968,6.75353238 13.6175977,6.9270507 C14.0393671,7.10069689 14.2501079,7.34722844 14.2501079,7.66677322 C14.2501079,7.75704878 14.2870774,7.83530465 14.3614481,7.90115722 C14.4358187,7.96700978 14.5235675,8 14.624982,8 C14.7266842,8 14.814433,7.96713765 14.8888036,7.90115722 C14.9630304,7.83517678 15,7.75704878 15,7.66677322 C15,7.30554312 14.8532726,6.99303114 14.560537,6.72923726 C14.2678015,6.46544339 13.9277392,6.2777316 13.5410693,6.16674126 L13.5410693,6.16674126 Z"}))}()},{name:"Symbols",icon:function(e){return void 0===e&&(e="Symbols"),_.a.createElement("svg",{className:"emojiGroup-icon",viewBox:"0 0 24 24"},_.a.createElement("title",null,Object(x.t)(e)),_.a.createElement("path",{fill:"currentColor",d:"M19.1442646,4.83575742 C18.1650678,3.85559657 16.4547374,3.73144287 14.3690482,4.52537315 C13.5381247,4.85169622 12.7411635,5.25877639 11.9896,5.74077261 C11.2380365,5.25877639 10.4410753,4.85169622 9.61015178,4.52537315 C7.52446261,3.73144287 5.82718816,3.83926056 4.8349354,4.83575742 C3.84268265,5.83225429 3.73170701,7.52793255 4.52485642,9.61567516 C4.85085852,10.4474168 5.25753831,11.2451626 5.73906044,11.997466 C5.25753831,12.7497695 4.85085852,13.5475153 4.52485642,14.3792569 C3.73170701,16.4669995 3.83941866,18.165945 4.8349354,19.1591746 C5.4505037,19.7385409 6.27598921,20.04073 7.11972793,19.9955786 C7.98011582,19.972593 8.82930089,19.7943985 9.62647173,19.4695589 C10.4517722,19.142269 11.243226,18.73521 11.9896,18.2541594 C12.7411635,18.7361557 13.5381247,19.1432358 14.3690482,19.4695589 C15.1692842,19.7955535 16.0218905,19.9737698 16.885584,19.9955786 C17.7293227,20.04073 18.5548082,19.7385409 19.1703765,19.1591746 C20.1495733,18.1790138 20.2736049,16.4669995 19.4804555,14.3792569 C19.1461294,13.5464957 18.7306859,12.7487154 18.2401396,11.997466 C18.7216617,11.2451626 19.1283415,10.4474168 19.4543436,9.61567516 C20.247493,7.52793255 20.1495733,5.83225429 19.1442646,4.83575742 Z M5.74558842,9.15173236 C5.15480636,7.59654381 5.15807034,6.36154114 5.74558842,5.76037582 C6.11674164,5.43561893 6.60182527,5.2721976 7.09361601,5.30623463 C7.79440087,5.33070398 8.48521159,5.480066 9.13360934,5.74730701 C9.70769152,5.97226391 10.2631967,6.24209666 10.7949799,6.55430611 C9.18669216,7.76170948 7.7580096,9.19179863 6.55179379,10.8016698 C6.24050431,10.2735668 5.97094753,9.72190607 5.74558842,9.15173236 Z M11.9896,7.30902996 C12.8957173,7.95068414 13.7452817,8.66882467 14.5289837,9.45558222 C15.3149674,10.2400558 16.0324016,11.0904566 16.6734247,11.997466 C16.0324016,12.9044755 15.3149674,13.7548763 14.5289837,14.5393498 C13.7452817,15.3261074 12.8957173,16.0442479 11.9896,16.6859021 C11.0834827,16.0442479 10.2339183,15.3261074 9.45021631,14.5393498 C8.66423258,13.7548763 7.94679839,12.9044755 7.30577532,11.997466 C8.59381135,10.1831894 10.1771079,8.59833411 11.9896,7.30902996 Z M9.1466653,18.247625 C7.59300638,18.8389888 6.35921842,18.8357215 5.75864438,18.247625 C5.15807034,17.6595285 5.15480636,16.411457 5.75864438,14.8562685 C5.98338002,14.2816211 6.25294737,13.725569 6.56484974,13.1932623 C7.77126614,14.8029593 9.19992209,16.2330218 10.8080359,17.4406259 C10.2762527,17.7528354 9.72074748,18.0226681 9.1466653,18.247625 Z M18.2336116,14.8431997 C18.8243937,16.3983882 18.8211297,17.6333909 18.2336116,18.2345562 C17.6460935,18.8357215 16.3992496,18.8389888 14.8455907,18.2345562 C14.2715085,18.0095993 13.7160033,17.7397666 13.1842201,17.4275571 C13.9922383,16.8232472 14.7558043,16.1615663 15.4690126,15.4476322 C16.1822445,14.7337217 16.8432746,13.9694039 17.4469902,13.1605902 C17.753106,13.6998229 18.0161333,14.2624472 18.2336116,14.8431997 Z M18.2336116,9.15173236 C18.0088759,9.72637974 17.7393086,10.2824319 17.4274062,10.8147386 C16.2209564,9.20507058 14.7923049,7.7750125 13.1842201,6.56737492 C13.7160033,6.25516547 14.2715085,5.98533272 14.8455907,5.76037582 C15.4931609,5.48865125 16.184001,5.33485713 16.885584,5.30623463 C17.3773747,5.2721976 17.8624584,5.43561893 18.2336116,5.76037582 C18.8211297,6.36154114 18.8243937,7.59654381 18.2336116,9.15173236 Z M11.9896,14.284508 C13.2514561,14.284508 14.2743925,13.2605644 14.2743925,11.997466 C14.2743925,10.7343676 13.2514561,9.71042404 11.9896,9.71042404 C10.7277439,9.71042404 9.70480748,10.7343676 9.70480748,11.997466 C9.70480748,12.6040273 9.945526,13.1857453 10.3740077,13.6146489 C10.8024894,14.0435525 11.3836353,14.284508 11.9896,14.284508 Z M11.9896,11.0173052 C12.5303955,11.0173052 12.9687968,11.4561381 12.9687968,11.997466 C12.9687968,12.5387939 12.5303955,12.9776269 11.9896,12.9776269 C11.4488045,12.9776269 11.0104032,12.5387939 11.0104032,11.997466 C11.0104032,11.4561381 11.4488045,11.0173052 11.9896,11.0173052 Z"}))}()},{name:"Flags",icon:function(e){return void 0===e&&(e="Flags"),_.a.createElement("svg",{className:"emojiGroup-icon",viewBox:"0 0 24 24"},_.a.createElement("title",null,Object(x.t)(e)),_.a.createElement("path",{fill:"currentColor",d:"M6.32484076,15.8895966 L6.35881104,19.3205945 C6.35881104,19.6942675 6.05307856,20 5.67940552,20 C5.30573248,20 5,19.6942675 5,19.3205945 L5,13.104034 L5,5.63057325 L5,4.67940552 C5,4.30573248 5.30573248,4 5.67940552,4 C6.01910828,4 6.29087049,4.23779193 6.32484076,4.57749469 L6.32484076,15.8895966 Z M18.2144374,12.7643312 C18.2823779,12.866242 18.3163482,12.9681529 18.3163482,13.0700637 C18.3163482,13.4437367 18.0106157,13.7494692 17.6369427,13.7494692 C17.5690021,13.7494692 17.5010616,13.7494692 17.433121,13.7154989 C16.7197452,13.5116773 15.9384289,13.4097665 15.089172,13.4097665 C13.9681529,13.4097665 12.881104,13.5796178 11.7261146,13.7494692 C10.5711253,13.9193206 9.34819533,14.089172 8.15923567,14.089172 C7.98938429,14.089172 7.78556263,14.089172 7.61571125,14.089172 L7.61571125,5.29087049 C7.78556263,5.29087049 7.98938429,5.29087049 8.15923567,5.29087049 C9.28025478,5.29087049 10.3673036,5.12101911 11.522293,4.95116773 C12.6772824,4.78131635 13.9002123,4.61146497 15.089172,4.61146497 C16.07431,4.61146497 16.9575372,4.74734607 17.8067941,4.985138 C18.0106157,5.05307856 18.1804671,5.18895966 18.2484076,5.39278132 C18.3163482,5.59660297 18.3163482,5.80042463 18.2144374,5.97027601 C17.670913,6.88747346 17.1273885,7.90658174 16.5498938,9.06157113 C17.1273885,10.3184713 17.670913,11.5414013 18.2144374,12.7643312 Z"}))}()}],Po=[{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:0},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:1},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:2},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:3},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:4},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:5},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"#",group:6},{emoji:"*",group:6},{emoji:"0",group:6},{emoji:"1",group:6},{emoji:"2",group:6},{emoji:"3",group:6},{emoji:"4",group:6},{emoji:"5",group:6},{emoji:"6",group:6},{emoji:"7",group:6},{emoji:"8",group:6},{emoji:"9",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:6},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7},{emoji:"",group:7}],Io=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),Ro=function(e){function t(t){var o=e.call(this,t)||this;return o.insertEmojiBlot=function(e){var t=o.quill.getSelection(!0);o.quill.insertEmbed(t.index,"emoji",{emojiChar:o.emojiChar},T.a.sources.USER),o.quill.setSelection(t.index+1,0,T.a.sources.SILENT),o.props.closeMenuHandler(e)},o.handleKeyPress=function(e){switch(e.key){case"ArrowDown":e.stopPropagation(),e.preventDefault(),o.props.onKeyDown();break;case"ArrowUp":e.stopPropagation(),e.preventDefault(),o.props.onKeyUp();break;case"ArrowRight":e.stopPropagation(),e.preventDefault(),o.props.onKeyRight();break;case"ArrowLeft":e.stopPropagation(),e.preventDefault(),o.props.onKeyLeft()}},o.emojiChar=t.emojiData.emoji,o.quill=t.quill,o}return Io(t,e),t.prototype.render=function(){var e=this,t=wt()("richEditor-button","richEditor-insertEmoji","emojiChar-"+this.emojiChar);return _.a.createElement("button",{ref:function(t){e.domButton=t},onKeyDown:this.handleKeyPress,style:this.props.style,className:t,type:"button",onClick:this.insertEmojiBlot},_.a.createElement("span",{className:"safeEmoji",dangerouslySetInnerHTML:{__html:Object(E.convertToSafeEmojiCharacters)(this.emojiChar)}}))},t.prototype.componentDidUpdate=function(){this.checkFocus()},t.prototype.componentDidMount=function(){this.checkFocus()},t.prototype.checkFocus=function(){this.domButton&&this.props.activeIndex===this.props.index&&this.domButton.focus()},t}(_.a.Component),Mo=Object(St.b)(Ro),Do=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),Bo=7,qo=7,zo={},Fo={};
/**
 * A filtered down version of the emoij data we use.
 *
 * This is significantly filtered. The original data sources are in the `emojibase-data` node module.
 * - `emojibase-data/en/data.json`
 * Transformation applied: data.map(({emoji, group}) => {emoji, group});
 *
 * - `emojibase-data/meta/groups.json`
 * Transformation applied: Manually copying/pasting out the groups.
 *
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */Po.forEach(function(e,t){var o=e.group;o in zo||(zo[o]=Math.floor(t/Bo),Fo[o]=t)});var Uo=Po.length-1,Ho=function(e){function t(t){var o=e.call(this,t)||this;return o.lastRowIndex=o.getRowFromIndex(Po.length),o.handleOnSectionRendered=function(e){var t=e.rowStartIndex,r=0;Object.values(zo).map(function(e,o){t>=e&&(r=o)}),o.setState({rowStartIndex:e.rowStartIndex,selectedGroupIndex:r,alertMessage:Object(x.t)("In emoji category: ")+Object(x.t)(To[r].name),title:Object(x.t)(To[r].name)})},o.scrollToCategory=function(e){var t=Fo[e];o.setState({activeIndex:t,scrollToRow:o.getRowFromIndex(t),alertMessage:Object(x.t)("Jumped to emoji category: ")+Object(x.t)(To[e].name)})},o.cellRenderer=function(e){var t=e.columnIndex,r=e.rowIndex,n=e.style,i=r*qo+t,a=Po[i];return a?_.a.createElement(Mo,{activeIndex:o.state.activeIndex,style:n,closeMenuHandler:o.props.closeMenuHandler,key:"emoji-"+a.emoji,emojiData:a,index:i,onKeyUp:o.jumpRowUp,onKeyDown:o.jumpRowDown,onKeyLeft:o.jumpIndexLeft,onKeyRight:o.jumpIndexRight}):null},o.focusOnCategories=function(){var e=document.getElementById(o.categoryPickerID);if(e){var t=e.querySelector(".richEditor-button");t instanceof HTMLElement&&t.focus()}},o.jumpIndex=function(e){var t,r=o.keepEmojiIndexInBounds(o.state.activeIndex+e),n=o.getRowFromIndex(r);n>=o.state.rowStartIndex+qo?t=o.keepRowIndexInBounds(n-qo+1):n<o.state.rowStartIndex&&(t=n),o.setState({activeIndex:r,scrollToRow:t},function(){o.gridEl.forceUpdate()})},o.jumpRowDown=function(){o.jumpIndex(Bo)},o.jumpRowUp=function(){o.jumpIndex(-Bo)},o.jumpIndexRight=function(){o.jumpIndex(1)},o.jumpIndexLeft=function(){o.jumpIndex(-1)},o.handleKeyDown=function(e){if(o.props.isVisible)switch(e.code){case"PageUp":e.preventDefault(),e.stopPropagation(),o.jumpIndex(-qo*Bo);break;case"PageDown":e.preventDefault(),e.stopPropagation(),o.jumpIndex(qo*Bo);break;case"Home":e.preventDefault(),e.stopPropagation(),o.jumpIndex(-Uo);break;case"End":e.preventDefault(),e.stopPropagation(),o.jumpIndex(Uo)}},o.state={id:t.id,contentID:t.contentID,activeIndex:0,title:Object(x.t)("Emojis"),scrollToRow:0,rowStartIndex:0,selectedGroupIndex:0},o.categoryPickerID="emojiPicker-categories-"+t.editorID,o}return Do(t,e),Object.defineProperty(t.prototype,"descriptionID",{get:function(){return this.state.id+"-description"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"titleID",{get:function(){return this.state.id+"-title"},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this,t=[Object(x.t)("Insert an emoji in your message."),Object(x.t)('Use keyboard shortcuts "page up" and "page down" to cycle through available categories when menu is open.')].join(" "),o=_.a.createElement("button",{type:"button",className:"accessibility-jumpTo",onClick:this.focusOnCategories},Object(x.t)("Jump past emoji list, to emoji categories.")),r=(_.a.createElement(Tt,null),_.a.createElement("div",{id:this.categoryPickerID,className:"emojiGroups","aria-label":Object(x.t)("Emoji Categories"),tabIndex:-1},Object.values(To).map(function(t,o){var r=t.name,n=t.icon,i=e.state.selectedGroupIndex===o,a=wt()("richEditor-button","emojiGroup",{isSelected:i});return _.a.createElement("button",{type:"button",onClick:function(t){return e.handleCategoryClick(t,o)},"aria-current":i,"aria-label":Object(x.t)("Jump to emoji category: ")+Object(x.t)(r),key:"emojiGroup-"+r,title:Object(x.t)(r),className:a},n,_.a.createElement("span",{className:"sr-only"},Object(x.t)("Jump to emoji category: ")+Object(x.t)(r)))}))),n=_.a.createElement(no,null,function(t){var o=t.height,r=t.width;return _.a.createElement(Ao,{containerRole:"",cellRenderer:e.cellRenderer,columnCount:Bo,columnWidth:36,rowCount:e.lastRowIndex+1,rowHeight:36,height:o,width:r,overscanRowCount:20,tabIndex:-1,scrollToAlignment:"start",scrollToRow:e.state.scrollToRow,"aria-readonly":void 0,"aria-label":"",role:"",onSectionRendered:e.handleOnSectionRendered,ref:function(t){e.gridEl=t}})});return _.a.createElement(xt,{id:this.state.id,descriptionID:this.descriptionID,titleID:this.titleID,title:this.state.title,titleRef:this.props.initialFocusRef,accessibleDescription:t,alertMessage:this.state.alertMessage,additionalHeaderContent:o,body:n,footer:r,additionalClassRoot:"insertEmoji",onCloseClick:this.props.closeMenuHandler,isVisible:this.props.isVisible})},t.prototype.componentDidMount=function(){document.addEventListener("keydown",this.handleKeyDown,!1)},t.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.handleKeyDown,!1)},t.prototype.getRowFromIndex=function(e){return Math.floor(e/Bo)},t.prototype.handleCategoryClick=function(e,t){e.preventDefault(),e.stopPropagation(),this.scrollToCategory(t)},t.prototype.keepRowIndexInBounds=function(e){return e<0?0:e>this.lastRowIndex-1?this.lastRowIndex-1:e},t.prototype.keepEmojiIndexInBounds=function(e){return e<0?0:e>Uo?Uo:e},t}(_.a.PureComponent),Wo=Object(St.b)(Ho),Ko=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),Go=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Vo=function(e){function t(t){var o=e.call(this,t)||this;return o.state={id:Object(Lt.getRequiredID)(t,"emojiPopover")},o}return Ko(t,e),t.prototype.render=function(){var e=Tt();return _.a.createElement(Nt,{id:this.state.id,classNameRoot:"emojiPicker",icon:e},function(e){return _.a.createElement(Wo,Go({},e,{contentID:e.id}))})},t}(_.a.Component),Zo=o(117),Yo=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],o=0;return t?t.call(e):{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}}},Xo=function(){function e(t){var o=this;this.quill=t,this.bold=function(e){o.handleBooleanFormat(e,I.a.blotName)},this.italic=function(e){o.handleBooleanFormat(e,M.a.blotName)},this.strike=function(e){o.handleBooleanFormat(e,z.a.blotName)},this.codeInline=function(e){o.handleBooleanFormat(e,G.a.blotName)},this.link=function(e,t){Object(Ve.n)(o.quill,B.a,e)?Object(Ve.c)(o.quill,B.a,e):o.quill.formatText(e.index,e.length,B.a.blotName,t,Ot.sources.USER)},this.paragraph=function(t){e.BLOCK_FORMAT_NAMES.forEach(function(e){o.quill.formatLine(t.index,t.length,e,!1,Ot.sources.API)}),o.quill.update(Ot.sources.USER)},this.h2=function(e){o.quill.formatLine(e.index,e.length,W.a.blotName,2,Ot.sources.USER)},this.h3=function(e){o.quill.formatLine(e.index,e.length,W.a.blotName,3,Ot.sources.USER)},this.codeBlock=function(t){var r,n,i=o.quill.getLine(t.index)[0];i.offset(o.quill.scroll),i.length();try{for(var a=Yo(e.INLINE_FORMAT_NAMES),u=a.next();!u.done;u=a.next()){var l=u.value;o.quill.formatText(t.index,t.length,l,!1,Ot.sources.API)}}catch(e){r={error:e}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}o.quill.formatLine(t.index,t.length,Be.a.blotName,!0,Ot.sources.USER)},this.blockquote=function(e){o.quill.formatLine(e.index,e.length,Re.blotName,!0,Ot.sources.USER)},this.spoiler=function(e){o.quill.formatLine(e.index,e.length,Ne.blotName,!0,Ot.sources.USER)}}return e.prototype.handleBooleanFormat=function(e,t){var o=!0===this.quill.getFormat(e)[t];this.quill.formatText(e.index,e.length,t,!o,Ot.sources.USER),this.quill.update(Ot.sources.USER)},e.INLINE_FORMAT_NAMES=[I.a.blotName,M.a.blotName,z.a.blotName,G.a.blotName,B.a.blotName],e.BLOCK_FORMAT_NAMES=[Be.a.blotName,Re.blotName,Ne.blotName,W.a.blotName],e}(),$o=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),Jo=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Qo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buttonRef=_.a.createRef(),t.onClick=function(e){t.props.isDisabled?e.preventDefault():t.props.onClick(e)},t.handleKeyPress=function(e){switch(e.key){case"ArrowRight":case"ArrowDown":e.stopPropagation(),e.preventDefault(),t.props.focusNextItem();break;case"ArrowUp":case"ArrowLeft":e.stopPropagation(),e.preventDefault(),t.props.focusPrevItem()}},t}return $o(t,e),t.prototype.render=function(){var e=this.props,t=e.label,o=(e.isDisabled,e.isActive),r=(e.onClick,e.icon),n=e.role,i=wt()("richEditor-button","richEditor-formatButton","richEditor-menuItem",{isActive:o}),a={role:n,"aria-label":t};return"menuitem"===n?a["aria-pressed"]=o:a["aria-checked"]=o,_.a.createElement("button",Jo({},a,{className:i,type:"button",onClick:this.onClick,onKeyDown:this.handleKeyPress,ref:this.buttonRef}),r)},t.prototype.focus=function(){this.buttonRef.current&&this.buttonRef.current.focus()},t}(_.a.PureComponent),er=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),tr=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},or=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.menuItemRefs=[],t}return er(t,e),t.prototype.render=function(){var e=this,t=this.props.menuItemData.length-1,o=wt()("richEditor-menu",this.props.menuItemsClass);return _.a.createElement("div",{className:o,role:"menu","aria-orientation":this.props.orientation},_.a.createElement("div",{className:"richEditor-menuItems"},this.props.menuItemData.map(function(o,r){var n=0===r?t:r-1,i=r===t?0:r+1;return _.a.createElement(Qo,tr({},o,{role:e.props.itemRole,key:r,focusNextItem:function(){var t=e.menuItemRefs[i];t&&t.focus()},focusPrevItem:function(){var t=e.menuItemRefs[n];t&&t.focus()},ref:function(t){return e.menuItemRefs.push(t)}}))})))},t.prototype.focusFirstItem=function(){var e=this.menuItemRefs[0];e&&e.focus()},t.prototype.focusLastItem=function(){var e=this.menuItemRefs.length-1,t=this.menuItemRefs[e];t&&t.focus()},t.defaultProps={itemRole:"menuitem",orientation:"horizontal"},t}(_.a.Component),rr=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),nr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.formatParagraph=function(e){e.preventDefault(),t.props.formatter.paragraph(t.props.lastGoodSelection),t.props.afterClickHandler()},t.formatH2=function(e){e.preventDefault(),t.props.formatter.h2(t.props.lastGoodSelection),t.props.afterClickHandler()},t.formatH3=function(e){e.preventDefault(),t.props.formatter.h3(t.props.lastGoodSelection),t.props.afterClickHandler()},t.formatBlockquote=function(e){e.preventDefault(),t.props.formatter.blockquote(t.props.lastGoodSelection),t.props.afterClickHandler()},t.formatCodeBlock=function(e){e.preventDefault(),t.props.formatter.codeBlock(t.props.lastGoodSelection),t.props.afterClickHandler()},t.formatSpoiler=function(e){e.preventDefault(),t.props.formatter.spoiler(t.props.lastGoodSelection),t.props.afterClickHandler()},t}return rr(t,e),t.prototype.render=function(){return _.a.createElement(or,{itemRole:"menuitemradio",ref:this.props.menuRef,menuItemData:this.menuItemData})},Object.defineProperty(t.prototype,"menuItemData",{get:function(){var e=this.props.activeFormats,t=!0;return["header","blockquote-line","codeBlock","spoiler-line"].forEach(function(o){o in e&&(t=!1)}),[{icon:Pt(),label:Object(x.t)("Format as Paragraph"),onClick:this.formatParagraph,isActive:t,isDisabled:t},{icon:It(),label:Object(x.t)("Format as Title"),onClick:this.formatH2,isActive:2===e.header,isDisabled:2===e.header},{icon:Rt(),label:Object(x.t)("Format as Subtitle"),onClick:this.formatH3,isActive:3===e.header,isDisabled:3===e.header},{icon:Mt(),label:Object(x.t)("Format as blockquote"),onClick:this.formatBlockquote,isActive:!0===e["blockquote-line"],isDisabled:!0===e["blockquote-line"]},{icon:Dt(),label:Object(x.t)("Format as code block"),onClick:this.formatCodeBlock,isActive:!0===e.codeBlock,isDisabled:!0===e.codeBlock},{icon:Bt(),label:Object(x.t)("Format as spoiler"),onClick:this.formatSpoiler,isActive:!0===e["spoiler-line"],isDisabled:!0===e["spoiler-line"]}]},enumerable:!0,configurable:!0}),t}(_.a.PureComponent),ir=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),ar=function(e){function t(t){var o=e.call(this,t)||this;return o.selfRef=_.a.createRef(),o.buttonRef=_.a.createRef(),o.menuRef=_.a.createRef(),o.pilcrowClickHandler=function(e){e.preventDefault(),o.setState({hasFocus:!o.state.hasFocus},function(){o.state.hasFocus&&o.menuRef.current.focusFirstItem()})},o.close=function(){o.setState({hasFocus:!1});var e=o.props.instanceState.lastGoodSelection,t={index:e.index+e.length,length:0};o.quill.setSelection(t)},o.handleDocumentKeyDown=function(e){27===e.keyCode&&o.state.hasFocus&&(e.preventDefault(),o.close())},o.handlePilcrowKeyDown=function(e){switch(e.key){case"ArrowUp":e.preventDefault(),o.setState({hasFocus:!0},function(){o.menuRef.current.focusFirstItem()});break;case"ArrowDown":e.preventDefault(),o.setState({hasFocus:!0},function(){o.menuRef.current.focusLastItem()})}},o.quill=t.quill,o.formatter=new Xo(o.quill),o.ID=o.props.editorID+"paragraphMenu",o.componentID=o.ID+"-component",o.menuID=o.ID+"-menu",o.buttonID=o.ID+"-button",o.state={hasFocus:!1},o}return ir(t,e),t.prototype.componentDidMount=function(){var e=this;Object(E.watchFocusInDomTree)(this.selfRef.current,function(t){t||e.setState({hasFocus:!1})}),this.selfRef.current.addEventListener("keydown",this.handleDocumentKeyDown)},t.prototype.render=function(){var e=wt()({isOpen:this.isMenuVisible},"richEditor-button","richEditorParagraphMenu-handle");return this.isPilcrowVisible&&!Object(Ve.m)(this.quill,this.props.instanceState.lastGoodSelection)||(e+=" isHidden"),_.a.createElement("div",{id:this.componentID,style:this.pilcrowStyles,className:"richEditorParagraphMenu",ref:this.selfRef},_.a.createElement("button",{type:"button",id:this.buttonID,ref:this.buttonRef,"aria-label":Object(x.t)("Line Level Formatting Menu"),"aria-controls":this.menuID,"aria-expanded":this.isMenuVisible,disabled:!this.isPilcrowVisible,className:e,"aria-haspopup":"menu",onClick:this.pilcrowClickHandler,onKeyDown:this.handlePilcrowKeyDown},this.activeFormatIcon),_.a.createElement("div",{id:this.menuID,className:this.toolbarClasses,style:this.toolbarStyles,role:"menu"},_.a.createElement(nr,{menuRef:this.menuRef,formatter:this.formatter,afterClickHandler:this.close,activeFormats:this.props.activeFormats,lastGoodSelection:this.props.instanceState.lastGoodSelection})))},Object.defineProperty(t.prototype,"activeFormatIcon",{get:function(){var e=this.props.activeFormats;return 2===e[W.a.blotName]?It():3===e[W.a.blotName]?Rt():!0===e[Re.blotName]?Mt():!0===e[Be.a.blotName]?Dt():!0===e[Ne.blotName]?Bt():Pt()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPilcrowVisible",{get:function(){return!!this.props.instanceState.currentSelection},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isMenuVisible",{get:function(){return!!this.props.instanceState.lastGoodSelection&&this.state.hasFocus},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pilcrowStyles",{get:function(){var e=this.props.instanceState;if(!e.lastGoodSelection)return{};var t=this.quill.getBounds(e.lastGoodSelection.index,e.lastGoodSelection.length);return{top:(t.top+t.bottom)/2-14}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toolbarClasses",{get:function(){var e=this.props.instanceState;if(!e.lastGoodSelection)return"";var t="richEditor-toolbarContainer richEditor-paragraphToolbarContainer";return this.quill.getBounds(e.lastGoodSelection.index,e.lastGoodSelection.length).top>30?t+=" isUp":t+=" isDown",t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toolbarStyles",{get:function(){return this.isMenuVisible&&!Object(Ve.m)(this.quill,this.props.instanceState.lastGoodSelection)?{}:{visibility:"hidden",position:"absolute",zIndex:-1}},enumerable:!0,configurable:!0}),t}(_.a.PureComponent),ur=Object(St.b)(ar),lr=o(71),sr=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),cr=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},pr=function(e){function t(t){var o=e.call(this,t)||this;return o.flyoutRef=_.a.createRef(),o.nubRef=_.a.createRef(),o.state={flyoutHeight:null,flyoutWidth:null,nubHeight:null},o}return sr(t,e),t.prototype.render=function(){var e=this,t=this.props,o=t.isVisible,r=t.selection;return _.a.createElement(lr.a,cr({},this.state,{selectionIndex:r.index,selectionLength:r.length,isActive:o}),function(t){var r=t.x,n=t.y,i={visibility:"hidden",position:"absolute"},a={},u="richEditor-inlineToolbarContainer richEditor-toolbarContainer ";return r&&n&&o&&(i={position:"absolute",top:n?n.position:0,left:r?r.position:0,zIndex:5,visibility:"visible"},a={left:r?r.nubPosition:0,top:n?n.nubPosition:0},u+=n&&n.nubPointsDown?"isUp":"isDown"),_.a.createElement("div",{className:u,style:i,ref:e.flyoutRef},e.props.children,_.a.createElement("div",{style:a,className:"richEditor-nubPosition",ref:e.nubRef},_.a.createElement("div",{className:"richEditor-nub"})))})},t.prototype.componentDidMount=function(){this.setState({flyoutWidth:this.flyoutRef.current?this.flyoutRef.current.offsetWidth:null,flyoutHeight:this.flyoutRef.current?this.flyoutRef.current.offsetHeight:null,nubHeight:this.nubRef.current?this.nubRef.current.offsetHeight:null})},t}(_.a.PureComponent),fr=Object(St.b)(pr),dr=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),hr=function(e){function t(t){var o=e.call(this,t)||this;return o.state={linkValue:"",cachedRange:{index:0,length:0},showFormatMenu:!1,showLinkMenu:!1},o}return dr(t,e),t.prototype.render=function(){return _.a.createElement("div",{className:"richEditor-menu insertLink",role:"dialog","aria-label":Object(x.t)("Insert Url")},_.a.createElement("input",{value:this.props.inputValue,onChange:this.props.onInputChange,ref:this.props.inputRef,onKeyDown:this.props.onInputKeyDown,className:"InputBox insertLink-input",placeholder:Object(x.t)("Paste or type a link")}),_.a.createElement("button",{type:"button",onClick:this.props.onCloseClick,className:"Close richEditor-close"},_.a.createElement("span",{className:"Close-x","aria-hidden":"true"},Object(x.t)("")),_.a.createElement("span",{className:"sr-only"},Object(x.t)("Close"))))},t}(_.a.Component),mr=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),gr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.formatBold=function(e){e.preventDefault(),t.props.formatter.bold(t.props.lastGoodSelection)},t.formatItalic=function(e){e.preventDefault(),t.props.formatter.italic(t.props.lastGoodSelection)},t.formatStrike=function(e){e.preventDefault(),t.props.formatter.strike(t.props.lastGoodSelection)},t.formatCode=function(e){e.preventDefault(),t.props.formatter.codeInline(t.props.lastGoodSelection)},t}return mr(t,e),t.prototype.render=function(){return _.a.createElement(or,{menuItemData:this.menuItemData,menuItemsClass:"richEditor-inlineToolbarContainer"})},Object.defineProperty(t.prototype,"menuItemData",{get:function(){var e=this.props,t=e.activeFormats,o=e.onLinkClick;return[{label:Object(x.t)("Format as Bold"),icon:_.a.createElement("svg",{className:"richEditorButton-icon",viewBox:"0 0 24 24"},_.a.createElement("title",null,Object(x.t)("Bold")),_.a.createElement("path",{d:"M6.511,18v-.62a4.173,4.173,0,0,0,.845-.093.885.885,0,0,0,.736-.79,5.039,5.039,0,0,0,.063-.884V8.452a6.585,6.585,0,0,0-.047-.876,1.116,1.116,0,0,0-.194-.527.726.726,0,0,0-.4-.263,3.658,3.658,0,0,0-.674-.1v-.62h4.975a7.106,7.106,0,0,1,3.6.752A2.369,2.369,0,0,1,16.68,8.964q0,1.843-2.651,2.6v.062a4.672,4.672,0,0,1,1.542.24,3.39,3.39,0,0,1,1.171.674,3.036,3.036,0,0,1,.744,1.023,3.125,3.125,0,0,1,.263,1.287,2.49,2.49,0,0,1-.38,1.379,3.05,3.05,0,0,1-1.092.992,7.794,7.794,0,0,1-3.8.775Zm6.076-.945q2.5,0,2.5-2.248a2.3,2.3,0,0,0-.9-2.015,3.073,3.073,0,0,0-1.2-.465,9.906,9.906,0,0,0-1.806-.139h-.744v3.1a1.664,1.664,0,0,0,.5,1.364A2.659,2.659,0,0,0,12.587,17.055Zm-1.24-5.8a4.892,4.892,0,0,0,1.21-.131,2.69,2.69,0,0,0,.868-.38,1.8,1.8,0,0,0,.743-1.6,2.107,2.107,0,0,0-.557-1.635,2.645,2.645,0,0,0-1.8-.5h-1.1q-.279,0-.279.264v3.983Z",style:At})),isActive:!0===t.bold,onClick:this.formatBold},{label:Object(x.t)("Format as Italic"),icon:_.a.createElement("svg",{className:"richEditorButton-icon",viewBox:"0 0 24 24"},_.a.createElement("title",null,Object(x.t)("Italic")),_.a.createElement("path",{d:"M11.472,15.4a4.381,4.381,0,0,0-.186,1.085.744.744,0,0,0,.333.713,2.323,2.323,0,0,0,1.077.186L12.51,18H7.566l.17-.62a3.8,3.8,0,0,0,.791-.07,1.282,1.282,0,0,0,.566-.271,1.62,1.62,0,0,0,.41-.558,5.534,5.534,0,0,0,.326-.93L11.642,8.7a5.332,5.332,0,0,0,.233-1.271.577.577,0,0,0-.349-.612,3.714,3.714,0,0,0-1.186-.132l.171-.62h5.038l-.171.62a3.058,3.058,0,0,0-.852.1,1.246,1.246,0,0,0-.59.38,2.578,2.578,0,0,0-.441.774,11.525,11.525,0,0,0-.4,1.287Z",style:At})),isActive:!0===t.italic,onClick:this.formatItalic},{label:Object(x.t)("Format as Strikethrough"),icon:_.a.createElement("svg",{className:"richEditorButton-icon",viewBox:"0 0 24 24"},_.a.createElement("title",null,Object(x.t)("Strikethrough")),_.a.createElement("path",{d:"M12.258,13H6V12h4.2l-.05-.03a4.621,4.621,0,0,1-1.038-.805,2.531,2.531,0,0,1-.55-.892A3.285,3.285,0,0,1,8.4,9.2a3.345,3.345,0,0,1,.256-1.318,3.066,3.066,0,0,1,.721-1.046,3.242,3.242,0,0,1,1.1-.682,3.921,3.921,0,0,1,1.4-.24,3.641,3.641,0,0,1,1.271.217,4.371,4.371,0,0,1,1.194.7l.4-.7h.357l.171,3.085h-.574A3.921,3.921,0,0,0,13.611,7.32a2.484,2.484,0,0,0-1.7-.619,2.269,2.269,0,0,0-1.5.465,1.548,1.548,0,0,0-.558,1.255,1.752,1.752,0,0,0,.124.674,1.716,1.716,0,0,0,.4.574,4.034,4.034,0,0,0,.729.542,9.854,9.854,0,0,0,1.116.566,20.49,20.49,0,0,1,1.906.953q.232.135.435.27h4.6v1H15.675a2.263,2.263,0,0,1,.3.544,3.023,3.023,0,0,1,.186,1.093,3.236,3.236,0,0,1-1.177,2.541,4.014,4.014,0,0,1-1.334.721,5.393,5.393,0,0,1-1.7.256,4.773,4.773,0,0,1-1.588-.248,4.885,4.885,0,0,1-1.434-.837l-.434.76H8.132L7.9,14.358h.573a3.886,3.886,0,0,0,.411,1.255A3.215,3.215,0,0,0,10.7,17.155a3.872,3.872,0,0,0,1.294.21,2.786,2.786,0,0,0,1.813-.543,1.8,1.8,0,0,0,.667-1.473,1.752,1.752,0,0,0-.573-1.34,4.04,4.04,0,0,0-.83-.6Q12.723,13.217,12.258,13Z",style:At})),isActive:!0===t.strike,onClick:this.formatStrike},{label:Object(x.t)("Format as Inline Code"),icon:_.a.createElement("svg",{className:"richEditorButton-icon",viewBox:"0 0 24 24"},_.a.createElement("title",null,Object(x.t)("Paragraph Code Block")),_.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.11588626,16.5074223 L3.14440918,12.7070466 L3.14440918,11.6376386 L9.11588626,7.32465415 L9.11588626,9.04808032 L4.63575044,12.0883808 L9.11588626,14.7663199 L9.11588626,16.5074223 Z M14.48227,5.53936141 L11.1573124,18.4606386 L9.80043634,18.4606386 L13.131506,5.53936141 L14.48227,5.53936141 Z M15.1729321,14.7663199 L19.6530679,12.0883808 L15.1729321,9.04808032 L15.1729321,7.32465415 L21.1444092,11.6376386 L21.1444092,12.7070466 L15.1729321,16.5074223 L15.1729321,14.7663199 Z"})),isActive:!0===t.codeInline,onClick:this.formatCode},{label:Object(x.t)("Format as Link"),icon:_.a.createElement("svg",{className:"richEditorButton-icon",viewBox:"0 0 24 24"},_.a.createElement("title",null,Object(x.t)("Link")),_.a.createElement("path",{d:"M9.108,12.272a.731.731,0,0,0,.909.08l1.078.9a2.094,2.094,0,0,1-2.889.087l-2.4-2.019A2.089,2.089,0,0,1,5.443,8.4L6.892,6.679a2.088,2.088,0,0,1,2.942-.144l2.4,2.019a2.089,2.089,0,0,1,.362,2.924l-.1.114-1.073-.9.1-.114a.705.705,0,0,0-.192-.95l-2.4-2.019a.7.7,0,0,0-.968-.026L6.516,9.3a.7.7,0,0,0,.191.95Zm9.085,1.293a2.088,2.088,0,0,1,.362,2.924l-1.448,1.722a2.088,2.088,0,0,1-2.942.144l-2.4-2.019a2.1,2.1,0,0,1-.409-2.86l1.077.9a.73.73,0,0,0,.235.883l2.4,2.019a.7.7,0,0,0,.968.026l1.448-1.722a.7.7,0,0,0-.192-.95l-2.4-2.019a.7.7,0,0,0-.967-.026l-.1.115-1.072-.9.1-.115a2.087,2.087,0,0,1,2.942-.144ZM10.028,10.6a.466.466,0,0,1,.658-.057l3.664,3.082a.467.467,0,0,1,.057.658l-.308.366a.466.466,0,0,1-.658.057L9.776,11.626a.469.469,0,0,1-.057-.659Z",style:At})),isActive:"string"==typeof t.link,onClick:o}]},enumerable:!0,configurable:!0}),t}(_.a.PureComponent),yr=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),vr=function(e){function t(t){var o=e.call(this,t)||this;return o.linkInput=_.a.createRef(),o.selfRef=_.a.createRef(),o.ignoreLinkToolbarFocusRequirement=!1,o.handleFocusChange=function(e){o.setState({menuHasFocus:e})},o.commandKHandler=function(){var e=o.props.instanceState.lastGoodSelection,t=Object(Ve.n)(o.quill,Be.a,e);if(o.isOneLineOrLess&&!o.isLinkMenuVisible&&!t)if(Object(Ve.n)(o.quill,B.a,e))o.formatter.link(e),o.reset();else{var r=o.quill.getText(e.index,e.length);Object(x.isAllowedUrl)(r)&&o.setState({inputValue:r}),o.toggleLinkMenu()}},o.toggleLinkMenu=function(e){e&&e.preventDefault(),"string"==typeof o.props.activeFormats.link?(o.setState({isLinkMenuOpen:!1}),o.formatter.link(o.props.instanceState.lastGoodSelection)):(o.ignoreLinkToolbarFocusRequirement=!0,o.setState({isLinkMenuOpen:!0},function(){o.linkInput.current.focus(),o.ignoreLinkToolbarFocusRequirement=!1}))},o.escFunction=function(e){27===e.keyCode&&(o.isLinkMenuVisible?(e.preventDefault(),o.clearLinkInput()):o.isFormatMenuVisible&&(e.preventDefault(),o.cancel()))},o.onCloseClick=function(e){e.preventDefault(),o.clearLinkInput()},o.reset=function(){o.props.instanceState.lastGoodSelection&&o.quill.setSelection(o.props.instanceState.lastGoodSelection,Ge.a.sources.USER),o.setState({inputValue:""})},o.cancel=function(){var e=o.props.instanceState.lastGoodSelection,t={index:e.index+e.length,length:0};o.setState({inputValue:""}),o.quill.setSelection(t)},o.onInputKeyDown=function(e){Ue.a.match(e.nativeEvent,"enter")&&(e.preventDefault(),o.formatter.link(o.props.instanceState.lastGoodSelection,o.state.inputValue),o.clearLinkInput())},o.onInputChange=function(e){o.setState({inputValue:e.target.value})},o.quill=t.quill,o.formatter=new Xo(o.quill),o.state={inputValue:"",isLinkMenuOpen:!1,menuHasFocus:!1,quillHasFocus:!1},o}return yr(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props.instanceState.lastGoodSelection,o=e.instanceState.lastGoodSelection;o.index===t.index&&o.length===t.length||this.setState({isLinkMenuOpen:!1})},t.prototype.render=function(){var e=this.props,t=e.activeFormats,o=e.instanceState,r=this.isFormatMenuVisible?_.a.createElement("span",{"aria-live":"assertive",role:"alert",className:"sr-only"},Object(x.t)("Inline Menu Available")):null;return _.a.createElement("div",{ref:this.selfRef},_.a.createElement(fr,{selection:o.lastGoodSelection,isVisible:this.isFormatMenuVisible},r,_.a.createElement(gr,{formatter:this.formatter,onLinkClick:this.toggleLinkMenu,activeFormats:t,lastGoodSelection:o.lastGoodSelection})),_.a.createElement(fr,{selection:o.lastGoodSelection,isVisible:this.isLinkMenuVisible},_.a.createElement(hr,{inputRef:this.linkInput,inputValue:this.state.inputValue,onInputChange:this.onInputChange,onInputKeyDown:this.onInputKeyDown,onCloseClick:this.onCloseClick})))},Object.defineProperty(t.prototype,"isLinkMenuVisible",{get:function(){var e=Object(Ve.n)(this.quill,Be.a,this.props.instanceState.lastGoodSelection);return this.state.isLinkMenuOpen&&(this.hasFocus||this.ignoreLinkToolbarFocusRequirement)&&this.isOneLineOrLess&&!e&&this.selectionHasContent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFormatMenuVisible",{get:function(){var e=this.props.instanceState.lastGoodSelection.length>0,t=Object(Ve.n)(this.quill,Be.a,this.props.instanceState.lastGoodSelection);return!this.isLinkMenuVisible&&this.hasFocus&&e&&this.isOneLineOrLess&&!t&&this.selectionHasContent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionHasContent",{get:function(){var e=this.props.instanceState.lastGoodSelection,t=this.quill.getText(e.index,e.length);return!!t&&"\n"!==t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isOneLineOrLess",{get:function(){var e=this.props.instanceState.lastGoodSelection;return this.quill.getLines(e.index||0,e.length||0).length<=1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasFocus",{get:function(){return this.state.menuHasFocus||this.quill.hasFocus()},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){document.addEventListener("keydown",this.escFunction,!1),Object(E.watchFocusInDomTree)(this.selfRef.current,this.handleFocusChange),this.quill.getModule("keyboard").addBinding({key:"k",metaKey:!0},{},this.commandKHandler)},t.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.escFunction,!1)},t.prototype.clearLinkInput=function(){this.quill.setSelection(this.props.instanceState.lastGoodSelection),this.setState({isLinkMenuOpen:!1,inputValue:""})},t}(_.a.Component),br=Object(St.b)(vr),jr=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),_r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.inputRef=_.a.createRef(),t.onFakeButtonClick=function(e){t.inputRef&&t.inputRef.current&&t.inputRef.current.click()},t.onInputChange=function(e){var o=t.inputRef&&t.inputRef.current&&t.inputRef.current.files&&t.inputRef.current.files[0],r=t.props.quill&&t.props.quill.getModule("embed/insertion");if(o&&Object(N.isFileImage)(o)&&r){var n=Object(at.uploadImage)(o);r.createEmbed({dataPromise:n,loaderData:{type:"image"}})}},t}return jr(t,e),t.prototype.render=function(){return _.a.createElement("button",{className:"richEditor-button richEditor-embedButton richEditor-buttonUpload",type:"button","aria-pressed":"false",onClick:this.onFakeButtonClick},_.a.createElement(zt,null),_.a.createElement("input",{ref:this.inputRef,onChange:this.onInputChange,className:"richEditor-upload",type:"file",accept:"image/gif, image/jpeg, image/jpg, image/png"}))},t}(_.a.Component),Or=Object(St.b)(_r);
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */function Sr(e){return _.a.createElement("p",{id:e.id,className:"sr-only"},Object(x.t)("richEditor.description.title"),Object(x.t)("richEditor.description.paragraphMenu"),Object(x.t)("richEditor.description.inlineMenu"),Object(x.t)("richEditor.description.embed"))}var Cr=o(48),wr=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),Er=function(e){function t(t){var o=e.call(this,t)||this;return o.quillMountRef=_.a.createRef(),o.store=Object(L.default)(),o.allowPasteListener=!0,o.onQuillUpdate=function(e,t,r,n){var i=!1;e===Ot.events.SELECTION_CHANGE?i=!0:n!==Ot.sources.SILENT&&(i=!0),i&&o.store.dispatch(p.setSelection(o.editorID,o.quill.getSelection()))},o.quoteButtonClickHandler=function(e,t){e.preventDefault();var r=o.quill.getModule("embed/insertion"),n=t.getAttribute("data-scrape-url")||"";r.scrapeMedia(n)},Object(N.log)("Initializing Rich Editor"),o.hasUploadPermission=Object(k.hasPermission)("uploads.add"),o}return wr(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.bodybox;this.quill=new Ot(this.quillMountRef.current,{theme:"vanilla"}),t.style.display="none",this.editorID=Object(Ve.f)(this.quill),this.setupBodyBoxSync(),this.setupDebugPasteListener(),this.store.dispatch(p.createInstance(this.editorID)),this.quill.on(Ot.events.EDITOR_CHANGE,this.onQuillUpdate),document.addEventListener(Ve.a,function(){return e.onQuillUpdate(Ot.events.SELECTION_CHANGE,null,null,Ot.sources.USER)}),this.addQuoteHandler(),this.forceUpdate()},t.prototype.componentWillUnmount=function(){Object(E.removeDelegatedEvent)(this.delegatedHandlerHash)},t.prototype.render=function(){var e=this.props.editorDescriptionID,t=this.quill&&_.a.createElement(_.a.Fragment,null,_.a.createElement(br,null),_.a.createElement(ur,null),_.a.createElement(Zo.a,null),_.a.createElement("div",{className:"richEditor-embedBar"},_.a.createElement("ul",{className:"richEditor-menuItems richEditor-inlineMenuItems",role:"menubar","aria-label":Object(x.t)("Inline Level Formatting Menu")},_.a.createElement("li",{className:"richEditor-menuItem u-richEditorHiddenOnMobile",role:"menuitem"},_.a.createElement(Vo,null)),this.hasUploadPermission&&_.a.createElement("li",{className:"richEditor-menuItem",role:"menuitem"},_.a.createElement(Or,null)),_.a.createElement("li",{className:"richEditor-menuItem",role:"menuitem"},_.a.createElement(Ht,null)))));return _.a.createElement(Cr.Provider,{store:this.store},_.a.createElement(St.a,{value:{quill:this.quill,editorID:this.editorID}},_.a.createElement(Sr,{id:e}),_.a.createElement("div",{className:"richEditor-frame InputBox"},_.a.createElement("div",{className:"richEditor-textWrap",ref:this.quillMountRef},_.a.createElement("div",{className:"ql-editor richEditor-text userContent","data-gramm":"false",contentEditable:!0,"data-placeholder":"Create a new post...",tabIndex:0})),t)))},t.prototype.setupBodyBoxSync=function(){var e=this,t=this.props.bodybox,o=t.value;o&&(Object(N.log)("Setting existing content as contents of editor"),this.quill.setContents(JSON.parse(o))),this.quill.on("text-change",function(){t.value=JSON.stringify(e.quill.getContents().ops)});var r=this.quill.container.closest("form");r&&r.addEventListener("X-ClearCommentForm",function(){e.allowPasteListener=!1,e.quill.setContents([]),e.quill.setSelection(null,Ot.sources.USER),e.allowPasteListener=!0})},t.prototype.addQuoteHandler=function(){this.delegatedHandlerHash=Object(E.delegateEvent)("click",".js-quoteButton",this.quoteButtonClickHandler)},t.prototype.setupDebugPasteListener=function(){var e=this;Object(N.debug)()&&this.props.bodybox.addEventListener("paste",function(t){if(e.allowPasteListener){t.stopPropagation(),t.preventDefault();var o=(t.clipboardData||window.clipboardData).getData("Text"),r=JSON.parse(o);e.quill.setContents(r)}})},t}(_.a.Component);
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */function xr(e){var t=Object(E.ensureHtmlElement)(e),o=t.closest("form").querySelector(".BodyBox");if(!o)throw new Error("Could not find the BodyBox to mount editor to.");var r=o.getAttribute("format")||"Rich",n=w()("editor-"),i=n+"-description";if("Rich"!==r)throw new Error("Unsupported initial editor format "+r);S.a.render(_.a.createElement(Er,{editorID:n,editorDescriptionID:i,bodybox:o,isPrimaryEditor:!0}),t),t.classList.remove("isDisabled")}
/*
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */Object(x.onReady)(function(){var e;Object(r.registerReducer)("editor",b),(e=document.querySelectorAll(".richEditor")).length>0&&e.forEach(xr),document.addEventListener("X-EditCommentFormLoaded",function(e){var t=e.target;if(t instanceof Element){var o=t.querySelector(".richEditor");o&&xr(o)}})})},function(e,t,o){var r=o(60),n=o(52);o(102)("keys",function(){return function(e){return n(r(e))}})},function(e,t,o){o(129),e.exports=o(18).Object.keys},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=!("undefined"==typeof window||!window.document||!window.document.createElement),e.exports=t.default},function(e,t,o){var r=o(37);r(r.S,"Object",{create:o(80)})},function(e,t,o){o(132);var r=o(18).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,o){e.exports={default:o(133),__esModule:!0}},function(e,t,o){var r=o(44),n=o(53),i=function(e,t){if(n(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=o(109)(Function.call,o(97).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,o){return i(e,o),t?e.__proto__=o:r(e,o),e}}({},!1):void 0),check:i}},function(e,t,o){var r=o(37);r(r.S,"Object",{setPrototypeOf:o(135).set})},function(e,t,o){o(136),e.exports=o(18).Object.setPrototypeOf},function(e,t,o){e.exports={default:o(137),__esModule:!0}},function(e,t,o){o(77)("observable")},function(e,t,o){o(77)("asyncIterator")},function(e,t){},function(e,t,o){var r=o(42),n=o(98).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return n(e)}catch(e){return a.slice()}}(e):n(r(e))}},function(e,t,o){var r=o(104);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,o){var r=o(52),n=o(82),i=o(61);e.exports=function(e){var t=r(e),o=n.f;if(o)for(var a,u=o(e),l=i.f,s=0;u.length>s;)l.call(e,a=u[s++])&&t.push(a);return t}},function(e,t,o){var r=o(62)("meta"),n=o(44),i=o(34),a=o(36).f,u=0,l=Object.isExtensible||function(){return!0},s=!o(43)(function(){return l(Object.preventExtensions({}))}),c=function(e){a(e,r,{value:{i:"O"+ ++u,w:{}}})},p=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[r].w},onFreeze:function(e){return s&&p.NEED&&l(e)&&!i(e,r)&&c(e),e}}},function(e,t,o){"use strict";var r=o(27),n=o(34),i=o(35),a=o(37),u=o(99),l=o(145).KEY,s=o(43),c=o(84),p=o(79),f=o(62),d=o(41),h=o(78),m=o(77),g=o(144),y=o(143),v=o(53),b=o(44),j=o(42),_=o(88),O=o(64),S=o(80),C=o(142),w=o(97),E=o(36),x=o(52),L=w.f,k=E.f,N=C.f,A=r.Symbol,T=r.JSON,P=T&&T.stringify,I=d("_hidden"),R=d("toPrimitive"),M={}.propertyIsEnumerable,D=c("symbol-registry"),B=c("symbols"),q=c("op-symbols"),z=Object.prototype,F="function"==typeof A,U=r.QObject,H=!U||!U.prototype||!U.prototype.findChild,W=i&&s(function(){return 7!=S(k({},"a",{get:function(){return k(this,"a",{value:7}).a}})).a})?function(e,t,o){var r=L(z,t);r&&delete z[t],k(e,t,o),r&&e!==z&&k(z,t,r)}:k,K=function(e){var t=B[e]=S(A.prototype);return t._k=e,t},G=F&&"symbol"==typeof A.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof A},V=function(e,t,o){return e===z&&V(q,t,o),v(e),t=_(t,!0),v(o),n(B,t)?(o.enumerable?(n(e,I)&&e[I][t]&&(e[I][t]=!1),o=S(o,{enumerable:O(0,!1)})):(n(e,I)||k(e,I,O(1,{})),e[I][t]=!0),W(e,t,o)):k(e,t,o)},Z=function(e,t){v(e);for(var o,r=g(t=j(t)),n=0,i=r.length;i>n;)V(e,o=r[n++],t[o]);return e},Y=function(e){var t=M.call(this,e=_(e,!0));return!(this===z&&n(B,e)&&!n(q,e))&&(!(t||!n(this,e)||!n(B,e)||n(this,I)&&this[I][e])||t)},X=function(e,t){if(e=j(e),t=_(t,!0),e!==z||!n(B,t)||n(q,t)){var o=L(e,t);return!o||!n(B,t)||n(e,I)&&e[I][t]||(o.enumerable=!0),o}},$=function(e){for(var t,o=N(j(e)),r=[],i=0;o.length>i;)n(B,t=o[i++])||t==I||t==l||r.push(t);return r},J=function(e){for(var t,o=e===z,r=N(o?q:j(e)),i=[],a=0;r.length>a;)!n(B,t=r[a++])||o&&!n(z,t)||i.push(B[t]);return i};F||(u((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(o){this===z&&t.call(q,o),n(this,I)&&n(this[I],e)&&(this[I][e]=!1),W(this,e,O(1,o))};return i&&H&&W(z,e,{configurable:!0,set:t}),K(e)}).prototype,"toString",function(){return this._k}),w.f=X,E.f=V,o(98).f=C.f=$,o(61).f=Y,o(82).f=J,i&&!o(63)&&u(z,"propertyIsEnumerable",Y,!0),h.f=function(e){return K(d(e))}),a(a.G+a.W+a.F*!F,{Symbol:A});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Q.length>ee;)d(Q[ee++]);for(var te=x(d.store),oe=0;te.length>oe;)m(te[oe++]);a(a.S+a.F*!F,"Symbol",{for:function(e){return n(D,e+="")?D[e]:D[e]=A(e)},keyFor:function(e){if(!G(e))throw TypeError(e+" is not a symbol!");for(var t in D)if(D[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),a(a.S+a.F*!F,"Object",{create:function(e,t){return void 0===t?S(e):Z(S(e),t)},defineProperty:V,defineProperties:Z,getOwnPropertyDescriptor:X,getOwnPropertyNames:$,getOwnPropertySymbols:J}),T&&a(a.S+a.F*(!F||s(function(){var e=A();return"[null]"!=P([e])||"{}"!=P({a:e})||"{}"!=P(Object(e))})),"JSON",{stringify:function(e){for(var t,o,r=[e],n=1;arguments.length>n;)r.push(arguments[n++]);if(o=t=r[1],(b(t)||void 0!==e)&&!G(e))return y(t)||(t=function(e,t){if("function"==typeof o&&(t=o.call(this,e,t)),!G(t))return t}),r[1]=t,P.apply(T,r)}}),A.prototype[R]||o(45)(A.prototype,R,A.prototype.valueOf),p(A,"Symbol"),p(Math,"Math",!0),p(r.JSON,"JSON",!0)},function(e,t,o){o(146),o(141),o(140),o(139),e.exports=o(18).Symbol},function(e,t,o){e.exports={default:o(147),__esModule:!0}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t){e.exports=function(){}},function(e,t,o){"use strict";var r=o(150),n=o(149),i=o(81),a=o(42);e.exports=o(100)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,o=this._i++;return!e||o>=e.length?(this._t=void 0,n(1)):n(0,"keys"==t?o:"values"==t?e[o]:[o,e[o]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t,o){o(151);for(var r=o(27),n=o(45),i=o(81),a=o(41)("toStringTag"),u="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<u.length;l++){var s=u[l],c=r[s],p=c&&c.prototype;p&&!p[a]&&n(p,a,s),i[s]=i.Array}},function(e,t,o){var r=o(27).document;e.exports=r&&r.documentElement},function(e,t,o){var r=o(36),n=o(53),i=o(52);e.exports=o(35)?Object.defineProperties:function(e,t){n(e);for(var o,a=i(t),u=a.length,l=0;u>l;)r.f(e,o=a[l++],t[o]);return e}},function(e,t,o){"use strict";var r=o(80),n=o(64),i=o(79),a={};o(45)(a,o(41)("iterator"),function(){return this}),e.exports=function(e,t,o){e.prototype=r(a,{next:n(1,o)}),i(e,t+" Iterator")}},function(e,t,o){var r=o(86),n=o(87);e.exports=function(e){return function(t,o){var i,a,u=String(n(t)),l=r(o),s=u.length;return l<0||l>=s?e?"":void 0:(i=u.charCodeAt(l))<55296||i>56319||l+1===s||(a=u.charCodeAt(l+1))<56320||a>57343?e?u.charAt(l):i:e?u.slice(l,l+2):a-56320+(i-55296<<10)+65536}}},function(e,t,o){"use strict";var r=o(156)(!0);o(100)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,o=this._i;return o>=t.length?{value:void 0,done:!0}:(e=r(t,o),this._i+=e.length,{value:e,done:!1})})},function(e,t,o){o(157),o(152),e.exports=o(78).f("iterator")},function(e,t,o){e.exports={default:o(158),__esModule:!0}},function(e,t,o){var r=o(37);r(r.S+r.F*!o(35),"Object",{defineProperty:o(36).f})},function(e,t,o){o(160);var r=o(18).Object;e.exports=function(e,t,o){return r.defineProperty(e,t,o)}},function(e,t,o){e.exports={default:o(161),__esModule:!0}},function(e,t,o){var r=o(60),n=o(103);o(102)("getPrototypeOf",function(){return function(e){return n(r(e))}})},function(e,t,o){o(163),e.exports=o(18).Object.getPrototypeOf},function(e,t,o){var r=o(86),n=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?n(e+t,0):i(e,t)}},function(e,t,o){var r=o(86),n=Math.min;e.exports=function(e){return e>0?n(r(e),9007199254740991):0}},function(e,t,o){var r=o(42),n=o(166),i=o(165);e.exports=function(e){return function(t,o,a){var u,l=r(t),s=n(l.length),c=i(a,s);if(e&&o!=o){for(;s>c;)if((u=l[c++])!=u)return!0}else for(;s>c;c++)if((e||c in l)&&l[c]===o)return e||c||0;return!e&&-1}}},function(e,t,o){"use strict";var r=o(52),n=o(82),i=o(61),a=o(60),u=o(105),l=Object.assign;e.exports=!l||o(43)(function(){var e={},t={},o=Symbol(),r="abcdefghijklmnopqrst";return e[o]=7,r.split("").forEach(function(e){t[e]=e}),7!=l({},e)[o]||Object.keys(l({},t)).join("")!=r})?function(e,t){for(var o=a(e),l=arguments.length,s=1,c=n.f,p=i.f;l>s;)for(var f,d=u(arguments[s++]),h=c?r(d).concat(c(d)):r(d),m=h.length,g=0;m>g;)p.call(d,f=h[g++])&&(o[f]=d[f]);return o}:l},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,o){var r=o(37);r(r.S+r.F,"Object",{assign:o(168)})},function(e,t,o){o(170),e.exports=o(18).Object.assign},function(e,t,o){var r=o(113);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,o){e.exports=o(7)(126)},function(e,t,o){var r=o(65);e.exports=function(e,t){var o=r(this,e),n=o.size;return o.set(e,t),this.size+=o.size==n?0:1,this}},function(e,t,o){var r=o(65);e.exports=function(e){return r(this,e).has(e)}},function(e,t,o){var r=o(65);e.exports=function(e){return r(this,e).get(e)}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,o){var r=o(65);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t,o){var r=o(112)(o(110),"Map");e.exports=r},function(e,t,o){var r=o(66);e.exports=function(e,t){var o=this.__data__,n=r(o,e);return n<0?(++this.size,o.push([e,t])):o[n][1]=t,this}},function(e,t,o){var r=o(66);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,o){var r=o(66);e.exports=function(e){var t=this.__data__,o=r(t,e);return o<0?void 0:t[o][1]}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,o){var r=o(66),n=Array.prototype.splice;e.exports=function(e){var t=this.__data__,o=r(t,e);return!(o<0||(o==t.length-1?t.pop():n.call(t,o,1),--this.size,0))}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,o){var r=o(185),n=o(184),i=o(182),a=o(181),u=o(180);function l(e){var t=-1,o=null==e?0:e.length;for(this.clear();++t<o;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=n,l.prototype.get=i,l.prototype.has=a,l.prototype.set=u,e.exports=l},function(e,t,o){var r=o(67);e.exports=function(e,t){var o=this.__data__;return this.size+=this.has(e)?0:1,o[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,o){var r=o(67),n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:n.call(t,e)}},function(e,t,o){var r=o(67),n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var o=t[e];return"__lodash_hash_undefined__"===o?void 0:o}return n.call(t,e)?t[e]:void 0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t){var o=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return o.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,o){var r=o(110)["__core-js_shared__"];e.exports=r},function(e,t,o){var r,n=o(193),i=(r=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},function(e,t,o){e.exports=o(7)(121)},function(e,t,o){var r=o(195),n=o(111);e.exports=function(e){if(!n(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,o){var r=o(196),n=o(194),i=o(111),a=o(192),u=/^\[object .+?Constructor\]$/,l=Function.prototype,s=Object.prototype,c=l.toString,p=s.hasOwnProperty,f=RegExp("^"+c.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||n(e))&&(r(e)?f:u).test(a(e))}},function(e,t,o){var r=o(67);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t,o){var r=o(198),n=o(190),i=o(189),a=o(188),u=o(187);function l(e){var t=-1,o=null==e?0:e.length;for(this.clear();++t<o;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=n,l.prototype.get=i,l.prototype.has=a,l.prototype.set=u,e.exports=l},function(e,t,o){var r=o(199),n=o(186),i=o(179);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||n),string:new r}}},function(e,t,o){var r=o(200),n=o(178),i=o(176),a=o(175),u=o(174);function l(e){var t=-1,o=null==e?0:e.length;for(this.clear();++t<o;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=n,l.prototype.get=i,l.prototype.has=a,l.prototype.set=u,e.exports=l},function(e,t,o){var r=o(201),n="Expected a function";function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(n);var o=function(){var r=arguments,n=t?t.apply(this,r):r[0],i=o.cache;if(i.has(n))return i.get(n);var a=e.apply(this,r);return o.cache=i.set(n,a)||i,a};return o.cache=new(i.Cache||r),o}i.Cache=r,e.exports=i},function(e,t,o){var r=o(202);e.exports=function(e){var t=r(e,function(e){return 500===o.size&&o.clear(),e}),o=t.cache;return t}},function(e,t,o){var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,i=o(203)(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,function(e,o,r,i){t.push(r?i.replace(n,"$1"):o||e)}),t});e.exports=i},function(e,t,o){var r=o(114),n=o(113),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var o=typeof e;return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=e&&!n(e))||a.test(e)||!i.test(e)||null!=t&&e in Object(t)}},function(e,t,o){var r=o(114),n=o(205),i=o(204),a=o(173);e.exports=function(e,t){return r(e)?e:n(e,t)?[e]:i(a(e))}},function(e,t,o){var r=o(206),n=o(172);e.exports=function(e,t){for(var o=0,i=(t=r(t,e)).length;null!=e&&o<i;)e=e[n(t[o++])];return o&&o==i?e:void 0}},function(e,t,o){e.exports=o(7)(144)},function(e,t,o){(function(e,t){!function(e,o){"use strict";if(!e.setImmediate){var r,n,i,a,u,l=1,s={},c=!1,p=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){h(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,o=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=o,t}}()?(a="setImmediate$"+Math.random()+"$",u=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&h(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",u,!1):e.attachEvent("onmessage",u),r=function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){h(e.data)},r=function(e){i.port2.postMessage(e)}):p&&"onreadystatechange"in p.createElement("script")?(n=p.documentElement,r=function(e){var t=p.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,n.removeChild(t),t=null},n.appendChild(t)}):r=function(e){setTimeout(h,0,e)},f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),o=0;o<t.length;o++)t[o]=arguments[o+1];var n={callback:e,args:t};return s[l]=n,r(l),l++},f.clearImmediate=d}function d(e){delete s[e]}function h(e){if(c)setTimeout(h,0,e);else{var t=s[e];if(t){c=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(o,r)}}(t)}finally{d(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,o(68),o(208))},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var r,n=(r=o(5))&&r.__esModule?r:{default:r},i=new n.default.Attributor.Class("size","ql-size",{scope:n.default.Scope.INLINE,whitelist:["small","large","huge"]}),a=new n.default.Attributor.Style("size","font-size",{scope:n.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=i,t.SizeStyle=a},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var r,n=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),i=(r=o(5))&&r.__esModule?r:{default:r},a={scope:i.default.Scope.INLINE,whitelist:["serif","monospace"]},u=new i.default.Attributor.Class("font","ql-font",a),l=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Attributor.Style),n(t,[{key:"value",value:function(e){return function e(t,o,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,o);if(void 0===n){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,r)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}())("font","font-family",a);t.FontStyle=l,t.FontClass=u},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var r,n=(r=o(5))&&r.__esModule?r:{default:r},i={scope:n.default.Scope.BLOCK,whitelist:["rtl"]},a=new n.default.Attributor.Attribute("direction","dir",i),u=new n.default.Attributor.Class("direction","ql-direction",i),l=new n.default.Attributor.Style("direction","direction",i);t.DirectionAttribute=a,t.DirectionClass=u,t.DirectionStyle=l},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var r,n=(r=o(5))&&r.__esModule?r:{default:r},i=o(115),a=new n.default.Attributor.Class("background","ql-bg",{scope:n.default.Scope.INLINE}),u=new i.ColorAttributor("background","background-color",{scope:n.default.Scope.INLINE});t.BackgroundClass=a,t.BackgroundStyle=u},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var r,n=(r=o(5))&&r.__esModule?r:{default:r},i={scope:n.default.Scope.BLOCK,whitelist:["right","center","justify"]},a=new n.default.Attributor.Attribute("align","align",i),u=new n.default.Attributor.Class("align","ql-align",i),l=new n.default.Attributor.Style("align","text-align",i);t.AlignAttribute=a,t.AlignClass=u,t.AlignStyle=l},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],r=!0,n=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(o.push(a.value),!t||o.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(n)throw i}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),i=function e(t,o,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,o);if(void 0===n){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,r)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(r):void 0},a=d(o(5)),u=d(o(15)),l=o(16),s=d(l),c=d(o(46)),p=d(o(39)),f=d(o(29));function d(e){return e&&e.__esModule?e:{default:e}}function h(e){return e instanceof s.default||e instanceof l.BlockEmbed}var m=function(e){function t(e,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.emitter=o.emitter,Array.isArray(o.whitelist)&&(r.whitelist=o.whitelist.reduce(function(e,t){return e[t]=!0,e},{})),r.domNode.addEventListener("DOMNodeInserted",function(){}),r.optimize(),r.enable(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Scroll),n(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,o){var n=this.line(e),a=r(n,2),u=a[0],s=a[1],f=this.line(e+o),d=r(f,1)[0];if(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,o),null!=d&&u!==d&&s>0){if(u instanceof l.BlockEmbed||d instanceof l.BlockEmbed)return void this.optimize();if(u instanceof p.default){var h=u.newlineIndex(u.length(),!0);if(h>-1&&(u=u.split(h+1))===d)return void this.optimize()}else if(d instanceof p.default){var m=d.newlineIndex(0);m>-1&&d.split(m+1)}var g=d.children.head instanceof c.default?null:d.children.head;u.moveChildren(d,g),u.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,o,r,n){(null==this.whitelist||this.whitelist[r])&&(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,o,r,n),this.optimize())}},{key:"insertAt",value:function(e,o,r){if(null==r||null==this.whitelist||this.whitelist[o]){if(e>=this.length())if(null==r||null==a.default.query(o,a.default.Scope.BLOCK)){var n=a.default.create(this.statics.defaultChild);this.appendChild(n),null==r&&o.endsWith("\n")&&(o=o.slice(0,-1)),n.insertAt(0,o,r)}else{var u=a.default.create(o,r);this.appendChild(u)}else i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,o,r);this.optimize()}}},{key:"insertBefore",value:function(e,o){if(e.statics.scope===a.default.Scope.INLINE_BLOT){var r=a.default.create(this.statics.defaultChild);r.appendChild(e),e=r}i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,o)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(h,e)}},{key:"lines",value:function(){return function e(t,o,r){var n=[],i=r;return t.children.forEachAt(o,r,function(t,o,r){h(t)?n.push(t):t instanceof a.default.Container&&(n=n.concat(e(t,o,i))),i-=r}),n}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,o),e.length>0&&this.emitter.emit(u.default.events.SCROLL_OPTIMIZE,e,o))}},{key:"path",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var o=u.default.sources.USER;"string"==typeof e&&(o=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(u.default.events.SCROLL_BEFORE_UPDATE,o,e),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(u.default.events.SCROLL_UPDATE,o,e)}}}]),t}();m.blotName="scroll",m.className="ql-editor",m.tagName="DIV",m.defaultChild="block",m.allowedChildren=[s.default,l.BlockEmbed,f.default],t.default=m},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],r=!0,n=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(o.push(a.value),!t||o.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(n)throw i}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),i=s(o(5)),a=s(o(90)),u=s(o(55)),l=s(o(15));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=(0,s(o(54)).default)("quill:selection"),d=function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p(this,e),this.index=t,this.length=o},h=function(){function e(t,o){var r=this;p(this,e),this.emitter=o,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=i.default.create("cursor",this),this.lastRange=this.savedRange=new d(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){r.mouseDown||setTimeout(r.update.bind(r,l.default.sources.USER),1)}),this.emitter.on(l.default.events.EDITOR_CHANGE,function(e,t){e===l.default.events.TEXT_CHANGE&&t.length()>0&&r.update(l.default.sources.SILENT)}),this.emitter.on(l.default.events.SCROLL_BEFORE_UPDATE,function(){if(r.hasFocus()){var e=r.getNativeRange();null!=e&&e.start.node!==r.cursor.textNode&&r.emitter.once(l.default.events.SCROLL_UPDATE,function(){try{r.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(e){}})}}),this.emitter.on(l.default.events.SCROLL_OPTIMIZE,function(e,t){if(t.range){var o=t.range,n=o.startNode,i=o.startOffset,a=o.endNode,u=o.endOffset;r.setNativeRange(n,i,a,u)}}),this.update(l.default.sources.SILENT)}return n(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",function(){e.composing=!0}),this.root.addEventListener("compositionend",function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout(function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,function(){e.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){e.mouseDown=!1,e.update(l.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var o=this.getNativeRange();if(null!=o&&o.native.collapsed&&!i.default.query(e,i.default.Scope.BLOCK)){if(o.start.node!==this.cursor.textNode){var r=i.default.find(o.start.node,!1);if(null==r)return;if(r instanceof i.default.Leaf){var n=r.split(o.start.offset);r.parent.insertBefore(this.cursor,n)}else r.insertBefore(this.cursor,o.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this.scroll.length();e=Math.min(e,o-1),t=Math.min(e+t,o-1)-e;var n=void 0,i=this.scroll.leaf(e),a=r(i,2),u=a[0],l=a[1];if(null==u)return null;var s=u.position(l,!0),c=r(s,2);n=c[0],l=c[1];var p=document.createRange();if(t>0){p.setStart(n,l);var f=this.scroll.leaf(e+t),d=r(f,2);if(u=d[0],l=d[1],null==u)return null;var h=u.position(l,!0),m=r(h,2);return n=m[0],l=m[1],p.setEnd(n,l),p.getBoundingClientRect()}var g="left",y=void 0;return n instanceof Text?(l<n.data.length?(p.setStart(n,l),p.setEnd(n,l+1)):(p.setStart(n,l-1),p.setEnd(n,l),g="right"),y=p.getBoundingClientRect()):(y=u.domNode.getBoundingClientRect(),l>0&&(g="right")),{bottom:y.top+y.height,height:y.height,left:y[g],right:y[g],top:y.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var o=this.normalizeNative(t);return f.info("getNativeRange",o),o}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,o=[[e.start.node,e.start.offset]];e.native.collapsed||o.push([e.end.node,e.end.offset]);var n=o.map(function(e){var o=r(e,2),n=o[0],a=o[1],u=i.default.find(n,!0),l=u.offset(t.scroll);return 0===a?l:u instanceof i.default.Container?l+u.length():l+u.index(n,a)}),a=Math.min(Math.max.apply(Math,c(n)),this.scroll.length()-1),u=Math.min.apply(Math,[a].concat(c(n)));return new d(u,a-u)}},{key:"normalizeNative",value:function(e){if(!m(this.root,e.startContainer)||!e.collapsed&&!m(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(function(e){for(var t=e.node,o=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>o)t=t.childNodes[o],o=0;else{if(t.childNodes.length!==o)break;o=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=o}),t}},{key:"rangeToNative",value:function(e){var t=this,o=e.collapsed?[e.index]:[e.index,e.index+e.length],n=[],i=this.scroll.length();return o.forEach(function(e,o){e=Math.min(i-1,e);var a,u=t.scroll.leaf(e),l=r(u,2),s=l[0],c=l[1],p=s.position(c,0!==o),f=r(p,2);a=f[0],c=f[1],n.push(a,c)}),n.length<2&&(n=n.concat(n)),n}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var o=this.getBounds(t.index,t.length);if(null!=o){var n=this.scroll.length()-1,i=this.scroll.line(Math.min(t.index,n)),a=r(i,1)[0],u=a;if(t.length>0){var l=this.scroll.line(Math.min(t.index+t.length,n));u=r(l,1)[0]}if(null!=a&&null!=u){var s=e.getBoundingClientRect();o.top<s.top?e.scrollTop-=s.top-o.top:o.bottom>s.bottom&&(e.scrollTop+=o.bottom-s.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(f.info("setNativeRange",e,t,o,r),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=o.parentNode){var i=document.getSelection();if(null!=i)if(null!=e){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||n||e!==a.startContainer||t!==a.startOffset||o!==a.endContainer||r!==a.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==o.tagName&&(r=[].indexOf.call(o.parentNode.childNodes,o),o=o.parentNode);var u=document.createRange();u.setStart(e,t),u.setEnd(o,r),i.removeAllRanges(),i.addRange(u)}}else i.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"==typeof t&&(o=t,t=!1),f.info("setRange",e),null!=e){var r=this.rangeToNative(e);this.setNativeRange.apply(this,c(r).concat([t]))}else this.setNativeRange(null);this.update(o)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.lastRange,o=this.getRange(),n=r(o,2),i=n[0],s=n[1];if(this.lastRange=i,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,u.default)(t,this.lastRange)){var c;!this.composing&&null!=s&&s.native.collapsed&&s.start.node!==this.cursor.textNode&&this.cursor.restore();var p,f=[l.default.events.SELECTION_CHANGE,(0,a.default)(this.lastRange),(0,a.default)(t),e];(c=this.emitter).emit.apply(c,[l.default.events.EDITOR_CHANGE].concat(f)),e!==l.default.sources.SILENT&&(p=this.emitter).emit.apply(p,f)}}}]),e}();function m(e,t){try{t.parentNode}catch(e){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=d,t.default=h},function(e,t,o){"use strict";var r=Object.prototype.hasOwnProperty,n="~";function i(){}function a(e,t,o,r,i){if("function"!=typeof o)throw new TypeError("The listener must be a function");var a=new function(e,t,o){this.fn=e,this.context=t,this.once=o||!1}(o,r||e,i),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],a]:e._events[u].push(a):(e._events[u]=a,e._eventsCount++),e}function u(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function l(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),l.prototype.eventNames=function(){var e,t,o=[];if(0===this._eventsCount)return o;for(t in e=this._events)r.call(e,t)&&o.push(n?t.slice(1):t);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},l.prototype.listeners=function(e){var t=n?n+e:e,o=this._events[t];if(!o)return[];if(o.fn)return[o.fn];for(var r=0,i=o.length,a=new Array(i);r<i;r++)a[r]=o[r].fn;return a},l.prototype.listenerCount=function(e){var t=n?n+e:e,o=this._events[t];return o?o.fn?1:o.length:0},l.prototype.emit=function(e,t,o,r,i,a){var u=n?n+e:e;if(!this._events[u])return!1;var l,s,c=this._events[u],p=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),p){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,o),!0;case 4:return c.fn.call(c.context,t,o,r),!0;case 5:return c.fn.call(c.context,t,o,r,i),!0;case 6:return c.fn.call(c.context,t,o,r,i,a),!0}for(s=1,l=new Array(p-1);s<p;s++)l[s-1]=arguments[s];c.fn.apply(c.context,l)}else{var f,d=c.length;for(s=0;s<d;s++)switch(c[s].once&&this.removeListener(e,c[s].fn,void 0,!0),p){case 1:c[s].fn.call(c[s].context);break;case 2:c[s].fn.call(c[s].context,t);break;case 3:c[s].fn.call(c[s].context,t,o);break;case 4:c[s].fn.call(c[s].context,t,o,r);break;default:if(!l)for(f=1,l=new Array(p-1);f<p;f++)l[f-1]=arguments[f];c[s].fn.apply(c[s].context,l)}}return!0},l.prototype.on=function(e,t,o){return a(this,e,t,o,!1)},l.prototype.once=function(e,t,o){return a(this,e,t,o,!0)},l.prototype.removeListener=function(e,t,o,r){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return u(this,i),this;var a=this._events[i];if(a.fn)a.fn!==t||r&&!a.once||o&&a.context!==o||u(this,i);else{for(var l=0,s=[],c=a.length;l<c;l++)(a[l].fn!==t||r&&!a[l].once||o&&a[l].context!==o)&&s.push(a[l]);s.length?this._events[i]=1===s.length?s[0]:s:u(this,i)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&u(this,t)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l},function(e,t,o){e.exports=o(7)(107)},function(e,t){t.read=function(e,t,o,r,n){var i,a,u=8*n-r-1,l=(1<<u)-1,s=l>>1,c=-7,p=o?n-1:0,f=o?-1:1,d=e[t+p];for(p+=f,i=d&(1<<-c)-1,d>>=-c,c+=u;c>0;i=256*i+e[t+p],p+=f,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=r;c>0;a=256*a+e[t+p],p+=f,c-=8);if(0===i)i=1-s;else{if(i===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),i-=s}return(d?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,o,r,n,i){var a,u,l,s=8*i-n-1,c=(1<<s)-1,p=c>>1,f=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+p>=1?f/l:f*Math.pow(2,1-p))*l>=2&&(a++,l/=2),a+p>=c?(u=0,a=c):a+p>=1?(u=(t*l-1)*Math.pow(2,n),a+=p):(u=t*Math.pow(2,p-1)*Math.pow(2,n),a=0));n>=8;e[o+d]=255&u,d+=h,u/=256,n-=8);for(a=a<<n|u,s+=n;s>0;e[o+d]=255&a,d+=h,a/=256,s-=8);e[o+d-h]|=128*m}},function(e,t,o){"use strict";t.byteLength=function(e){var t=s(e),o=t[0],r=t[1];return 3*(o+r)/4-r},t.toByteArray=function(e){for(var t,o=s(e),r=o[0],a=o[1],u=new i(3*(r+a)/4-a),l=0,c=a>0?r-4:r,p=0;p<c;p+=4)t=n[e.charCodeAt(p)]<<18|n[e.charCodeAt(p+1)]<<12|n[e.charCodeAt(p+2)]<<6|n[e.charCodeAt(p+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===a&&(t=n[e.charCodeAt(p)]<<2|n[e.charCodeAt(p+1)]>>4,u[l++]=255&t),1===a&&(t=n[e.charCodeAt(p)]<<10|n[e.charCodeAt(p+1)]<<4|n[e.charCodeAt(p+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},t.fromByteArray=function(e){for(var t,o=e.length,n=o%3,i=[],a=0,u=o-n;a<u;a+=16383)i.push(c(e,a,a+16383>u?u:a+16383));return 1===n?(t=e[o-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===n&&(t=(e[o-2]<<8)+e[o-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),i.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,l=a.length;u<l;++u)r[u]=a[u],n[a.charCodeAt(u)]=u;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var o=e.indexOf("=");return-1===o&&(o=t),[o,o===t?0:4-o%4]}function c(e,t,o){for(var n,i,a=[],u=t;u<o;u+=3)n=(e[u]<<16&16711680)+(e[u+1]<<8&65280)+(255&e[u+2]),a.push(r[(i=n)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},function(e,t,o){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=o(220),n=o(219),i=o(218);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,o){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,o);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return p(this,e)}return s(this,e,t,o)}function s(e,t,o,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,o,r){if(t.byteLength,o<0||t.byteLength<o)throw new RangeError("'offset' is out of bounds");if(t.byteLength<o+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===o&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,o):new Uint8Array(t,o,r),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=f(e,t),e}(e,t,o,r):"string"==typeof t?function(e,t,o){if("string"==typeof o&&""!==o||(o="utf8"),!l.isEncoding(o))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,o),n=(e=u(e,r)).write(t,o);return n!==r&&(e=e.slice(0,n)),e}(e,t,o):function(e,t){if(l.isBuffer(t)){var o=0|d(t.length);return 0===(e=u(e,o)).length?e:(t.copy(e,0,0,o),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?u(e,0):f(e,t);if("Buffer"===t.type&&i(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function p(e,t){if(c(t),e=u(e,t<0?0:0|d(t)),!l.TYPED_ARRAY_SUPPORT)for(var o=0;o<t;++o)e[o]=0;return e}function f(e,t){var o=t.length<0?0:0|d(t.length);e=u(e,o);for(var r=0;r<o;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var o=e.length;if(0===o)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*o;case"hex":return o>>>1;case"base64":return F(e).length;default:if(r)return z(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,o){var r=e[t];e[t]=e[o],e[o]=r}function g(e,t,o,r,n){if(0===e.length)return-1;if("string"==typeof o?(r=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),o=+o,isNaN(o)&&(o=n?0:e.length-1),o<0&&(o=e.length+o),o>=e.length){if(n)return-1;o=e.length-1}else if(o<0){if(!n)return-1;o=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:y(e,t,o,r,n);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(e,t,o):Uint8Array.prototype.lastIndexOf.call(e,t,o):y(e,[t],o,r,n);throw new TypeError("val must be string, number or Buffer")}function y(e,t,o,r,n){var i,a=1,u=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,u/=2,l/=2,o/=2}function s(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(n){var c=-1;for(i=o;i<u;i++)if(s(e,i)===s(t,-1===c?0:i-c)){if(-1===c&&(c=i),i-c+1===l)return c*a}else-1!==c&&(i-=i-c),c=-1}else for(o+l>u&&(o=u-l),i=o;i>=0;i--){for(var p=!0,f=0;f<l;f++)if(s(e,i+f)!==s(t,f)){p=!1;break}if(p)return i}return-1}function v(e,t,o,r){o=Number(o)||0;var n=e.length-o;r?(r=Number(r))>n&&(r=n):r=n;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var u=parseInt(t.substr(2*a,2),16);if(isNaN(u))return a;e[o+a]=u}return a}function b(e,t,o,r){return U(z(t,e.length-o),e,o,r)}function j(e,t,o,r){return U(function(e){for(var t=[],o=0;o<e.length;++o)t.push(255&e.charCodeAt(o));return t}(t),e,o,r)}function _(e,t,o,r){return j(e,t,o,r)}function O(e,t,o,r){return U(F(t),e,o,r)}function S(e,t,o,r){return U(function(e,t){for(var o,r,n,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(o=e.charCodeAt(a))>>8,n=o%256,i.push(n),i.push(r);return i}(t,e.length-o),e,o,r)}function C(e,t,o){return 0===t&&o===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,o))}function w(e,t,o){o=Math.min(e.length,o);for(var r=[],n=t;n<o;){var i,a,u,l,s=e[n],c=null,p=s>239?4:s>223?3:s>191?2:1;if(n+p<=o)switch(p){case 1:s<128&&(c=s);break;case 2:128==(192&(i=e[n+1]))&&(l=(31&s)<<6|63&i)>127&&(c=l);break;case 3:i=e[n+1],a=e[n+2],128==(192&i)&&128==(192&a)&&(l=(15&s)<<12|(63&i)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:i=e[n+1],a=e[n+2],u=e[n+3],128==(192&i)&&128==(192&a)&&128==(192&u)&&(l=(15&s)<<18|(63&i)<<12|(63&a)<<6|63&u)>65535&&l<1114112&&(c=l)}null===c?(c=65533,p=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),n+=p}return function(e){var t=e.length;if(t<=E)return String.fromCharCode.apply(String,e);for(var o="",r=0;r<t;)o+=String.fromCharCode.apply(String,e.slice(r,r+=E));return o}(r)}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,o){return s(null,e,t,o)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,o){return function(e,t,o,r){return c(t),t<=0?u(e,t):void 0!==o?"string"==typeof r?u(e,t).fill(o,r):u(e,t).fill(o):u(e,t)}(null,e,t,o)},l.allocUnsafe=function(e){return p(null,e)},l.allocUnsafeSlow=function(e){return p(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var o=e.length,r=t.length,n=0,i=Math.min(o,r);n<i;++n)if(e[n]!==t[n]){o=e[n],r=t[n];break}return o<r?-1:r<o?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var o;if(void 0===t)for(t=0,o=0;o<e.length;++o)t+=e[o].length;var r=l.allocUnsafe(t),n=0;for(o=0;o<e.length;++o){var a=e[o];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,n),n+=a.length}return r},l.byteLength=h,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?w(this,0,e):function(e,t,o){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===o||o>this.length)&&(o=this.length),o<=0)return"";if((o>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,o);case"utf8":case"utf-8":return w(this,t,o);case"ascii":return x(this,t,o);case"latin1":case"binary":return L(this,t,o);case"base64":return C(this,t,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,o);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",o=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,o).match(/.{2}/g).join(" "),this.length>o&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,o,r,n){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===o&&(o=e?e.length:0),void 0===r&&(r=0),void 0===n&&(n=this.length),t<0||o>e.length||r<0||n>this.length)throw new RangeError("out of range index");if(r>=n&&t>=o)return 0;if(r>=n)return-1;if(t>=o)return 1;if(t>>>=0,o>>>=0,r>>>=0,n>>>=0,this===e)return 0;for(var i=n-r,a=o-t,u=Math.min(i,a),s=this.slice(r,n),c=e.slice(t,o),p=0;p<u;++p)if(s[p]!==c[p]){i=s[p],a=c[p];break}return i<a?-1:a<i?1:0},l.prototype.includes=function(e,t,o){return-1!==this.indexOf(e,t,o)},l.prototype.indexOf=function(e,t,o){return g(this,e,t,o,!0)},l.prototype.lastIndexOf=function(e,t,o){return g(this,e,t,o,!1)},l.prototype.write=function(e,t,o,r){if(void 0===t)r="utf8",o=this.length,t=0;else if(void 0===o&&"string"==typeof t)r=t,o=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(o)?(o|=0,void 0===r&&(r="utf8")):(r=o,o=void 0)}var n=this.length-t;if((void 0===o||o>n)&&(o=n),e.length>0&&(o<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return v(this,e,t,o);case"utf8":case"utf-8":return b(this,e,t,o);case"ascii":return j(this,e,t,o);case"latin1":case"binary":return _(this,e,t,o);case"base64":return O(this,e,t,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,o);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function x(e,t,o){var r="";o=Math.min(e.length,o);for(var n=t;n<o;++n)r+=String.fromCharCode(127&e[n]);return r}function L(e,t,o){var r="";o=Math.min(e.length,o);for(var n=t;n<o;++n)r+=String.fromCharCode(e[n]);return r}function k(e,t,o){var r=e.length;(!t||t<0)&&(t=0),(!o||o<0||o>r)&&(o=r);for(var n="",i=t;i<o;++i)n+=q(e[i]);return n}function N(e,t,o){for(var r=e.slice(t,o),n="",i=0;i<r.length;i+=2)n+=String.fromCharCode(r[i]+256*r[i+1]);return n}function A(e,t,o){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>o)throw new RangeError("Trying to access beyond buffer length")}function T(e,t,o,r,n,i){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<i)throw new RangeError('"value" argument is out of bounds');if(o+r>e.length)throw new RangeError("Index out of range")}function P(e,t,o,r){t<0&&(t=65535+t+1);for(var n=0,i=Math.min(e.length-o,2);n<i;++n)e[o+n]=(t&255<<8*(r?n:1-n))>>>8*(r?n:1-n)}function I(e,t,o,r){t<0&&(t=4294967295+t+1);for(var n=0,i=Math.min(e.length-o,4);n<i;++n)e[o+n]=t>>>8*(r?n:3-n)&255}function R(e,t,o,r,n,i){if(o+r>e.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("Index out of range")}function M(e,t,o,r,i){return i||R(e,0,o,4),n.write(e,t,o,r,23,4),o+4}function D(e,t,o,r,i){return i||R(e,0,o,8),n.write(e,t,o,r,52,8),o+8}l.prototype.slice=function(e,t){var o,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(o=this.subarray(e,t)).__proto__=l.prototype;else{var n=t-e;o=new l(n,void 0);for(var i=0;i<n;++i)o[i]=this[i+e]}return o},l.prototype.readUIntLE=function(e,t,o){e|=0,t|=0,o||A(e,t,this.length);for(var r=this[e],n=1,i=0;++i<t&&(n*=256);)r+=this[e+i]*n;return r},l.prototype.readUIntBE=function(e,t,o){e|=0,t|=0,o||A(e,t,this.length);for(var r=this[e+--t],n=1;t>0&&(n*=256);)r+=this[e+--t]*n;return r},l.prototype.readUInt8=function(e,t){return t||A(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||A(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||A(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,o){e|=0,t|=0,o||A(e,t,this.length);for(var r=this[e],n=1,i=0;++i<t&&(n*=256);)r+=this[e+i]*n;return r>=(n*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,o){e|=0,t|=0,o||A(e,t,this.length);for(var r=t,n=1,i=this[e+--r];r>0&&(n*=256);)i+=this[e+--r]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||A(e,2,this.length);var o=this[e]|this[e+1]<<8;return 32768&o?4294901760|o:o},l.prototype.readInt16BE=function(e,t){t||A(e,2,this.length);var o=this[e+1]|this[e]<<8;return 32768&o?4294901760|o:o},l.prototype.readInt32LE=function(e,t){return t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||A(e,4,this.length),n.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||A(e,4,this.length),n.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||A(e,8,this.length),n.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||A(e,8,this.length),n.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,o,r){e=+e,t|=0,o|=0,r||T(this,e,t,o,Math.pow(2,8*o)-1,0);var n=1,i=0;for(this[t]=255&e;++i<o&&(n*=256);)this[t+i]=e/n&255;return t+o},l.prototype.writeUIntBE=function(e,t,o,r){e=+e,t|=0,o|=0,r||T(this,e,t,o,Math.pow(2,8*o)-1,0);var n=o-1,i=1;for(this[t+n]=255&e;--n>=0&&(i*=256);)this[t+n]=e/i&255;return t+o},l.prototype.writeUInt8=function(e,t,o){return e=+e,t|=0,o||T(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,o){return e=+e,t|=0,o||T(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,o){return e=+e,t|=0,o||T(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,o){return e=+e,t|=0,o||T(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):I(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,o){return e=+e,t|=0,o||T(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,o,r){if(e=+e,t|=0,!r){var n=Math.pow(2,8*o-1);T(this,e,t,o,n-1,-n)}var i=0,a=1,u=0;for(this[t]=255&e;++i<o&&(a*=256);)e<0&&0===u&&0!==this[t+i-1]&&(u=1),this[t+i]=(e/a>>0)-u&255;return t+o},l.prototype.writeIntBE=function(e,t,o,r){if(e=+e,t|=0,!r){var n=Math.pow(2,8*o-1);T(this,e,t,o,n-1,-n)}var i=o-1,a=1,u=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===u&&0!==this[t+i+1]&&(u=1),this[t+i]=(e/a>>0)-u&255;return t+o},l.prototype.writeInt8=function(e,t,o){return e=+e,t|=0,o||T(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,o){return e=+e,t|=0,o||T(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,o){return e=+e,t|=0,o||T(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,o){return e=+e,t|=0,o||T(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):I(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,o){return e=+e,t|=0,o||T(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,o){return M(this,e,t,!0,o)},l.prototype.writeFloatBE=function(e,t,o){return M(this,e,t,!1,o)},l.prototype.writeDoubleLE=function(e,t,o){return D(this,e,t,!0,o)},l.prototype.writeDoubleBE=function(e,t,o){return D(this,e,t,!1,o)},l.prototype.copy=function(e,t,o,r){if(o||(o=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<o&&(r=o),r===o)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(o<0||o>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-o&&(r=e.length-t+o);var n,i=r-o;if(this===e&&o<t&&t<r)for(n=i-1;n>=0;--n)e[n+t]=this[n+o];else if(i<1e3||!l.TYPED_ARRAY_SUPPORT)for(n=0;n<i;++n)e[n+t]=this[n+o];else Uint8Array.prototype.set.call(e,this.subarray(o,o+i),t);return i},l.prototype.fill=function(e,t,o,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,o=this.length):"string"==typeof o&&(r=o,o=this.length),1===e.length){var n=e.charCodeAt(0);n<256&&(e=n)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<o)throw new RangeError("Out of range index");if(o<=t)return this;var i;if(t>>>=0,o=void 0===o?this.length:o>>>0,e||(e=0),"number"==typeof e)for(i=t;i<o;++i)this[i]=e;else{var a=l.isBuffer(e)?e:z(new l(e,r).toString()),u=a.length;for(i=0;i<o-t;++i)this[i+t]=a[i%u]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function q(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var o;t=t||1/0;for(var r=e.length,n=null,i=[],a=0;a<r;++a){if((o=e.charCodeAt(a))>55295&&o<57344){if(!n){if(o>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}n=o;continue}if(o<56320){(t-=3)>-1&&i.push(239,191,189),n=o;continue}o=65536+(n-55296<<10|o-56320)}else n&&(t-=3)>-1&&i.push(239,191,189);if(n=null,o<128){if((t-=1)<0)break;i.push(o)}else if(o<2048){if((t-=2)<0)break;i.push(o>>6|192,63&o|128)}else if(o<65536){if((t-=3)<0)break;i.push(o>>12|224,o>>6&63|128,63&o|128)}else{if(!(o<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}}return i}function F(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function U(e,t,o,r){for(var n=0;n<r&&!(n+o>=t.length||n>=e.length);++n)t[n+o]=e[n];return n}}).call(this,o(68))},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],r=!0,n=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(o.push(a.value),!t||o.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(n)throw i}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),a=y(o(14)),u=y(o(91)),l=y(o(5)),s=y(o(39)),c=y(o(70)),p=o(16),f=y(p),d=y(o(46)),h=y(o(90)),m=y(o(55)),g=y(o(38));function y(e){return e&&e.__esModule?e:{default:e}}var v=/^[ -~]*$/,b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return i(e,[{key:"applyDelta",value:function(e){var t=this,o=!1;this.scroll.update();var i=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce(function(e,t){if(1===t.insert){var o=(0,h.default)(t.attributes);return delete o.image,e.insert({image:t.attributes.image},o)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,h.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"==typeof t.insert){var r=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(r,t.attributes)}return e.push(t)},new a.default)}(e)).reduce(function(e,a){var s=a.retain||a.delete||a.insert.length||1,c=a.attributes||{};if(null!=a.insert){if("string"==typeof a.insert){var d=a.insert;d.endsWith("\n")&&o&&(o=!1,d=d.slice(0,-1)),e>=i&&!d.endsWith("\n")&&(o=!0),t.scroll.insertAt(e,d);var h=t.scroll.line(e),m=n(h,2),y=m[0],v=m[1],b=(0,g.default)({},(0,p.bubbleFormats)(y));if(y instanceof f.default){var j=y.descendant(l.default.Leaf,v),_=n(j,1)[0];b=(0,g.default)(b,(0,p.bubbleFormats)(_))}c=u.default.attributes.diff(b,c)||{}}else if("object"===r(a.insert)){var O=Object.keys(a.insert)[0];if(null==O)return e;t.scroll.insertAt(e,O,a.insert[O])}i+=s}return Object.keys(c).forEach(function(o){t.scroll.formatAt(e,s,o,c[o])}),e+s},0),e.reduce(function(e,o){return"number"==typeof o.delete?(t.scroll.deleteAt(e,o.delete),e):e+(o.retain||o.insert.length||1)},0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new a.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var o=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(r).forEach(function(n){if(null==o.scroll.whitelist||o.scroll.whitelist[n]){var i=o.scroll.lines(e,Math.max(t,1)),a=t;i.forEach(function(t){var i=t.length();if(t instanceof s.default){var u=e-t.offset(o.scroll),l=t.newlineIndex(u+a)-u+1;t.formatAt(u,l,n,r[n])}else t.format(n,r[n]);a-=i})}}),this.scroll.optimize(),this.update((new a.default).retain(e).retain(t,(0,h.default)(r)))}},{key:"formatText",value:function(e,t){var o=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(r).forEach(function(n){o.scroll.formatAt(e,t,n,r[n])}),this.update((new a.default).retain(e).retain(t,(0,h.default)(r)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(e,t){return e.concat(t.delta())},new a.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=[],r=[];0===t?this.scroll.path(e).forEach(function(e){var t=n(e,1)[0];t instanceof f.default?o.push(t):t instanceof l.default.Leaf&&r.push(t)}):(o=this.scroll.lines(e,t),r=this.scroll.descendants(l.default.Leaf,e,t));var i=[o,r].map(function(e){if(0===e.length)return{};for(var t=(0,p.bubbleFormats)(e.shift());Object.keys(t).length>0;){var o=e.shift();if(null==o)return t;t=j((0,p.bubbleFormats)(o),t)}return t});return g.default.apply(g.default,i)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter(function(e){return"string"==typeof e.insert}).map(function(e){return e.insert}).join("")}},{key:"insertEmbed",value:function(e,t,o){return this.scroll.insertAt(e,t,o),this.update((new a.default).retain(e).insert(function(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}({},t,o)))}},{key:"insertText",value:function(e,t){var o=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(r).forEach(function(n){o.scroll.formatAt(e,t.length,n,r[n])}),this.update((new a.default).retain(e).insert(t,(0,h.default)(r)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===f.default.blotName&&!(e.children.length>1)&&e.children.head instanceof d.default}},{key:"removeFormat",value:function(e,t){var o=this.getText(e,t),r=this.scroll.line(e+t),i=n(r,2),u=i[0],l=i[1],c=0,p=new a.default;null!=u&&(c=u instanceof s.default?u.newlineIndex(l)-l+1:u.length()-l,p=u.delta().slice(l,l+c-1).insert("\n"));var f=this.getContents(e,t+c).diff((new a.default).insert(o).concat(p)),d=(new a.default).retain(e).concat(f);return this.applyDelta(d)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(v)&&l.default.find(t[0].target)){var n=l.default.find(t[0].target),i=(0,p.bubbleFormats)(n),u=n.offset(this.scroll),s=t[0].oldValue.replace(c.default.CONTENTS,""),f=(new a.default).insert(s),d=(new a.default).insert(n.value());e=(new a.default).retain(u).concat(f.diff(d,o)).reduce(function(e,t){return t.insert?e.insert(t.insert,i):e.push(t)},new a.default),this.delta=r.compose(e)}else this.delta=this.getDelta(),e&&(0,m.default)(r.compose(e),this.delta)||(e=r.diff(this.delta,o));return e}}]),e}();function j(e,t){return Object.keys(t).reduce(function(o,r){return null==e[r]?o:(t[r]===e[r]?o[r]=t[r]:Array.isArray(t[r])?t[r].indexOf(e[r])<0&&(o[r]=t[r].concat([e[r]])):o[r]=[t[r],e[r]],o)},{})}t.default=b},function(e,t){var o="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function n(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=o?r:n).supported=r,t.unsupported=n},function(e,t){function o(e){var t=[];for(var o in e)t.push(o);return t}(e.exports="function"==typeof Object.keys?Object.keys:o).shim=o},function(e,t){var o=-1,r=1,n=0;function i(e,t,s){if(e==t)return e?[[n,e]]:[];(s<0||e.length<s)&&(s=null);var p=u(e,t),f=e.substring(0,p);p=l(e=e.substring(p),t=t.substring(p));var d=e.substring(e.length-p),h=function(e,t){var s;if(!e)return[[r,t]];if(!t)return[[o,e]];var c=e.length>t.length?e:t,p=e.length>t.length?t:e,f=c.indexOf(p);if(-1!=f)return s=[[r,c.substring(0,f)],[n,p],[r,c.substring(f+p.length)]],e.length>t.length&&(s[0][0]=s[2][0]=o),s;if(1==p.length)return[[o,e],[r,t]];var d=function(e,t){var o=e.length>t.length?e:t,r=e.length>t.length?t:e;if(o.length<4||2*r.length<o.length)return null;function n(e,t,o){for(var r,n,i,a,s=e.substring(o,o+Math.floor(e.length/4)),c=-1,p="";-1!=(c=t.indexOf(s,c+1));){var f=u(e.substring(o),t.substring(c)),d=l(e.substring(0,o),t.substring(0,c));p.length<d+f&&(p=t.substring(c-d,c)+t.substring(c,c+f),r=e.substring(0,o-d),n=e.substring(o+f),i=t.substring(0,c-d),a=t.substring(c+f))}return 2*p.length>=e.length?[r,n,i,a,p]:null}var i,a,s,c,p,f=n(o,r,Math.ceil(o.length/4)),d=n(o,r,Math.ceil(o.length/2));return f||d?(i=d?f&&f[4].length>d[4].length?f:d:f,e.length>t.length?(a=i[0],s=i[1],c=i[2],p=i[3]):(c=i[0],p=i[1],a=i[2],s=i[3]),[a,s,c,p,i[4]]):null}(e,t);if(d){var h=d[0],m=d[1],g=d[2],y=d[3],v=d[4],b=i(h,g),j=i(m,y);return b.concat([[n,v]],j)}return function(e,t){for(var n=e.length,i=t.length,u=Math.ceil((n+i)/2),l=u,s=2*u,c=new Array(s),p=new Array(s),f=0;f<s;f++)c[f]=-1,p[f]=-1;c[l+1]=0,p[l+1]=0;for(var d=n-i,h=d%2!=0,m=0,g=0,y=0,v=0,b=0;b<u;b++){for(var j=-b+m;j<=b-g;j+=2){for(var _=l+j,O=(x=j==-b||j!=b&&c[_-1]<c[_+1]?c[_+1]:c[_-1]+1)-j;x<n&&O<i&&e.charAt(x)==t.charAt(O);)x++,O++;if(c[_]=x,x>n)g+=2;else if(O>i)m+=2;else if(h){if((w=l+d-j)>=0&&w<s&&-1!=p[w]){var S=n-p[w];if(x>=S)return a(e,t,x,O)}}}for(var C=-b+y;C<=b-v;C+=2){for(var w=l+C,E=(S=C==-b||C!=b&&p[w-1]<p[w+1]?p[w+1]:p[w-1]+1)-C;S<n&&E<i&&e.charAt(n-S-1)==t.charAt(i-E-1);)S++,E++;if(p[w]=S,S>n)v+=2;else if(E>i)y+=2;else if(!h){if((_=l+d-C)>=0&&_<s&&-1!=c[_]){var x=c[_];O=l+x-_;if(x>=(S=n-S))return a(e,t,x,O)}}}}return[[o,e],[r,t]]}(e,t)}(e=e.substring(0,e.length-p),t=t.substring(0,t.length-p));return f&&h.unshift([n,f]),d&&h.push([n,d]),function e(t){t.push([n,""]);for(var i,a=0,s=0,c=0,p="",f="";a<t.length;)switch(t[a][0]){case r:c++,f+=t[a][1],a++;break;case o:s++,p+=t[a][1],a++;break;case n:s+c>1?(0!==s&&0!==c&&(0!==(i=u(f,p))&&(a-s-c>0&&t[a-s-c-1][0]==n?t[a-s-c-1][1]+=f.substring(0,i):(t.splice(0,0,[n,f.substring(0,i)]),a++),f=f.substring(i),p=p.substring(i)),0!==(i=l(f,p))&&(t[a][1]=f.substring(f.length-i)+t[a][1],f=f.substring(0,f.length-i),p=p.substring(0,p.length-i))),0===s?t.splice(a-c,s+c,[r,f]):0===c?t.splice(a-s,s+c,[o,p]):t.splice(a-s-c,s+c,[o,p],[r,f]),a=a-s-c+(s?1:0)+(c?1:0)+1):0!==a&&t[a-1][0]==n?(t[a-1][1]+=t[a][1],t.splice(a,1)):a++,c=0,s=0,p="",f=""}""===t[t.length-1][1]&&t.pop();var d=!1;for(a=1;a<t.length-1;)t[a-1][0]==n&&t[a+1][0]==n&&(t[a][1].substring(t[a][1].length-t[a-1][1].length)==t[a-1][1]?(t[a][1]=t[a-1][1]+t[a][1].substring(0,t[a][1].length-t[a-1][1].length),t[a+1][1]=t[a-1][1]+t[a+1][1],t.splice(a-1,1),d=!0):t[a][1].substring(0,t[a+1][1].length)==t[a+1][1]&&(t[a-1][1]+=t[a+1][1],t[a][1]=t[a][1].substring(t[a+1][1].length)+t[a+1][1],t.splice(a+1,1),d=!0)),a++;d&&e(t)}(h),null!=s&&(h=function(e,t){var r=function(e,t){if(0===t)return[n,e];for(var r=0,i=0;i<e.length;i++){var a=e[i];if(a[0]===o||a[0]===n){var u=r+a[1].length;if(t===u)return[i+1,e];if(t<u){e=e.slice();var l=t-r,s=[a[0],a[1].slice(0,l)],c=[a[0],a[1].slice(l)];return e.splice(i,1,s,c),[i+1,e]}r=u}}throw new Error("cursor_pos is out of bounds!")}(e,t),i=r[1],a=r[0],u=i[a],l=i[a+1];if(null==u)return e;if(u[0]!==n)return e;if(null!=l&&u[1]+l[1]===l[1]+u[1])return i.splice(a,2,l,u),c(i,a,2);if(null!=l&&0===l[1].indexOf(u[1])){i.splice(a,2,[l[0],u[1]],[0,u[1]]);var s=l[1].slice(u[1].length);return s.length>0&&i.splice(a+2,0,[l[0],s]),c(i,a,3)}return e}(h,s)),function(e){for(var t=!1,i=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},a=2;a<e.length;a+=1)e[a-2][0]===n&&(u=e[a-2][1]).charCodeAt(u.length-1)>=55296&&u.charCodeAt(u.length-1)<=56319&&e[a-1][0]===o&&i(e[a-1][1])&&e[a][0]===r&&i(e[a][1])&&(t=!0,e[a-1][1]=e[a-2][1].slice(-1)+e[a-1][1],e[a][1]=e[a-2][1].slice(-1)+e[a][1],e[a-2][1]=e[a-2][1].slice(0,-1));var u;if(!t)return e;var l=[];for(a=0;a<e.length;a+=1)e[a][1].length>0&&l.push(e[a]);return l}(h)}function a(e,t,o,r){var n=e.substring(0,o),a=t.substring(0,r),u=e.substring(o),l=t.substring(r),s=i(n,a),c=i(u,l);return s.concat(c)}function u(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var o=0,r=Math.min(e.length,t.length),n=r,i=0;o<n;)e.substring(i,n)==t.substring(i,n)?i=o=n:r=n,n=Math.floor((r-o)/2+o);return n}function l(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var o=0,r=Math.min(e.length,t.length),n=r,i=0;o<n;)e.substring(e.length-n,e.length-i)==t.substring(t.length-n,t.length-i)?i=o=n:r=n,n=Math.floor((r-o)/2+o);return n}var s=i;function c(e,t,o){for(var r=t+o-1;r>=0&&r>=t-1;r--)if(r+1<e.length){var n=e[r],i=e[r+1];n[0]===i[1]&&e.splice(r,2,[n[0],n[1]+i[1]])}return e}s.INSERT=r,s.DELETE=o,s.EQUAL=n,e.exports=s},function(e,t,o){"use strict";var r=document.createElement("div");if(r.classList.toggle("test-class",!1),r.classList.contains("test-class")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)==!t?t:n.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var o=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>o.length)&&(t=o.length),t-=e.length;var r=o.indexOf(e,t);return-1!==r&&r===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,o=Object(this),r=o.length>>>0,n=arguments[1],i=0;i<r;i++)if(t=o[i],e.call(n,t,i,o))return t}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(e,t,o){"use strict";(function(e){function r(t){var o;o="undefined"!=typeof window?window:"undefined"!=typeof self?self:e;var r,n,i="undefined"!=typeof document&&document.attachEvent;if(!i){var a=(n=o.requestAnimationFrame||o.mozRequestAnimationFrame||o.webkitRequestAnimationFrame||function(e){return o.setTimeout(e,20)},function(e){return n(e)}),u=(r=o.cancelAnimationFrame||o.mozCancelAnimationFrame||o.webkitCancelAnimationFrame||o.clearTimeout,function(e){return r(e)}),l=function(e){var t=e.__resizeTriggers__,o=t.firstElementChild,r=t.lastElementChild,n=o.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,n.style.width=o.offsetWidth+1+"px",n.style.height=o.offsetHeight+1+"px",o.scrollLeft=o.scrollWidth,o.scrollTop=o.scrollHeight},s=function(e){if(!(e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;l(this),this.__resizeRAF__&&u(this.__resizeRAF__),this.__resizeRAF__=a(function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach(function(o){o.call(t,e)}))})}},c=!1,p="",f="animationstart",d="Webkit Moz O ms".split(" "),h="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),m=document.createElement("fakeelement");if(void 0!==m.style.animationName&&(c=!0),!1===c)for(var g=0;g<d.length;g++)if(void 0!==m.style[d[g]+"AnimationName"]){p="-"+d[g].toLowerCase()+"-",f=h[g],c=!0;break}var y="resizeanim",v="@"+p+"keyframes "+y+" { from { opacity: 0; } to { opacity: 0; } } ",b=p+"animation: 1ms "+y+"; "}return{addResizeListener:function(e,r){if(i)e.attachEvent("onresize",r);else{if(!e.__resizeTriggers__){var n=e.ownerDocument,a=o.getComputedStyle(e);a&&"static"==a.position&&(e.style.position="relative"),function(e){if(!e.getElementById("detectElementResize")){var o=(v||"")+".resize-triggers { "+(b||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',r=e.head||e.getElementsByTagName("head")[0],n=e.createElement("style");n.id="detectElementResize",n.type="text/css",null!=t&&n.setAttribute("nonce",t),n.styleSheet?n.styleSheet.cssText=o:n.appendChild(e.createTextNode(o)),r.appendChild(n)}}(n),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=n.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),l(e),e.addEventListener("scroll",s,!0),f&&(e.__resizeTriggers__.__animationListener__=function(t){t.animationName==y&&l(e)},e.__resizeTriggers__.addEventListener(f,e.__resizeTriggers__.__animationListener__))}e.__resizeListeners__.push(r)}},removeResizeListener:function(e,t){if(i)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",s,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(f,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}o.d(t,"a",function(){return r})}).call(this,o(68))}]);
//# sourceMappingURL=rich-editor-app.min.js.map